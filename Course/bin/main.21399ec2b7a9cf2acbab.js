/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 16);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* no static exports found */
/* all exports used */
/*!******************************************!*\
  !*** ./Course/src/module/init_module.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.sceneManager = exports.observer = exports.messageCenter = undefined;\nexports.setViewCenter = setViewCenter;\n\nvar _messageCenter = __webpack_require__(/*! ./com/messageCenter */ 33);\n\nvar _observer = __webpack_require__(/*! ./com/observer */ 34);\n\nvar _sceneManager = __webpack_require__(/*! ./com/sceneManager */ 35);\n\nvar _room = __webpack_require__(/*! ../mainscene/room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// 进房间\nfunction enterRoom(messageCenter) {\n    var roomscene = _room2.default.getInstance(messageCenter);\n\n    // 直接进房间\n    if (sceneManager.currentScene !== roomscene) {\n        sceneManager.loadScene(roomscene);\n    }\n}\n\n// 错误信息处理\nfunction conError(data) {\n    switch (Number(data.res.code)) {\n        // 异地登陆\n        case 1003:\n            var reload = function reload() {\n                window.location.reload();\n            };\n\n            // 断开连接\n            messageCenter.disconnectSocket();\n\n            // 提示弹层\n            observer.publish('common::tips', '异地登录，请刷新页面', reload, reload);\n\n            break;\n    }\n}\n\n// 模块初始化\n\n\n// 通信\nvar messageCenter = exports.messageCenter = new _messageCenter.MessageCenterModule();\n\n// 绑定消息\nmessageCenter.initAction = function () {\n    var _this = this;\n\n    //一切请求等待首次连接后在发出 \n    this.registerAction(\"conn::init\", function () {\n        // 进房间\n        enterRoom(_this);\n    });\n\n    // 连接错误信息处理\n    this.registerAction('conn::error', function (data) {\n        conError(data);\n    });\n};\n\n// 场景切换的观察者\nvar observer = exports.observer = new _observer.ObserverModule();\n\n// 场景切换\nvar sceneManager = exports.sceneManager = new _sceneManager.SceneManagerModule();\n\n// 设置视图居中\nfunction setViewCenter() {\n    var _height = Laya.stage.height;\n    var currentView = sceneManager.currentScene;\n    if (currentView) {\n        currentView.height = _height;\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21vZHVsZS9pbml0X21vZHVsZS5qcz8wZGJiIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgTWVzc2FnZUNlbnRlck1vZHVsZSB9IGZyb20gJy4vY29tL21lc3NhZ2VDZW50ZXInO1xuaW1wb3J0IHsgT2JzZXJ2ZXJNb2R1bGUgfSBmcm9tICcuL2NvbS9vYnNlcnZlcic7XG5pbXBvcnQgeyBTY2VuZU1hbmFnZXJNb2R1bGUgfSBmcm9tICcuL2NvbS9zY2VuZU1hbmFnZXInO1xuXG5pbXBvcnQgUm9vbVNjZW5lIGZyb20gJy4uL21haW5zY2VuZS9yb29tJztcblxuLy8g6L+b5oi/6Ze0XG5mdW5jdGlvbiBlbnRlclJvb20obWVzc2FnZUNlbnRlcikge1xuICAgIGxldCByb29tc2NlbmUgPSBSb29tU2NlbmUuZ2V0SW5zdGFuY2UobWVzc2FnZUNlbnRlcik7XG4gICAgXG4gICAgLy8g55u05o6l6L+b5oi/6Ze0XG4gICAgaWYoc2NlbmVNYW5hZ2VyLmN1cnJlbnRTY2VuZSAhPT0gcm9vbXNjZW5lKXtcbiAgICAgICAgc2NlbmVNYW5hZ2VyLmxvYWRTY2VuZShyb29tc2NlbmUpO1xuICAgIH1cbn1cblxuLy8g6ZSZ6K+v5L+h5oGv5aSE55CGXG5mdW5jdGlvbiBjb25FcnJvcihkYXRhKSB7XG4gICAgc3dpdGNoIChOdW1iZXIoZGF0YS5yZXMuY29kZSkpIHtcbiAgICAgICAgLy8g5byC5Zyw55m76ZmGXG4gICAgICAgIGNhc2UgMTAwMzpcbiAgICAgICAgICAgIGxldCByZWxvYWQgPSAoKSA9PiB7IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSB9O1xuXG4gICAgICAgICAgICAvLyDmlq3lvIDov57mjqVcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZGlzY29ubmVjdFNvY2tldCgpOyAgICAgICAgXG5cbiAgICAgICAgICAgIC8vIOaPkOekuuW8ueWxglxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnY29tbW9uOjp0aXBzJywgJ+W8guWcsOeZu+W9le+8jOivt+WIt+aWsOmhtemdoicsIHJlbG9hZCwgcmVsb2FkKTtcblxuICAgICAgICAgICAgYnJlYWs7ICAgICAgIFxuICAgIH1cbn1cblxuLy8g5qih5Z2X5Yid5aeL5YyWXG5cblxuLy8g6YCa5L+hXG5leHBvcnQgY29uc3QgbWVzc2FnZUNlbnRlciA9IG5ldyBNZXNzYWdlQ2VudGVyTW9kdWxlKCk7XG5cbi8vIOe7keWumua2iOaBr1xubWVzc2FnZUNlbnRlci5pbml0QWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy/kuIDliIfor7fmsYLnrYnlvoXpppbmrKHov57mjqXlkI7lnKjlj5Hlh7ogXG4gICAgdGhpcy5yZWdpc3RlckFjdGlvbihcImNvbm46OmluaXRcIiwgKCkgPT4ge1xuICAgICAgICAvLyDov5vmiL/pl7RcbiAgICAgICAgZW50ZXJSb29tKHRoaXMpO1xuXG4gICAgfSk7XG5cbiAgICAvLyDov57mjqXplJnor6/kv6Hmga/lpITnkIZcbiAgICB0aGlzLnJlZ2lzdGVyQWN0aW9uKCdjb25uOjplcnJvcicsIChkYXRhKSA9PiB7XG4gICAgICAgIGNvbkVycm9yKGRhdGEpO1xuXG4gICAgfSk7XG59XG5cbi8vIOWcuuaZr+WIh+aNoueahOinguWvn+iAhVxuZXhwb3J0IGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyTW9kdWxlKCk7XG5cbi8vIOWcuuaZr+WIh+aNolxuZXhwb3J0IGNvbnN0IHNjZW5lTWFuYWdlciA9IG5ldyBTY2VuZU1hbmFnZXJNb2R1bGUoKTtcblxuLy8g6K6+572u6KeG5Zu+5bGF5LitXG5leHBvcnQgZnVuY3Rpb24gc2V0Vmlld0NlbnRlcigpIHtcbiAgICBsZXQgX2hlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xuICAgIGxldCBjdXJyZW50VmlldyA9IHNjZW5lTWFuYWdlci5jdXJyZW50U2NlbmU7XG4gICAgaWYgKGN1cnJlbnRWaWV3KSB7XG4gICAgICAgIGN1cnJlbnRWaWV3LmhlaWdodCA9IF9oZWlnaHQ7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvbW9kdWxlL2luaXRfbW9kdWxlLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUErREE7QUFDQTtBQS9EQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./Course/src/mainscene/room.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../module/init_module */ 0);\n\nvar _laya = __webpack_require__(/*! ../module/com/laya.custom */ 2);\n\nvar _loading = __webpack_require__(/*! ./loading */ 3);\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nvar _page = __webpack_require__(/*! ./element/page */ 26);\n\nvar _page2 = _interopRequireDefault(_page);\n\nvar _menu = __webpack_require__(/*! ./element/menu */ 24);\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _countDown = __webpack_require__(/*! ./element/countDown */ 23);\n\nvar _countDown2 = _interopRequireDefault(_countDown);\n\nvar _bulletView = __webpack_require__(/*! ./element/bulletView */ 21);\n\nvar _bulletView2 = _interopRequireDefault(_bulletView);\n\nvar _audioIcon = __webpack_require__(/*! ./media/audioIcon */ 8);\n\nvar _audioIcon2 = _interopRequireDefault(_audioIcon);\n\nvar _vedioIcon = __webpack_require__(/*! ./media/vedioIcon */ 32);\n\nvar _vedioIcon2 = _interopRequireDefault(_vedioIcon);\n\nvar _mousePass = __webpack_require__(/*! ./Events/mousePass */ 17);\n\nvar _mousePass2 = _interopRequireDefault(_mousePass);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @param {*liujiaojiao}\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *roomscene  舞台\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar RoomScene = function (_Laya$Sprite) {\n    _inherits(RoomScene, _Laya$Sprite);\n\n    function RoomScene() {\n        _classCallCheck(this, RoomScene);\n\n        var _this = _possibleConstructorReturn(this, (RoomScene.__proto__ || Object.getPrototypeOf(RoomScene)).call(this));\n\n        _this.sceneName = 'roomScene';\n        _this.pagebox = null; //页面box\n        _this.btnLeft = null; //上一页按钮\n        _this.btnRight = null; //下一页按钮\n        _this.pageNum = 0; //页面默认值\n        _this.cancel = null; //上一步\n        _this.btnNext = null; //下一步\n        _this.menu = null; //菜单栏按钮\n        _this.bottom = null; //底部\n        _this.answerBtn = null; //答题按钮\n        _this.answering = true; //终止答题\n        _this.listlength = null; //菜单栏length     \n        _this.countTimer = null; //倒计时\n        _this.skeleton_ = null; //过场动画\n        _this.countUI = null; //倒计时UI\n        _this.next = true; //判断是否是切下一页\n        _this.oldbox = null; //过场动画存储上一页\n        _this.oldMenuItem = null; //menu中上一次选中元素\n        _this.creatmenuFlag = false; //菜单栏在设置页码第一次 为flase\n        _this.bgMusic = null;\n        _this.trueNum = 0; //答对题目的学生个数\n        _this.bulletpan = null; //子弹面板\n        _this.allStuState = []; //答题过程中答对学生的数组，内部记录学生对象存放答对题目的次数\n        _this.bulletViewData = []; //每次学生答题后放入数组\n        _this.stuIDs = []; //所有在教室内的学生id和nickname\n        _this.rightStu = []; //临时数组记录当前答题过程中答对的学生ID\n        _this.auditorStus = []; //旁听生数组\n        _this.auditorTrueNum = 0; //旁听生答对个数\n        _this.allAuditorStuState = []; //答题过程中答对旁听生的数组，内部记录旁听生对象存放答对题目的次数\n        _this.stepOuts = []; //答题过程中掉线学生\n        _this.closeCanLeft = null;\n        _this.closeCanRight = null;\n        _this.answerFinsihLengths = []; //数组内存放对应学生的 当前答对题目的长度\n        _this.mouseStat = false; // true为按下 false为抬起\n        _this.pageDone = false; //page是否加载完成\n        _this.bullentViewRights = []; //bulletView中 取得数据中对的学生\n        _this.pageAnswwerall = []; //存放当前页所有的答题过程\n        _this.pageName = null; //上一页的名字\n        _this.dest = []; //答题面板中的数据数组\n        _this.audioItem = null;\n        _this.figureMoveWithItem = null; //点击小手指\n        _this.curpageNum = null;\n        _this.mouseP = null; //鼠标传递类\n        _this.vedioBtn = null; //页面视频icon   \n        _this.mousePos = new Laya.Point(0, 0); //鼠标位置\n        _this.Sounduration = null; //存放声音\n        _this.startani = null; //开始暂停动画\n        _this.answerFinishFlag = false;\n        _this.changeroleStudentId = null; //切换视角的id\n        _this.ElementIndex = 0; //1v6学生答题次数\n        _this.init(_init_module.messageCenter);\n        RoomScene.instance = _this;\n        return _this;\n    }\n\n    _createClass(RoomScene, [{\n        key: 'init',\n        value: function init(messageCenter) {\n            var _this2 = this;\n\n            this.size(Laya.stage.width, Laya.stage.height);\n            _init_module.observer.subscribe(this.sceneName + \"_enter\", this.onEnter.bind(this));\n            //断线停止倒计时\n            _init_module.observer.subscribe('countDownTimeStat', this.countDownTimeStat.bind(this));\n            //画板提示\n            _init_module.observer.subscribe('canvasStat', this.canvasStatHandler.bind(this));\n            //监听学生进入和离开\n            _init_module.observer.subscribe('stuIdChange', this.stuIdChangeHandler.bind(this));\n            //设置页码\n            _init_module.observer.subscribe('Page', this.setPageHandler.bind(this));\n            //答题开始\n            _init_module.observer.subscribe(\"answerStart\", this.startAnswer.bind(this));\n            //答题结束\n            _init_module.observer.subscribe(\"answerFinish\", this.answerFinish.bind(this));\n            //子弹面板数据\n            _init_module.observer.subscribe(\"bulletView\", this.initbulletView.bind(this));\n            //mousemove函数监听\n            _init_module.observer.subscribe('mousemove', this.getMouseMove.bind(this));\n            // 当前答题状态\n            _init_module.observer.subscribe('getAnswerState', this.getAnswerState.bind(this));\n            //当前答题数据\n            _init_module.observer.subscribe('getAnswerList', this.getAnswerList.bind(this));\n            //切换视角\n            _init_module.observer.subscribe('changeRole', this.changeRole.bind(this));\n\n            //添加鼠标传递函数\n            this.mouseP = new _mousePass2.default();\n            this.addChild(this.mouseP);\n\n            Laya.stage.on(Laya.Event.MOUSE_DOWN, this, function () {\n                _this2.mouseStat = true;\n            });\n\n            Laya.stage.on(Laya.Event.MOUSE_UP, this, function () {\n                _this2.mouseStat = false;\n            });\n\n            Laya.stage.on(Laya.Event.MOUSE_OUT, this, function () {\n                _this2.mouseStat = false;\n            });\n\n            // 初始化页面按钮\n            this.buttonInit();\n            //初始化翻页按钮\n            this.leftrightBtnInit();\n            // 初始化画板浮层\n            this.canvasPanelInit();\n            //给老师绑定事件\n            if (GM.role === 0) {\n                this.btnEvent();\n            }\n            //创建子弹面板\n            if (GM.classMode === \"1v1\") {\n                this.bottom.buttetBtn.visible = false;\n            } else {\n                this.creatBulletPanel();\n            }\n        }\n\n        /**\n         * 左右翻页按钮以及按钮move事件\n         *\n         */\n\n    }, {\n        key: 'leftrightBtnInit',\n        value: function leftrightBtnInit() {\n            //添加左右翻页按钮\n            var btnLeft = new Laya.Image('res/commonn/last_page_light.png');\n            btnLeft.size(72, 72);\n            btnLeft.anchorX = 0.5;\n            btnLeft.anchorY = 0.5;\n            btnLeft.y = Laya.stage.height / 2;\n            btnLeft.left = 20;\n            this.btnLeft = btnLeft;\n\n            var btnRight = new Laya.Image('res/commonn/next_page_light.png');\n            btnRight.size(72, 72);\n            btnRight.anchorX = 0.5;\n            btnRight.anchorY = 0.5;\n            btnRight.y = Laya.stage.height / 2;\n            btnRight.right = 20;\n            this.btnRight = btnRight;\n\n            this.btnRight.gray = true;\n            this.btnRight.alpha = 0.4;\n            this.btnRight.on(Laya.Event.MOUSE_OVER, this, this.btnChange, [this.btnRight]);\n            this.btnRight.on(Laya.Event.MOUSE_OUT, this, this.btnChange, [this.btnRight]);\n\n            this.btnLeft.gray = true;\n            this.btnLeft.alpha = 0.4;\n            this.btnLeft.on(Laya.Event.MOUSE_OVER, this, this.btnChange, [this.btnLeft]);\n            this.btnLeft.on(Laya.Event.MOUSE_OUT, this, this.btnChange, [this.btnLeft]);\n        }\n\n        /**\n         * \n         * 画板浮层初始化\n         */\n\n    }, {\n        key: 'canvasPanelInit',\n        value: function canvasPanelInit() {\n            //添加画板浮层\n            this.closeCanRight = new canvasbgUI();\n            this.closeCanRight.y = Laya.stage.height / 2;\n            this.closeCanRight.right = 10;\n\n            this.closeCanLeft = new canvasbgUI();\n            this.closeCanLeft.y = Laya.stage.height / 2;\n            this.closeCanLeft.left = 10;\n        }\n\n        /**\n         * 初始化页面其他button\n         *\n         */\n\n    }, {\n        key: 'buttonInit',\n        value: function buttonInit() {\n            //初始化头部\n            this.btnTop = new Laya.Image('res/commonn/menu0.png');\n            this.btnTop.size(96, 96);\n            this.btnTop.pos(5, 10);\n            //初始化bottom\n            this.bottom = new window.bottomUI();\n            this.cancel = this.bottom.btnCancel;\n            this.btnNext = this.bottom.btnNext;\n            this.answerBtn = this.bottom.answerBtn;\n            this.bottom.bottom = 0;\n            this.bottom.x = 0;\n            this.bottom.centerX = 0;\n            //默认隐藏页面视频按钮   \n            this.vedioBtn = new vedioBtnUI();\n            this.vedioBtn.right = 100;\n            this.vedioBtn.top = 50;\n            this.addChild(this.vedioBtn);\n            this.vedioBtn.visible = false;\n            // 初始化页面视频控件 \n            this.videoObj = new _vedioIcon2.default();\n            //初始化点击小手\n            this.figureMoveWithItem = new Laya.Image('res/commonn/xscz_ydxs_01.png');\n            this.figureMoveWithItem.visible = false;\n            this.addChild(this.figureMoveWithItem);\n            //添加移动的手，默认隐藏\n            this.mouseFiger = new Laya.Image(\"res/commonn/stuhands.png\");\n            this.mouseFiger.scale(0.3, 0.3);\n            this.addChild(this.mouseFiger);\n            this.mouseFiger.visible = false;\n            // this.mouseFiger.anchorX = 0.5;this.mouseFiger.anchorY = 0.5;\n        }\n\n        /**\n         * 鼠标移动接收处理函数\n         *\n         */\n\n    }, {\n        key: 'getMouseMove',\n        value: function getMouseMove(data) {\n            var _this3 = this;\n\n            //第一次进入显示小手，并转移位置\n            if (!this.mouseFiger.visible) {\n                this.mouseFiger.pos(data.x, data.y);\n                this.mouseFiger.visible = true;\n            } else {\n                (function () {\n                    //移动小手\n                    //(x1 - x2)平方 + (y1 - y2)平方  最后开根号\n                    var num = parseInt(Math.sqrt(Math.pow(data.x - _this3.mouseFiger.x, 2) + Math.pow(data.y - _this3.mouseFiger.y, 2)) / 5);\n\n                    //舍弃起点位置，到达终点位置\n\n                    var _loop = function _loop(i) {\n                        Laya.timer.once(1 * i, _this3, function () {\n                            var x = (data.x * i + _this3.mouseFiger.x * (num - i)) / num;\n                            var y = (data.y * i + _this3.mouseFiger.y * (num - i)) / num;\n                            _this3.mouseFiger.pos(x, y);\n                        });\n                    };\n\n                    for (var i = 1; i <= num; i++) {\n                        _loop(i);\n                    }\n                })();\n            }\n        }\n\n        /**\n         * 创建菜单栏目\n         * \n        */\n\n    }, {\n        key: 'creatmenu',\n        value: function creatmenu() {\n            var jsonArr = [];\n            for (var i in GM.LIBRARY) {\n                jsonArr.push(GM.LIBRARY[i]);\n            }\n            this.listlength = jsonArr.length;\n            this.menu = new _menu2.default(jsonArr);\n            this.addChild(this.menu);\n            this.menu.cacheAs = \"normal\";\n            this.menu.visible = false;\n        }\n\n        /**\n         * 添加声音icon\n         */\n\n    }, {\n        key: 'creatIcon',\n        value: function creatIcon(HasAutoPrompt, url, id) {\n            this.audioItem = new _audioIcon2.default(null, url, null, id);\n            this.addChild(this.audioItem);\n            this.audioItem.visible = false;\n            if (HasAutoPrompt) {\n                this.audioItem.type = 1;\n                this.audioItem.playAudio(url, id);\n            }\n            if (GM.role === 0) {\n                this.audioItem.visible = true;\n            }\n        }\n\n        /**\n        * 创建子弹面板\n        */\n\n    }, {\n        key: 'creatBulletPanel',\n        value: function creatBulletPanel() {\n            this.bulletpan = new _bulletView2.default();\n            this.bulletpan.visible = false;\n            this.addChild(this.bulletpan);\n        }\n\n        /**\n         *  点击事件\n        */\n\n    }, {\n        key: 'btnEvent',\n        value: function btnEvent() {\n            var _this4 = this;\n\n            if (GM.role == 0) {\n                this.addChildren(this.btnLeft, this.btnRight, this.bottom, this.btnTop, this.menu, this.closeCanRight, this.closeCanLeft);\n                this.closeCanRight.visible = false;\n                this.closeCanLeft.visible = false;\n            }\n            Laya.stage.on(Laya.Event.MOUSE_MOVE, this, function () {\n                var mous = new Laya.Point(Laya.stage.mouseX, Laya.stage.mouseY);\n                // console.log(this.mousePos.distance(mous.x,mous.y));\n                if (_this4.mousePos.distance(mous.x, mous.y) > 10) {\n                    _this4.mousePos = mous;\n                    //传送数据\n                    // console.log(\"传输位置\");\n                    //GM.role 0 为老师 判断一下\n                    _init_module.messageCenter.emit(\"mousemove\", { sendId: GM.senderId, role: GM.role, x: _this4.mousePos.x, y: _this4.mousePos.y });\n                }\n            });\n            //上一页\n            this.btnLeft.on(Laya.Event.CLICK, this, function () {\n                var i = _this4.pageNum - 1;\n                if (_this4.nextJujed(i)) return;\n                if (!GM.IsToken) {\n                    _init_module.messageCenter.emit('newpage', { page: i, senderId: GM.senderId });\n                }\n                _init_module.messageCenter.emit('setPage', { page: i, senderId: GM.senderId });\n                _init_module.observer.publish('Page', { page: i });\n            });\n            //下一页\n            this.btnRight.on(Laya.Event.CLICK, this, function () {\n                //判断下一元素按钮是否禁用\n                if (_this4.btnNext.disabled === true) {\n                    _this4.nextPageTurn(_this4);\n                } else {\n                    _init_module.observer.publish(\"nextpage\", { func: _this4.nextPageTurn, type: _this4 });\n                }\n            });\n\n            // 上一步\n            this.cancel.on(Laya.Event.CLICK, this, function () {\n                if (_this4.pagebox.OperationIndex === 0) {\n                    _this4.cancel.disabled = true;\n                    return;\n                }\n                _init_module.observer.publish('updateStep', { opt: 'undo' });\n                _init_module.messageCenter.emit('updateStep', { senderId: GM.senderId, opt: 'undo' });\n            });\n\n            // 下一步\n            this.btnNext.on(Laya.Event.CLICK, this, function () {\n                _init_module.observer.publish('updateStep', { opt: 'next' });\n                _init_module.messageCenter.emit('updateStep', { senderId: GM.senderId, opt: 'next' });\n            });\n\n            this.btnTop.on(Laya.Event.CLICK, this, function () {\n                if (_this4.menu) {\n                    if (_this4.menu.visible) {\n                        _this4.menu.visible = false;\n                        _this4.btnTop.skin = 'res/commonn/menu0.png';\n                    } else {\n                        _this4.menu.visible = true;\n                        _this4.btnTop.skin = 'res/commonn/menu1.png';\n                    }\n                }\n            });\n\n            this.answerBtn.on(Laya.Event.CLICK, this, function () {\n                if (_this4.pagebox.targetTypelength === 0 && !_this4.pagebox.puzzleFlag) return;\n                if (!_this4.answering) {\n                    console.log(\"暂停答题\");\n                    _this4.answering = true;\n                    _this4.changeAnswerBtn('start');\n                    _init_module.observer.publish('answerStart', { senderId: GM.senderId, type: \"pause\", role: 0, timer: _this4.countTimer, teachArray: _this4.pagebox.answerArray });\n                    _init_module.messageCenter.emit(\"answerPause\", { senderId: GM.senderId, page: _this4.pageNum, type: \"pause\", role: 0, timer: _this4.countTimer, teachArray: _this4.pagebox.answerArray });\n                } else {\n                    console.log(\"开始答题\");\n                    //    if(GM.classMode === \"1v6\"  || GM.classMode === \"1v1\" || GM.flag == 0){\n                    //给讲师端发送全部答题\n                    _init_module.messageCenter.emit(\"reanswer\");\n                    //提取学生\n                    _this4.answerForStu(0);\n                    //直接所有学生全部答题\n                    var tempArr = [].concat(_toConsumableArray(GM.stuNum), _toConsumableArray(_this4.auditorStus));\n                    if (tempArr.length > 0 || GM.flag == 0) {\n                        _this4.answering = false;\n                        _this4.changeAnswerBtn('pause');\n                        _init_module.observer.publish('answerStart', { senderId: GM.senderId, page: _this4.pageNum, type: \"open\", role: 1, timer: _this4.countTimer, answerIds: tempArr, teachArray: _this4.pagebox.answerArray });\n                        _init_module.messageCenter.emit(\"answerStart\", { senderId: GM.senderId, type: \"open\", role: 1, timer: _this4.countTimer, answerIds: tempArr, teachArray: _this4.pagebox.answerArray });\n                    } else {\n                        //弹出文案 没有学生在线\n                        _init_module.observer.publish('techtip');\n                    }\n                }\n            });\n\n            //子弹面板\n            this.bottom.buttetBtn.on(Laya.Event.CLICK, this, function () {\n                if (_this4.bulletpan.visible) {\n                    _this4.bulletpan.closeTime();\n                } else {\n                    _this4.bulletpan.showtime();\n                }\n            });\n            // 刷新\n            this.bottom.resetBtn.on(Laya.Event.CLICK, this, function () {\n                _init_module.observer.publish('Page', { page: _this4.pageNum });\n                if (!GM.IsToken) {\n                    _init_module.messageCenter.emit('newpage', { page: _this4.pageNum, senderId: GM.senderId });\n                }\n                _init_module.messageCenter.emit('setPage', { page: _this4.pageNum, senderId: GM.senderId });\n                _init_module.messageCenter.emit('answerRefresh', { page: _this4.pageNum, senderId: GM.senderId });\n            });\n\n            // 页面视频点击事件  \n            this.vedioBtn.on(Laya.Event.CLICK, this, function () {\n                if (_this4.pagebox.CourseVideoURL != null) {\n                    _this4.videoObj.init(_this4.pagebox.CourseVideoURL);\n                }\n            });\n\n            //声音控制按钮\n            this.bottom.bgsoundBtn.on(Laya.Event.CLICK, this, function () {\n                if (_this4.bottom.bgsoundBtn.index === 1) {\n                    Laya.SoundManager.musicMuted = true;\n                    _init_module.messageCenter.emit(\"optStart\", { type: \"bgMusic\", statu: \"close\", senderId: GM.senderId, url: _this4.url });\n                    _this4.bottom.bgsoundBtn.index = 0;\n                } else {\n                    _this4.bottom.bgsoundBtn.index = 1;\n                    Laya.SoundManager.musicMuted = false;\n                    if (_this4.pagebox && _this4.pagebox.bgmAudio) {\n                        _init_module.messageCenter.emit(\"optStart\", { type: \"bgMusic\", statu: \"open\", senderId: GM.senderId, url: _this4.url });\n                        Laya.SoundManager.playMusic(_this4.pagebox.bgmAudio);\n                    }\n                }\n            });\n        }\n\n        /**\n         * 开始答题\n         */\n\n    }, {\n        key: 'startAnswer',\n        value: function startAnswer(data) {\n            //解绑当前所有事件\n            this.pagebox.timeOutFrameLoopEvent(true);\n            // 添加动画\n            this.addstartAnimation(data.type);\n            if (data.type === \"open\") {\n                // 1v1模式下答题中学生audio按钮可见\n                if (GM.role === 1 && this.audioItem && GM.classMode === \"1v1\") {\n                    this.audioItem.visible = data.type;\n                }\n\n                //将答对学生个数置为0\n                this.trueNum = 0;\n                this.auditorTrueNum = 0;\n                //清空所有学生答题状态\n                this.allStuState = [];\n                this.allAuditorStuState = [];\n                //禁用上一元素下一元素\n                this.cancel.disabled = true;\n                this.btnNext.disabled = true;\n            } else if (data.type === \"pause\") {\n                //上一元素下一元素判断状态                 \n                this.pagebox.jujedButtondisable();\n                if (GM.classMode === \"1v6\" && GM.role === 1) {\n                    this.pauseHandler(data);\n                }\n            }\n\n            // 开放角色权限  \n            if (GM.role === data.role) {\n                this.pagebox.pictureEvent();\n            }\n        }\n\n        /**\n         * \n         * 开始答题和暂停动画以及倒计时动画\n         */\n\n    }, {\n        key: 'addstartAnimation',\n        value: function addstartAnimation(data) {\n            var _this5 = this;\n\n            // 开始答题和暂停动画      \n            if (data === \"open\") {\n                this.startani = new _laya.createSkeleton('res/newani/dabans');\n                this.startani.pos(Laya.stage.width / 2, Laya.stage.height / 2);\n                Laya.SoundManager.playSound(\"sound/ready.mp3\");\n                this.startani.on(Laya.Event.STOPPED, this, this.stopAnimation);\n            } else if (data === \"pause\") {\n                Laya.SoundManager.playSound(\"sound/newsound/pause.mp3\");\n                this.startani = new _laya.createSkeleton('res/newani/stop');\n                this.startani.scale(0.5, 0.5);\n                this.startani.pos(100, 1000);\n                Laya.Tween.to(this.startani, { y: 780 }, 500, Laya.Ease.circIn, Laya.Handler.create(this, function () {\n                    Laya.Tween.to(_this5.startani, { y: 780 }, 1500, Laya.Ease.linearIn, Laya.Handler.create(_this5, function () {\n                        Laya.Tween.to(_this5.startani, { y: 1000 }, 500, Laya.Ease.linearIn, Laya.Handler.create(_this5, function () {\n                            _this5.stopAnimation();\n                        }), 0, true);\n                    }), 0, true);\n                }), 0, true);\n            }\n\n            this.addChild(this.startani);\n            this.startani.play(0, false);\n            this.bottom.answerBtn.disabled = true;\n\n            //倒计时\n            if (this.countUI) {\n                this.countUI.destroy();\n            }\n            // if(data.timer > 0){\n            this.countUI = new _countDown2.default(data.timer);\n            this.addChild(this.countUI);\n            // }\n\n        }\n\n        /**\n         * 销毁开始和暂停动画\n         */\n\n    }, {\n        key: 'stopAnimation',\n        value: function stopAnimation() {\n            this.bottom.answerBtn.disabled = false;\n            this.removeChild(this.startani);\n            this.startani.destroy();\n            this.startani = null;\n        }\n\n        /**\n         * 1v6暂停模式 \n         */\n\n    }, {\n        key: 'pauseHandler',\n        value: function pauseHandler(data) {\n            //讲师点击“暂停答题”后，已答对学生的排名框消失，所有学生的页面会与讲师当前页面的答题步骤同步\n            console.log(\"老师答题数据\", data.teachArray);\n            //发送关闭答题结束弹层\n            _init_module.messageCenter.emit(\"rankView\", { stat: \"Close\", time: 0 });\n            //解绑老师操作\n            this.pagebox.timeOutFrameLoopEvent();\n            //解绑所有event、画线、粒子等元素\n            this.pagebox.returnitems();\n            this.pagebox.unEvents();\n            //将所有可动的元素归还原位\n            this.pagebox.resetState();\n            //1v6清除index\n            this.pagebox.answerparamreset();\n            //重现老师步骤\n            if (data.teachArray && data.teachArray.length > 0) {\n                for (var i in data.teachArray) {\n                    this.answerOneToOne(data.teachArray[i]);\n                }\n            }\n        }\n\n        /**\n         *  断线时停止倒计时和音效播放\n        */\n\n    }, {\n        key: 'countDownTimeStat',\n        value: function countDownTimeStat(type) {\n            if (this.countUI) {\n                if (this.countUI.countDownValue > 0) {\n                    if (type == \"on\") {\n                        this.countUI.timeContinue();\n                    } else {\n                        this.countUI.timeStop();\n                    }\n                }\n            }\n        }\n\n        /**\n        * 画板提示按钮状态\n        */\n\n    }, {\n        key: 'canvasStatHandler',\n        value: function canvasStatHandler(data) {\n            if (data == \"open\") {\n                this.closeCanRight.visible = true;\n                this.closeCanLeft.visible = true;\n            } else {\n                this.closeCanRight.visible = false;\n                this.closeCanLeft.visible = false;\n            }\n        }\n\n        /*\n         学生进入和离开时的ID和nickname修改\n        */\n\n    }, {\n        key: 'stuIdChangeHandler',\n        value: function stuIdChangeHandler(data) {\n            if (data.type === 0) {\n                //要清除学生的身份\n                var clearRole = void 0;\n                // 判断data.role  如果是学生 提取this.stuIDs 所有的旁听生  再重新加入学生\n                if (data.role == \"student\") {\n                    clearRole = \"0\";\n                } else {\n                    clearRole = \"1\";\n                }\n                var tempstus = [];\n                for (var k in this.stuIDs) {\n                    if (this.stuIDs[k].roleType != clearRole) {\n                        //只保留另外一部分学生\n                        tempstus.push(this.stuIDs[k]);\n                    }\n                }\n                this.stuIDs = tempstus;\n                //加入学生\n                for (var i in data.res) {\n                    if (data.res[i].role == \"teacher\" || data.res[i].c == 0) {\n                        //直接进入下一次循环，排除老师自己\n                        continue;\n                    }\n                    //roleType 0为学生  1为旁听生\n                    var roleT = data.res[i].role == \"student\" ? \"0\" : \"1\";\n                    var da = {\n                        id: data.res[i].senderId,\n                        nickName: data.res[i].name,\n                        roleType: roleT\n                    };\n                    //存入id和nickname\n                    this.stuIDs.push(da);\n                }\n\n                if (GM.role == 0) {\n                    //请求当前页的数据\n                    _init_module.messageCenter.emit(\"bulletView\", { senderId: GM.senderId, page: this.pageNum });\n                }\n            } else {\n                //删除学生\n                for (var _i in data.res) {\n                    for (var j in this.stuIDs) {\n                        if (this.stuIDs[j].id === data.res[_i].senderId) {\n                            this.stuIDs.splice(j, 1);\n                            //内循环进来一次后，就可以退出内循环，进入下次外循环\n                            break;\n                        }\n                    }\n                }\n                //答题过程中判断是学生还是旁听生，然后对应从数组中删除，再刷新答题状态\n                for (var _i2 in data.res) {\n                    var temps = [];\n                    if (data.res[_i2].role == \"student\") {\n                        temps = GM.stuNum;\n                    } else {\n                        temps = this.auditorStus;\n                    }\n                    for (var _j in temps) {\n                        if (temps[_j].id === data.res[_i2].senderId) {\n                            //记录掉线学生\n                            //this.stepOuts.push(temps[j]);\n                            temps.splice(_j, 1);\n                            // this.refreshStat(\"off\");\n                            //内循环进来一次后，就可以退出内循环，进入下次外循环\n                            break;\n                        }\n                    }\n                }\n                //确认在线学生\n                this.confirmBullentInfo(false);\n            }\n            this.answerForStu(0);\n        }\n\n        /**\n         * 监听设置页码回调\n        */\n\n    }, {\n        key: 'setPageHandler',\n        value: function setPageHandler(data) {\n            // if(GM.flag != 0){\n            //      //相同页面不处理\n            //     if(Number(data.page)>0 &&　Number(data.page) === this.pageNum){\n            //         return;\n            //     }\n            // }\n            // 存放课后报告数据\n            if (GM.role === 1) {\n                this.afterreportData();\n            }\n            //一轮答题未结束\n            if (this.pagebox) {\n                if (!this.answerFinishFlag && GM.role === 1 && this.pagebox.sendFeedArr.length > 0) {\n                    // 结束答题和倒计时结束发送log告知答题过程          \n                    RoomScene.getInstance().pagebox.sendFeedLog(-1, null, this.pagebox.sendFeedArr);\n                }\n            }\n\n            // 存放上一页的pageName以及pageNum\n            this.curpageNum = this.pageNum;\n            this.pageName = GM.LIBRARY[this.pageNum].Name;\n            this.resetPageElement(data);\n            //第一次初始化菜单栏\n            if (!this.creatmenuFlag) {\n                this.creatmenu();\n                this.creatmenuFlag = true;\n            }\n            //存放页码   \n            this.pageNum = Number(data.page);\n            // 给web端备课界面传输hash页码\n            location.hash = Number(data.page);\n            // 页面大于最后一页则重置为最后一页\n            if (this.pageNum >= GM.LIBRARY.length) {\n                this.pageNum = GM.LIBRARY.length - 1;\n                _init_module.messageCenter.emit('setPage', { senderId: GM.senderId, page: this.pageNum });\n            }\n            // 存放倒计时时间\n            if (GM.LIBRARY[this.pageNum]) {\n                this.countTimer = GM.LIBRARY[this.pageNum].Timer;\n            }\n\n            // 实例化page      \n            this.pagebox = new _page2.default(GM.LIBRARY[this.pageNum]);\n            // 判断是否有圆柱体正方体\n            this.findMode(GM.LIBRARY[this.pageNum]);\n            // 修改菜单页码\n            _init_module.observer.publish(\"bgcolor\", this.pageNum);\n            this.addChild(this.pagebox);\n            this.setChildIndex(this.pagebox, 0);\n            //1v1学生切页面发送上一页面的答题结果      \n            if (GM.role === 1) {\n                if (this.pageAnswwerall.length > 0) {\n                    this.anserResult();\n                }\n            }\n        }\n\n        /**\n         * 页面重置\n         */\n\n    }, {\n        key: 'resetPageElement',\n        value: function resetPageElement(data) {\n            _init_module.observer.publish('clearanimation');\n            //停止所有声音但是不包括背景音乐\n            Laya.SoundManager.stopAllSound();\n            //特殊圆柱体和正方体清除\n            if (this.sceneMode) {\n                this.closeSquareMode();\n            }\n            // 声音按钮销毁\n            if (this.audioItem) {\n                //observer.publish(\"stopAudio\");  \n                this.audioItem.destroy(true);\n                this.removeChild(this.audioItem);\n                this.audioItem = null;\n            }\n            //停止播放提示音\n            // if(this.pagebox){         \n            //     if(this.pagebox.Prompt != null || this.pagebox.elementAudio!= null){\n            //          observer.publish(\"stopAudio\"); \n            //     }        \n            // }\n\n            //答题记录清空\n            this.answerFinsihLengths = [];\n            //重置答题完成标志\n            this.answerFinishFlag = false;\n            this.trueNum = 0;\n            this.auditorTrueNum = 0;\n            //清空所有学生答题状态\n            this.allStuState = [];\n            this.allAuditorStuState = [];\n            //重置答题按钮初始状态\n            this.answering = true;\n            this.changeAnswerBtn('start');\n            //清空子弹面板的list\n            _init_module.observer.publish(\"diposeList\");\n            // 清除答对学生数据\n            if (GM.role == 0) {\n                this.rightStu = []; //切页清除答对学生数据\n                //发送关闭答题结束弹层\n                _init_module.messageCenter.emit(\"rankView\", { stat: \"Close\", time: 0 });\n                _init_module.messageCenter.emit(\"bulletView\", { senderId: GM.senderId, page: Number(data.page) });\n            }\n            // 重置菜单\n            if (this.creatmenuFlag) {\n                if (this.menu.visible) {\n                    this.menu.visible = false;\n                    this.btnTop.skin = 'res/commonn/menu0.png';\n                }\n            }\n            //重置子单面板\n            if (this.bulletpan) {\n                if (this.bulletpan.visible) {\n                    this.bulletpan.closeTime();\n                }\n            }\n            //销毁上一页\n            if (data.page - this.pageNum === 1) {\n                this.next = true;\n            } else {\n                this.next = false;\n            }\n\n            if (this.pagebox) {\n                this.pagebox.unSubscribe();\n                if (this.oldbox) {\n                    this.oldbox.dispose();\n                    this.oldbox = null;\n                }\n\n                if (this.next) {\n                    this.oldbox = this.pagebox;\n                    this.setChildIndex(this.oldbox, 0);\n                } else {\n                    this.pagebox.dispose();\n                }\n            } else {\n                //如果没有之前的pagebox存在，直接将next改为false。使得page中判断更简易\n                this.next = false;\n            }\n\n            //销毁倒计时\n            if (this.countUI) {\n                Laya.timer.clearAll(this.countUI);\n                this.removeChild(this.countUI);\n                this.countUI.destroy();\n                Laya.SoundManager.stopMusic(\"sound/answering.mp3\");\n            }\n        }\n\n        /**\n         * 切页存放课后报告数据\n         */\n\n    }, {\n        key: 'afterreportData',\n        value: function afterreportData() {\n            if (this.countUI && this.pagebox.sendFeedArr.length > 0 && this.pagebox.rightlength != this.pagebox.targetTypelength) {\n                if (this.countUI.countDownValue === 0) {\n                    this.pagebox.proloadHandler(-1, this.pagebox.sendFeedArr);\n                }\n            }\n        }\n\n        /**\n         *  特殊圆柱体和正方体 \n         */\n\n    }, {\n        key: 'findMode',\n        value: function findMode(list) {\n            for (var i in list.ElementList) {\n                if (list.ElementList[i].Name == \"Cube3D\") {\n                    this.creatSquareMode();\n                } else if (list.ElementList[i].Name == \"Cylinder3D\") {\n                    this.creatCylinderMode();\n                }\n            }\n        }\n\n        /**\n        * 切页子弹面板显示\n         */\n\n    }, {\n        key: 'initbulletView',\n        value: function initbulletView(data) {\n            // 切页时清除子弹面板存储数据\n            this.bulletViewData = [];\n            var newtext = void 0,\n                res = void 0;\n            if (data.length > 0) {\n                for (var i in data) {\n                    res = data[i] || [];\n                    // 使用时间大于0 说明是答题正确的\n                    if (data[i].usertime > 0) {\n                        newtext = \"全部答对\";\n                    } else {\n                        newtext = \"超时\";\n                    }\n                    res.progress.push({ senderId: res.senderId, roleType: res.roleType, nickName: res.nickName, eventType: \"\", startname: \"\", tagname: \"\", answerstate: \"\", allstate: newtext });\n                    //this.bulletViewData = res.progress;  \n                    this.bulletViewData = this.bulletViewData.concat(res.progress);\n                }\n                this.updataBullets(this.bulletViewData);\n            }\n        }\n\n        /**\n         * 左右翻页事件\n        */\n\n    }, {\n        key: 'btnChange',\n        value: function btnChange(obj, e) {\n            switch (e.type) {\n                case \"mouseover\":\n                    obj.gray = false;\n                    obj.alpha = 1;\n                    break;\n                case \"mouseout\":\n                    obj.gray = true;\n                    obj.alpha = 0.4;\n                    break;\n                default:\n                    console.log(\"出现一个神奇的错误，快去看看~乖\");\n                    break;\n            }\n        }\n\n        /**\n         * 答题结果处理(发送课后报告数据)\n         */\n\n    }, {\n        key: 'anserResult',\n        value: function anserResult() {\n            // 将数组第一个元素的值赋给max  \n            var max = this.pageAnswwerall[0].proload;\n            var time = this.pageAnswwerall[0].usertime;\n            for (var i = 0; i < this.pageAnswwerall.length; i++) {\n                // 如果元素当前值大于max,就把这个当前值赋值给max\n                if (this.pageAnswwerall[i].proload > max) {\n                    max = this.pageAnswwerall[i].proload;\n                    time = this.pageAnswwerall[i].usertime;\n                }\n            }\n\n            var data = {\n                pageNum: this.curpageNum,\n                pageName: this.pageName,\n                senderId: GM.senderId,\n                nickName: GM.nickName,\n                proload: max,\n                usertime: time\n            };\n            _init_module.messageCenter.emit(\"report\", data);\n            this.pageAnswwerall = [];\n        }\n\n        /**\n         * 替换答题按钮\n         */\n\n    }, {\n        key: 'changeAnswerBtn',\n        value: function changeAnswerBtn(type) {\n            if (type === 'start') {\n                this.bottom.answerBtn.skin = \"res/commonn/start_answer_select.png\";\n            } else if (type === 'pause') {\n                this.bottom.answerBtn.skin = \"res/commonn/start_answer_stop_s.png\";\n            } else if (type === 'finish') {\n                this.bottom.answerBtn.skin = \"res/commonn/start_answer_select.png\";\n                this.answerFinishFlag = true;\n                this.answerBtn.disabled = true;\n                //解绑老师操作\n                this.pagebox.timeOutFrameLoopEvent(true);\n                //将默认状态设置为暂停  但受到次指令不做操作\n                _init_module.messageCenter.emit(\"answerPause\", { senderId: GM.senderId, page: this.pageNum, type: \"pause\", role: 0, timer: this.countTimer, teachArray: this.pagebox.answerArray, endingType: \"ending\" });\n            }\n        }\n\n        /**\n         *  next 判断下一元素按钮是否禁用\n        */\n\n    }, {\n        key: 'nextPageTurn',\n        value: function nextPageTurn(type) {\n            var i = type.pageNum + 1;\n            if (type.nextJujed(i)) return;\n            if (!GM.IsToken) {\n                _init_module.messageCenter.emit('newpage', { page: i, senderId: GM.senderId });\n            }\n            _init_module.messageCenter.emit('setPage', { senderId: GM.senderId, page: i });\n            _init_module.observer.publish('Page', { page: i });\n        }\n\n        /**\n         *  判断是否最后一页\n        */\n\n    }, {\n        key: 'nextJujed',\n        value: function nextJujed(pageNum) {\n            if (pageNum < 0) {\n                this.pageNum = 0;\n                return true;\n            } else if (pageNum >= this.listlength) {\n                this.pageNum = this.listlength - 1;\n                return true;\n            }\n        }\n\n        /**\n         *  1v6 学生答题时 提取出id和nickname值存放于GM.stuNum\n        */\n\n    }, {\n        key: 'answerForStu',\n        value: function answerForStu(type) {\n            //清空\n            this.rightStu = [];\n            //type 0为全部，1为答错部分\n            //掉线学生数组\n            //this.stepOuts = [];\n            //学生数组\n            GM.stuNum = []; //所有答题过程中的学生\n            //旁听生数组\n            this.auditorStus = []; //所有答题过程中的旁听生数组\n            if (type === 0) {\n                // GM.stuNum =  this.stuIDs;//不能是引用复制，因为在答题过程中this.stuIDs内的值会变            \n                for (var i in this.stuIDs) {\n                    var data = {\n                        id: this.stuIDs[i].id,\n                        nickName: this.stuIDs[i].nickName,\n                        roleType: this.stuIDs[i].roleType\n                    };\n                    if (this.stuIDs[i].roleType === \"0\") {\n                        GM.stuNum.push(data);\n                    } else {\n                        this.auditorStus.push(data);\n                    }\n                }\n            }\n            //在开始答题时 传入1，来判断错误学生答题按钮是否置灰\n            else if (type === 1) {\n                    //去bulletview里面取数据\n                    for (var _i3 in this.bullentViewRights) {\n                        this.rightStu.push(this.bullentViewRights[_i3]);\n                    }\n\n                    for (var _i4 in this.stuIDs) {\n                        var stat = 0; //0为没有答对\n                        for (var j in this.rightStu) {\n                            if (this.rightStu[j] === this.stuIDs[_i4].id) {\n                                stat = 1;\n                                break;\n                            }\n                        }\n                        if (stat === 0) {\n                            var _data = {\n                                id: this.stuIDs[_i4].id,\n                                nickName: this.stuIDs[_i4].nickName\n                            };\n                            if (this.stuIDs[_i4].roleType === \"0\") {\n                                GM.stuNum.push(_data);\n                            } else {\n                                this.auditorStus.push(_data);\n                            }\n                        }\n                    }\n                    //如果为0 说明没有答错学生，则将答错学生开始答题按钮置灰\n                    if (GM.stuNum.length == 0) {\n                        return true;\n                    }\n                }\n            return false;\n        }\n\n        /**\n         *  每次答题结束\n        */\n\n    }, {\n        key: 'answerFinish',\n        value: function answerFinish(data) {\n            //超时命令一定是单条，答题过程不会包含answerstate = 2的情况 所以单独放外面\n            if (data.answerstate == 2 && GM.role === 1) {\n                if (!RoomScene.getInstance().pagebox.isWined && this.countUI) {\n                    this.countUI.countFinsh();\n                }\n            }\n\n            var once = false; //记录外循环是否已经进入一次\n            //判断答对次数和传过来的数组，如果相等退出循环\n            for (var i in data) {\n                //1v6学生端数据是其他学生时不用走进来\n                if (GM.classMode === \"1v6\" && GM.role === 1 && data[i].role === 1 && GM.senderId !== data[i].senderId) {\n                    break;\n                }\n                if (!once) {\n                    once = true;\n                    //判断当前学生是否有过记录\n                    var isHave = false;\n                    for (var j in this.answerFinsihLengths) {\n                        //j对应的是senderID\n                        if (j == data[i].senderId) {\n                            isHave = true;\n                            break;\n                        }\n                    }\n                    if (!isHave) {\n                        this.answerFinsihLengths[data[i].senderId] = 0;\n                    }\n                }\n\n                if (data.length <= this.answerFinsihLengths[data[i].senderId]) {\n                    break;\n                }\n                if (Number(i) < this.answerFinsihLengths[data[i].senderId]) {\n                    continue;\n                }\n                //排除了自己\n                if (GM.senderId != data[i].senderId && data[i].eventType) {\n                    //为了排除1v6中学生发finsh给老师时，不播放答对音效\n                    if (GM.classMode === \"1v1\" || GM.role === 0 && data[i].role === 1 && GM.classMode === \"1v6\" && !this.pagebox.puzzleFlag) {\n                        if (data[i].answerstate == 1) {\n                            Laya.SoundManager.playSound('sound/Events/smallErrorWithThing.mp3');\n                        } else {\n                            Laya.SoundManager.playSound('sound/Events/smallWin.mp3');\n                        }\n                    }\n                    this.answerFinsihLengths[data[i].senderId]++;\n                    //判断1v1还是1v6\n                    //是学生并且是1v6的时候，老师演示学生同步演示            \n                    if (GM.classMode === \"1v1\" || data[i].role === 0 && GM.classMode === \"1v6\") {\n                        this.answerOneToOne(data[i]);\n                    } else if (GM.classMode === \"1v6\" && GM.role === 0) {\n                        //等于3的时候是学生全部答对\n                        if (data[i].answerstate === 3) {\n                            this.answerChoseRoleType(data[i]);\n                        } else {\n                            //其他需要更新子弹面板\n                            if (data[i].nickName) {\n                                this.bulletViewData.push(data[i]);\n                                //更新子弹面板数据\n                                this.updataBullets(this.bulletViewData);\n                            }\n                        }\n                        // 1v6切换视角后如果当前答题学生等于切换视角学生id 则同步演示                  \n                        if (this.changeroleStudentId && data[i].senderId === this.changeroleStudentId) {\n                            this.answerOneToOne(data[i], \"changerole\");\n                        }\n                    }\n                    //this.answerOne(data[this.answerFinsihLength]);\n                }\n            }\n        }\n\n        /**\n         *  1v1的答题结束反馈 初始化答题数据init\n        */\n\n    }, {\n        key: 'answerOneToOne',\n        value: function answerOneToOne(data, init) {\n            var _this6 = this;\n\n            // let _childs = this.pagebox.pictureItem;\n            var startPostionobj = void 0,\n                tagobj = void 0,\n                startposX = void 0,\n                startposY = void 0,\n                obj = void 0,\n                TagEventList = void 0;\n            if (data.eventType == \"drop\") {\n                obj = this.findTagandItem(data);\n                startPostionobj = obj.startPostionobj;\n                tagobj = obj.tagobj;\n                startposX = Number(startPostionobj.Position.split(',')[0]) + startPostionobj.itemWidth / 2;\n                startposY = Number(startPostionobj.Position.split(',')[1]) + startPostionobj.itemHeight / 2;\n                this.pagebox.answerIndexChange(obj.startPostionobj);\n                this.figureMoveWithItem.visible = true;\n                this.figureMoveWithItem.pos(obj.startPostionobj.x, obj.startPostionobj.y);\n                if (data.answerstate == 0) {\n                    Laya.Tween.to(startPostionobj, { x: data.mouseUpPosX, y: data.mouseUpPosY }, 500, Laya.linearIn, Laya.Handler.create(this, function () {\n                        _this6.pagebox.listshiftfirst(tagobj, startPostionobj, data);\n                    }), 0, true);\n                    //手的移动\n                    Laya.Tween.to(this.figureMoveWithItem, { x: data.mouseUpPosX, y: data.mouseUpPosY }, 500, Laya.linearIn, Laya.Handler.create(this, function () {\n                        _this6.figureMoveWithItem.visible = false;\n                    }), 0, true);\n                } else if (data.answerstate == 1) {\n                    Laya.Tween.to(startPostionobj, { x: data.mouseUpPosX, y: data.mouseUpPosY }, 500, Laya.linearIn, Laya.Handler.create(this, function () {\n                        Laya.Tween.to(startPostionobj, { x: startposX, y: startposY }, 500, Laya.linearIn, null, 0, true);\n                    }), 0, true);\n                    //手的移动\n                    Laya.Tween.to(this.figureMoveWithItem, { x: data.mouseUpPosX, y: data.mouseUpPosY }, 500, Laya.linearIn, Laya.Handler.create(this, function () {\n                        Laya.Tween.to(_this6.figureMoveWithItem, { x: startposX, y: startposY }, 500, Laya.linearIn, Laya.Handler.create(_this6, function () {\n                            _this6.figureMoveWithItem.visible = false;\n                        }), 0, true);\n                    }), 0, true);\n                }\n            } else if (data.eventType == \"click\") {\n                obj = this.findTagandItem(data);\n                startPostionobj = obj.startPostionobj;\n                tagobj = obj.tagobj;\n                if (data.answerstate == 0) {\n                    // if(GM.classMode === \"1v6\"){\n                    //       this.figureMoveWithItem.visible = true;\n                    //       this.figureMoveWithItem.pos(obj.startPostionobj.x,obj.startPostionobj.y);\n                    // }    \n                    //答题正确，显示答题正确弹窗                                                  \n                    this.pagebox.listshiftfirst(tagobj, startPostionobj, data);\n                }\n            } else if (data.eventType == \"ligature\") {\n                obj = this.findTagandItem(data);\n                startPostionobj = obj.startPostionobj;\n                tagobj = obj.tagobj;\n                //画一条直线\n                var startpostionX = Number(startPostionobj.Position.split(',')[0]) + startPostionobj.itemWidth / 2;\n                var startpostionY = Number(startPostionobj.Position.split(',')[1]) + startPostionobj.itemHeight / 2;\n                var endpostionX = void 0,\n                    endpostionY = void 0;\n                if (tagobj) {\n                    endpostionX = Number(tagobj.Position.split(',')[0]) + tagobj.itemWidth / 2;\n                    endpostionY = Number(tagobj.Position.split(',')[1]) + tagobj.itemHeight / 2;\n                }\n                var ligatureTemp = new Laya.Sprite();\n                Laya.stage.addChild(ligatureTemp);\n                if (data.answerstate == 0) {\n                    if (tagobj.answertagArray.length > 0) {\n                        TagEventList = tagobj.answertagArray[0];\n                    };\n                    this.pagebox.listshiftfirst(tagobj, startPostionobj, data);\n                    this.pagebox.imageLigatures.push(ligatureTemp);\n                    ligatureTemp.graphics.drawLine(startpostionX, startpostionY, endpostionX, endpostionY, \"#8ccfd5\", 8);\n                    ligatureTemp.graphics.drawCircle(startpostionX, startpostionY, 10, \"#8ccfd5\");\n                    ligatureTemp.graphics.drawCircle(endpostionX, endpostionY, 10, \"#8ccfd5\");\n                } else if (data.answerstate == 1) {\n                    ligatureTemp.graphics.drawLine(startpostionX, startpostionY, data.mouseUpPosX, data.mouseUpPosY, \"#fccccc\", 8);\n                    ligatureTemp.graphics.drawCircle(startpostionX, startpostionY, 10, \"#fccccc\");\n                    ligatureTemp.graphics.drawCircle(data.mouseUpPosX, data.mouseUpPosY, 10, \"#fccccc\");\n                    Laya.timer.once(1000, this, function () {\n                        ligatureTemp.destroy();\n                    });\n                }\n            } else if (data.eventType == \"puzzle\") {\n                obj = this.findTagandItem(data);\n                startPostionobj = obj.startPostionobj;\n                if (data.tagname != null) {\n                    startPostionobj.rotation = data.tagname;\n                } else {\n                    Laya.Tween.to(startPostionobj, { x: data.mouseUpPosX, y: data.mouseUpPosY }, 500, null, 0, true);\n                }\n            }\n        }\n\n        /**\n         * 查找item和目标tag\n         */\n\n    }, {\n        key: 'findTagandItem',\n        value: function findTagandItem(data) {\n            var _childs = this.pagebox.pictureItem;\n            var startPostionobj = void 0,\n                tagobj = void 0,\n                startposX = void 0,\n                startposY = void 0;\n            for (var i = 0; i < _childs.length; i++) {\n                if (_childs[i].name == data.startname) {\n                    startPostionobj = _childs[i];\n                }\n                if (_childs[i].name == data.tagname) {\n                    if (data.tagname != \"背景\") {\n                        tagobj = _childs[i];\n                    }\n                }\n            }\n\n            var obj = { startPostionobj: startPostionobj, tagobj: tagobj };\n            return obj;\n        }\n\n        /**\n         *   1v6答题, 确认是学生还是旁听生，走不同的数组\n        */\n\n    }, {\n        key: 'answerChoseRoleType',\n        value: function answerChoseRoleType(data) {\n            //allState :  this.allStuState  || this.allAuditorStuState\n            //stus     :  GM.stuNum         || this.auditorStus\n            //trueNum  :  this.trueNum      || this.auditorTrueNum\n            if (data.roleType === \"0\") {\n                this.answerOneToSix(data, this.allStuState, GM.stuNum, this.trueNum);\n            } else {\n                this.answerOneToSix(data, this.allAuditorStuState, this.auditorStus, this.auditorTrueNum);\n            }\n        }\n\n        /**\n         *  1v6答题，学生答对的处理函数\n        */\n\n    }, {\n        key: 'answerOneToSix',\n        value: function answerOneToSix(data, allState, stus, trueNum) {\n            var statHave = false;\n            var studentAnswerstatu = void 0;\n            for (var j in allState) {\n                if (allState[j].senderId === data.senderId) {\n                    statHave = true;\n                    break;\n                }\n            }\n            //只有当前学生还没有存在于数组中时创建这个学生对象\n            if (!statHave) {\n                var stuObj = {\n                    senderId: data.senderId\n                };\n                allState.push(stuObj);\n            }\n\n            for (var i in allState) {\n                //如果学生已经存在，则+1答对次数\n                if (allState[i].senderId === data.senderId) {\n                    //此学生全部答对则进入                             \n                    //判断当前有几个学生答对，如果没有全部答对则反馈给学生，否则关闭所有学生的等待弹层\n                    trueNum++;\n                    //值类型，将修改后的值再赋值回去\n                    if (data.roleType === \"0\") {\n                        this.trueNum = trueNum;\n                    } else {\n                        this.auditorTrueNum = trueNum;\n                    }\n                    this.bulletViewData.push({ senderId: data.senderId, roleType: data.roleType, nickName: data.nickName, eventType: \"\", startname: \"\", tagname: \"\",\n                        answerstate: \"\", allstate: \"全部答对\" });\n\n                    //更新子弹面板数据\n                    this.updataBullets(this.bulletViewData);\n                    //记录答对学生的Id \n                    this.rightStu.push(data.senderId);\n                    if (this.countUI) {\n                        _init_module.messageCenter.emit(\"sendAnswer\", { senderId: data.senderId, anserState: 0, usetime: this.countUI.useTime });\n                    }\n                    //GM.stuNum.length 开始答题时的学生个数\n                    // 5 6名显示“你真棒！”，需要修改UI！\n                    //最后一个人或者一个学生时，不用显示dialog面板文字\n                    var showD = -1;\n                    if (stus.length == 1 || trueNum >= stus.length) {\n                        showD = 0;\n                    }\n                    //广播时带上id，rankpage中判断id相同则显示弹层\n                    _init_module.messageCenter.emit(\"rankView\", { ranknum: trueNum, showDialog: showD, stuId: data.senderId, stat: \"Open\" });\n\n                    this.refreshStat();\n\n                    //如果能进入if 那后面的新建对象就不需要再走了，直接return退出这个函数\n                    return;\n                }\n            }\n        }\n\n        /**\n         *   1v6答题，学生答完题目后/或者掉线   重置老师答题按钮状态\n        */\n\n    }, {\n        key: 'refreshStat',\n        value: function refreshStat() {\n            if (this.trueNum >= GM.stuNum.length) {\n                //你赢了动画占用3秒，所以总共要有6秒，才能让排名面板显示3秒\n                _init_module.messageCenter.emit(\"rankView\", { stat: \"Close\", time: 6 });\n                //学生和旁听生都答完题目后重置老师答题按钮状态\n                if (this.auditorTrueNum >= this.auditorStus.length) {\n                    //修改开始答题按钮\n                    this.changeAnswerBtn('finish');\n                    this.pagebox.answerArray = [];\n                    Laya.SoundManager.stopMusic(\"sound/answering.mp3\");\n                    this.answering = true;\n                    //取消countDownView\n                    if (this.countUI) {\n                        Laya.timer.clearAll(this.countUI);\n                        this.removeChild(this.countUI);\n                    }\n                }\n            }\n        }\n\n        /**\n         *   1v6答题 超时函数\n        */\n\n    }, {\n        key: 'answerStuOverTime',\n        value: function answerStuOverTime() {\n            //学生，旁听生，答题过程中掉线学生\n            //let arrTemp = [...GM.stuNum, ...this.auditorStus, ...this.stepOuts];\n            //掉线学生直接删除\n            var arrTemp = [].concat(_toConsumableArray(GM.stuNum), _toConsumableArray(this.auditorStus));\n            for (var i in arrTemp) {\n                var stat = 0; //0为没有答对\n                for (var j in this.rightStu) {\n                    if (this.rightStu[j] === arrTemp[i].id) {\n                        //如果有相同，说明这个学生全部答对，则跳出内循环,进入下一次循环\n                        stat = 1;\n                        break;\n                    }\n                }\n                if (stat === 0) {\n                    this.bulletViewData.push({ senderId: arrTemp[i].id, roleType: arrTemp[i].roleType, nickName: arrTemp[i].nickName, eventType: \"\", startname: \"\", tagname: \"\", answerstate: \"\", allstate: \"超时\" });\n                    _init_module.messageCenter.emit(\"sendAnswer\", { senderId: arrTemp[i].id, anserState: 1, usetime: 0 });\n                    //更新子弹面板数据\n                    this.updataBullets(this.bulletViewData);\n                }\n            }\n        }\n\n        /**\n         *   1v6答题更新子弹面板数据\n        */\n\n    }, {\n        key: 'updataBullets',\n        value: function updataBullets(arr) {\n            //将过来的数据筛选出来成一个按照sendId走的数据\n            var map = {};\n            this.dest = [];\n            for (var i = 0; i < arr.length; i++) {\n                var ai = arr[i];\n                if (!map[ai.senderId]) {\n                    this.dest.push({\n                        senderId: ai.senderId,\n                        roleType: ai.roleType,\n                        nickName: ai.nickName,\n                        data: [ai]\n                    });\n                    map[ai.senderId] = ai;\n                } else {\n                    for (var j = 0; j < this.dest.length; j++) {\n                        var dj = this.dest[j];\n                        if (dj.senderId == ai.senderId) {\n                            dj.data.push(ai);\n                            break;\n                        }\n                    }\n                }\n            }\n            //确认在线学生\n            this.confirmBullentInfo(true);\n        }\n\n        /**\n         *  1v6答题子弹面板数据筛选在线学生\n         */\n\n    }, {\n        key: 'confirmBullentInfo',\n        value: function confirmBullentInfo(type) {\n            //type true 需要按顺序排列\n            //筛选在线学生\n            var arrs = [];\n            for (var i in this.dest) {\n                for (var j in this.stuIDs) {\n                    if (this.dest[i].senderId == this.stuIDs[j].id) {\n                        arrs.push(this.dest[i]);\n                    }\n                }\n            }\n            this.dest = arrs;\n            var temparr = [];\n            if (type) {\n                //去按顺序排列\n                for (var a in this.stuIDs) {\n                    if (this.stuIDs[a].roleType == \"0\") {\n                        for (var b in this.dest) {\n                            if (this.dest[b].senderId == this.stuIDs[a].id) {\n                                temparr.push(this.dest[b]);\n                                //同时删除dest中的这个学生。\n                                this.dest.splice(b, 1);\n                            }\n                        }\n                    }\n                }\n            }\n\n            this.dest = [].concat(temparr, _toConsumableArray(this.dest));\n            //最后拼接传入\n            _init_module.observer.publish(\"bulletList\", this.dest);\n        }\n\n        /**\n         * 初始化当前页答题状态\n         */\n\n    }, {\n        key: 'getAnswerState',\n        value: function getAnswerState(data) {\n            console.log(\"初始化当前页答题状态\", data);\n            // 看进入的人是老师还是学生 \n            // 如果是老师 开始答题状态 需要按钮改变为暂停答题 并且解绑老师事件\n            // 如果是学生开始答题状态 则需要添加事件 \n            if (data.answerState === \"start\") {\n                // 按钮变成暂停答题  按钮变成暂停答题可点  \n                if (GM.role === 0) {\n                    this.answering = false;\n                    this.changeAnswerBtn('pause');\n                    this.pagebox.timeOutFrameLoopEvent();\n                } else if (GM.role === 1) {\n                    if (this.pagebox.rightlength != this.pagebox.targetTypelength) {\n                        this.pagebox.pictureEvent();\n                    }\n                }\n            }\n        }\n        /**\n        * 初始化获取当前答题数据\n        */\n\n    }, {\n        key: 'getAnswerList',\n        value: function getAnswerList(data) {\n            console.log(\"当前答题数据\", data);\n            var teacherAnswerList = void 0;\n            if (data.senderId === GM.senderId) {\n                if (GM.role === 0) {\n                    teacherAnswerList = data.teacherAnswerList.list;\n                    if (GM.classMode === \"1v6\" && teacherAnswerList != undefined) {\n                        if (teacherAnswerList.length > 0) {\n                            this.changroleListHandler(teacherAnswerList);\n                        }\n                    } else {\n                        this.changroleAnswerList(1, data);\n                    }\n                } else {\n                    //只有在开始答题状态 学生同步老师+学生数据 其他情况 \n                    // if(!this.answering){\n                    this.changroleAnswerList(1, data);\n                    // }\n                }\n            }\n        }\n\n        /**\n         * changeRole 收到切换视角指令\n         */\n\n    }, {\n        key: 'changeRole',\n        value: function changeRole(data) {\n            console.log(\"收到切换视角指令\", data);\n            // messageCenter.emit(\"console\",{message:\"收到切换视角指令\",data:data});\n            // 切换视角关闭bottom以及左右切换按钮  当学生id为自己的id的时候\n            if (data.studentId === GM.senderId) {\n                this.pagebox.timeOutFrameLoopEvent();\n                this.pagebox.returnitems();\n                this.pagebox.resetState();\n                this.pagebox.unEvents();\n                // 老师视角\n                if (this.answering) {\n                    this.pagebox.pictureEvent();\n                }\n                // 清空存放的学生视角id\n                this.changeroleStudentId = null;\n                this.pagebox.answerparamreset();\n                this.changroleAnswerList(0, data);\n                this.bottom.visible = true;\n                this.btnLeft.visible = true;\n                this.btnRight.visible = true;\n            } else {\n                // 还原页面所有操作\n                this.pagebox.timeOutFrameLoopEvent();\n                this.pagebox.returnitems();\n                this.pagebox.resetState();\n                this.pagebox.unEvents();\n                this.pagebox.answerparamreset();\n                // 学生视角\n                this.changroleAnswerList(1, data);\n                this.bottom.visible = false;\n                this.btnLeft.visible = false;\n                this.btnRight.visible = false;\n                this.pagebox.rightlength = 0;\n                this.changeroleStudentId = data.studentId;\n            }\n        }\n\n        /**\n         * 1v6 视角切换存放老师学生答题步骤\n         */\n\n    }, {\n        key: 'changroleAnswerList',\n        value: function changroleAnswerList(type, data) {\n            var studentAnswerList = void 0,\n                teacherAnswerList = void 0;\n            var allAnswerLists = [];\n            var teachAnswerList = [];\n            //老师数据是自己要的也是学生要的\n            if (data.teacherAnswerList.list) {\n                teacherAnswerList = data.teacherAnswerList.list;\n                for (var j in teacherAnswerList) {\n                    teachAnswerList.push(teacherAnswerList[j]);\n                    allAnswerLists.push(teacherAnswerList[j]);\n                }\n            }\n\n            // 根据type 0 老师 1 是学生\n            if (type === 0) {\n                // 老师视角 只渲染老师数据            \n                this.changroleListHandler(teachAnswerList);\n            } else if (type === 1) {\n                // 学生视角  渲染老师加上学生数据\n                if (data.studentAnswerList.list) {\n                    studentAnswerList = data.studentAnswerList.list;\n                    for (var i in studentAnswerList) {\n                        allAnswerLists.push(studentAnswerList[i]);\n                    }\n                }\n\n                if (allAnswerLists.length > 0) {\n                    this.changroleListHandler(allAnswerLists);\n                }\n            }\n        }\n\n        /**\n         * 1v6切换视角后数据渲染\n         */\n\n    }, {\n        key: 'changroleListHandler',\n        value: function changroleListHandler(list) {\n            for (var i = 0; i < list.length; i++) {\n                if (list[i].answerstate != 3) {\n                    this.answerOneToOne(list[i], \"init\");\n                }\n            }\n        }\n\n        /**\n         * @param 入场 \n         */\n\n    }, {\n        key: 'onEnter',\n        value: function onEnter() {\n            // 视图居中\n            // setViewCenter();\n            // UTILS.log(this.sceneName + \" enter\");\n            // 取消订阅时不用传递回调函数\n            _init_module.observer.unsubscribe(this.sceneName + \"_enter\");\n            this.dispatchAction();\n        }\n\n        /**\n         * @param 触发\n         */\n\n    }, {\n        key: 'dispatchAction',\n        value: function dispatchAction() {\n            //  初始化发送 senderId 课程id，和相关的那个名字，还有课件页面总数 GM.LIBRARY.length    \n            var data = {\n                senderId: GM.senderId,\n                roomId: GM.roomId,\n                allPageNum: GM.LIBRARY.length,\n                courseID: GM.cwId\n            };\n            console.log(GM.senderId, GM.roomId, GM.LIBRARY.length);\n            _init_module.messageCenter.emit(\"init\", data);\n\n            // 备课以及本地使用\n            if (GM.flag === 0 && GM.vsFrom === \"web\") {\n                this.pageNum = GM.PageNum - 1;\n                _init_module.observer.publish(\"Page\", { page: this.pageNum });\n            }\n\n            // 获取当前page和步骤 以及当前学生list\n            _init_module.messageCenter.emit(\"getPage\", { senderId: GM.senderId });\n            _init_module.messageCenter.emit(\"getStep\", { senderId: GM.senderId });\n            _init_module.messageCenter.emit(\"getStudents\", { senderId: GM.senderId });\n            _init_module.messageCenter.emit(\"getUserList\", { senderId: GM.senderId });\n            //获取当前页答题数据以及答题状态包括断线\n            _init_module.messageCenter.emit(\"getAnswerList\", { senderId: GM.senderId });\n            _init_module.messageCenter.emit(\"getAnswerState\", { senderId: GM.senderId });\n        }\n\n        /**\n         * @param 退出\n         */\n\n    }, {\n        key: 'onExit',\n        value: function onExit() {\n            // UTILS.log(this.sceneName + \" exit\");\n            // 取消所有注册\n            // this.unRegisterAction();\n            //发布退出事件\n            _init_module.observer.publish(this.sceneName + \"_exit\");\n            this.clear();\n        }\n\n        /**\n        * @param 自定义方法，场景退出的时候是销毁还是removeSelf请自行抉择\n        */\n\n    }, {\n        key: 'clear',\n        value: function clear() {\n            this.destroy();\n        }\n        //3d元素\n\n    }, {\n        key: 'creatCylinderMode',\n        value: function creatCylinderMode() {\n            var scene = this.addChild(new Laya.Scene());\n            this.sceneMode = scene;\n            //添加照相机\n            var camera = scene.addChild(new Laya.Camera(0, 0.3, 100));\n            camera.transform.translate(new Laya.Vector3(1, 2, 4));\n            camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\n            camera.clearColor = null;\n\n            //添加方向光\n            var directionLight = scene.addChild(new Laya.DirectionLight());\n            directionLight.color = new Laya.Vector3(0.9, 0.9, 0.9);\n            directionLight.direction = new Laya.Vector3(1, -1, 1);\n\n            var directionLight2 = scene.addChild(new Laya.DirectionLight());\n            directionLight2.color = new Laya.Vector3(54.0 / 255.0, 175.0 / 255.0, 205.0 / 255.0);\n            directionLight2.direction = new Laya.Vector3(-1, 1, -1);\n\n            //创建圆柱体模型(参数为：半径、高、圆截面线段数)\n            var cylinderMesh = new Laya.CylinderMesh(0.5, 2, 16);\n            //创建模型显示对象\n            var cylinder3D = new Laya.MeshSprite3D(cylinderMesh);\n            //x轴上移动3米（世界座标 向右）\n            cylinder3D.transform.translate(new Laya.Vector3(0, 0, 0), false);\n            //scene.addChild(cylinder3D);\n\n            var material = new Laya.StandardMaterial();\n            material.ambientColor = new Laya.Vector3(54.0 / 255.0, 175.0 / 255.0, 205.0 / 255.0);\n\n            cylinder3D.meshRender.material = material;\n\n            cylinder3D.addComponent(BoxControlScript);\n            scene.addChild(cylinder3D);\n        }\n    }, {\n        key: 'creatSquareMode',\n        value: function creatSquareMode() {\n            //添加3D场景\n            var scene = this.addChild(new Laya.Scene());\n            this.sceneMode = scene;\n            //添加照相机\n            var camera = scene.addChild(new Laya.Camera(0, 0.3, 100));\n            camera.transform.translate(new Laya.Vector3(-1, 2, 4));\n            camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\n            camera.clearColor = null;\n\n            //添加方向光\n            var directionLight = scene.addChild(new Laya.DirectionLight());\n            directionLight.color = new Laya.Vector3(0.5, 0.5, 0.5);\n            directionLight.direction = new Laya.Vector3(-1, -1, 1);\n\n            //添加方向光\n            var directionLight2 = scene.addChild(new Laya.DirectionLight());\n            directionLight2.color = new Laya.Vector3(0.3, 0.3, 0.3);\n            directionLight2.direction = new Laya.Vector3(1, 1, -1);\n\n            //添加自定义模型\n            var box = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(0, 0, 0)));\n            box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\n            var material = new Laya.StandardMaterial();\n            //material.diffuseTexture = Laya.Texture2D.load(\"res/ww.png\"); \n            material.ambientColor = new Laya.Vector3(2, 2, 2);\n            box.meshRender.material = material;\n\n            // box.addComponent(BoxControlScript);\n\n\n            //顶部\n            var cube1 = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(1, 1, 0.02)));\n            cube1.transform.translate(new Laya.Vector3(0.5, 0, 0));\n            material = new Laya.StandardMaterial();\n            material.diffuseTexture = Laya.Texture2D.load(\"res/sceneMode/numberF.png\");\n            material.ambientColor = new Laya.Vector3(2, 2, 2);\n            cube1.meshRender.material = material;\n\n            //box.addChild(cube1);\n\n\n            var cube1Pt = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(0, 0, 0)));\n            cube1Pt.transform.translate(new Laya.Vector3(0.5, 0.5, 0));\n            box.addChild(cube1Pt);\n            cube1Pt.addChild(cube1);\n            // cube1Pt.transform.rotate(new Laya.Vector3(0,0,-180),false,false);\n\n\n            //前面\n            var cube2Pt = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(0, 0, 0)));\n            cube2Pt.transform.translate(new Laya.Vector3(-0.5, -0.5, 0));\n            box.addChild(cube2Pt);\n\n            var cube2 = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(1, 1, 0.02)));\n            cube2.transform.translate(new Laya.Vector3(0.5, 0, 0));\n            material = new Laya.StandardMaterial();\n            material.diffuseTexture = Laya.Texture2D.load(\"res/sceneMode/numberD.png\");\n            material.ambientColor = new Laya.Vector3(2, 2, 2);\n            cube2.meshRender.material = material;\n            cube2Pt.addChild(cube2);\n            //  cube2Pt.addComponent(Cube2Script);\n\n\n            //右面\n            var cube3Pt = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(0, 0, 0)));\n            cube3Pt.transform.translate(new Laya.Vector3(0.0, -0.5, 0.5));\n            box.addChild(cube3Pt);\n\n            var cube3 = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(1, 1, 0.02)));\n            cube3.transform.translate(new Laya.Vector3(0, 0, 0.5));\n            material = new Laya.StandardMaterial();\n            material.diffuseTexture = Laya.Texture2D.load(\"res/sceneMode/numberE.png\");\n            material.ambientColor = new Laya.Vector3(2, 2, 2);\n            cube3.meshRender.material = material;\n            cube3Pt.addChild(cube3);\n            //  cube3Pt.addComponent(Cube3Script);\n\n            //左面\n            var cube4Pt = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(0, 0, 0)));\n            cube4Pt.transform.translate(new Laya.Vector3(0.0, -0.5, -0.5));\n            box.addChild(cube4Pt);\n\n            var cube4 = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(1, 1, 0.02)));\n            cube4.transform.translate(new Laya.Vector3(0, 0, 0.5));\n            material = new Laya.StandardMaterial();\n            material.diffuseTexture = Laya.Texture2D.load(\"res/sceneMode/numberC.png\");\n            material.ambientColor = new Laya.Vector3(2, 2, 2);\n            cube4.meshRender.material = material;\n            cube4Pt.addChild(cube4);\n            //  cube4Pt.addComponent(Cube4Script);\n\n            //后面\n            var cube5Pt = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(0, 0, 0)));\n            cube5Pt.transform.translate(new Laya.Vector3(0.5, -0.5, 0));\n            box.addChild(cube5Pt);\n\n            var cube5 = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(1, 1, 0.02)));\n            cube5.transform.translate(new Laya.Vector3(0.5, 0, 0));\n            material = new Laya.StandardMaterial();\n            material.diffuseTexture = Laya.Texture2D.load(\"res/sceneMode/numberB.png\");\n            material.ambientColor = new Laya.Vector3(2, 2, 2);\n            cube5.meshRender.material = material;\n\n            //cube5.transform.rotate(new Laya.Vector3(0,00,90),false,false);\n\n            cube5Pt.addChild(cube5);\n            // cube5Pt.addComponent(Cube5Script);\n\n            //底面\n            var cube6Pt = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(0, 0, 0)));\n            cube6Pt.transform.translate(new Laya.Vector3(0.0, -0.5, 0));\n            box.addChild(cube6Pt);\n\n            var cube6 = scene.addChild(new Laya.MeshSprite3D(new Laya.BoxMesh(1, 1, 0.02)));\n            cube6.transform.translate(new Laya.Vector3(0, 0, 0));\n            material = new Laya.StandardMaterial();\n            material.diffuseTexture = Laya.Texture2D.load(\"res/sceneMode/numberA.png\");\n            material.ambientColor = new Laya.Vector3(2, 2, 2);\n            cube6.meshRender.material = material;\n            cube6Pt.addChild(cube6);\n\n            //cube1Pt.transform.rotate(new Laya.Vector3(0,0,-180),false,false);\n            cube1Pt.addComponent(Cube1Script);\n            cube2Pt.addComponent(Cube2Script);\n            cube3Pt.addComponent(Cube3Script);\n            cube4Pt.addComponent(Cube4Script);\n            cube5Pt.addComponent(Cube5Script);\n        }\n    }, {\n        key: 'closeSquareMode',\n        value: function closeSquareMode() {\n            this.sceneMode.removeSelf();\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance(messageCenter) {\n            return this.instance || new this(messageCenter);\n        }\n    }]);\n\n    return RoomScene;\n}(Laya.Sprite);\n\n//3d脚本\n\n\nexports.default = RoomScene;\nvar Cube1Script = function (_super) {\n    var flag = true;\n    var angle = -180;\n    function BoxControlScript() {\n        BoxControlScript.super(this);\n    }\n    Laya.class(BoxControlScript, \"Cube1Script\", _super);\n    BoxControlScript.prototype._load = function (owner) {\n        this.box = owner;\n    };\n    BoxControlScript.prototype._start = function (state) {\n        var material = this.box.meshRender.material;\n        //修改材质的反射率颜色，让模型偏红\n        // material.albedo = new Laya.Vector4(1,0,0,1);\n        flag = true;\n        angle = -180;\n        //this.angle = 90;\n        var material = this.box.meshRender.material;\n        this.box.transform.rotate(new Laya.Vector3(0, 0, -180), false, false);\n    };\n    BoxControlScript.prototype._update = function (state) {\n        if (flag == true && angle < -90) {\n            angle += 1;\n            this.box.transform.rotate(new Laya.Vector3(0, 0, -1), false, false);\n        } else if (flag == false && angle > -180) {\n            angle -= 1;\n            this.box.transform.rotate(new Laya.Vector3(0, 0, 1), false, false);\n        }\n        if (angle == -180) {\n            flag = true;\n        }\n        if (angle == -90) {\n            flag = false;\n        }\n    };\n    return BoxControlScript;\n}(Laya.Script);\n\nvar Cube2Script = function (_super) {\n\n    var flag = true;\n    var angle = 90;\n    function BoxControlScript() {\n        BoxControlScript.super(this);\n    }\n    Laya.class(BoxControlScript, \"Cube2Script\", _super);\n    BoxControlScript.prototype._load = function (owner) {\n        this.box = owner;\n    };\n    BoxControlScript.prototype._start = function (state) {\n\n        this.flag = true;\n        this.angle = 90;\n\n        var material = this.box.meshRender.material;\n        //修改材质的反射率颜色，让模型偏红\n        // material.albedo = new Laya.Vector4(1,0,0,1);\n        this.box.transform.rotate(new Laya.Vector3(0, 0, angle), false, false);\n    };\n    BoxControlScript.prototype._update = function (state) {\n        if (flag == true && angle < 180) {\n            angle += 1;\n            this.box.transform.rotate(new Laya.Vector3(0, 0, 1), false, false);\n        } else if (flag == false && angle > 90) {\n            angle -= 1;\n            this.box.transform.rotate(new Laya.Vector3(0, 0, -1), false, false);\n        }\n        if (angle == 90) {\n            flag = true;\n        }\n        if (angle == 180) {\n            flag = false;\n        }\n    };\n    return BoxControlScript;\n}(Laya.Script);\n\nvar Cube3Script = function (_super) {\n\n    var flag = true;\n    var angle = -90;\n    function BoxControlScript() {\n        BoxControlScript.super(this);\n    }\n    Laya.class(BoxControlScript, \"Cube3Script\", _super);\n    BoxControlScript.prototype._load = function (owner) {\n        this.box = owner;\n    };\n    BoxControlScript.prototype._start = function (state) {\n\n        this.flag = true;\n        this.angle = -90;\n        var material = this.box.meshRender.material;\n        //修改材质的反射率颜色，让模型偏红\n        // material.albedo = new Laya.Vector4(1,0,0,1);\n        this.box.transform.rotate(new Laya.Vector3(angle, 0, 0), false, false);\n    };\n    BoxControlScript.prototype._update = function (state) {\n        if (flag == true && angle < 0) {\n            angle += 1;\n            this.box.transform.rotate(new Laya.Vector3(1, 0, 0), false, false);\n        } else if (flag == false && angle > -90) {\n            angle -= 1;\n            this.box.transform.rotate(new Laya.Vector3(-1, 0, 0), false, false);\n        }\n        if (angle == -90) {\n            flag = true;\n        }\n        if (angle == 0) {\n            flag = false;\n        }\n    };\n    return BoxControlScript;\n}(Laya.Script);\n\nvar Cube4Script = function (_super) {\n\n    var flag = true;\n    var angle = 270;\n    function BoxControlScript() {\n        BoxControlScript.super(this);\n    }\n    Laya.class(BoxControlScript, \"Cube4Script\", _super);\n    BoxControlScript.prototype._load = function (owner) {\n        this.box = owner;\n    };\n    BoxControlScript.prototype._start = function (state) {\n        this.flag = true;\n        this.angle = 270;\n        var material = this.box.meshRender.material;\n        //修改材质的反射率颜色，让模型偏红\n        // material.albedo = new Laya.Vector4(1,0,0,1);\n        this.box.transform.rotate(new Laya.Vector3(angle, 0, 0), false, false);\n    };\n    BoxControlScript.prototype._update = function (state) {\n        if (flag == true && angle > 180) {\n            angle -= 1;\n            this.box.transform.rotate(new Laya.Vector3(-1, 0, 0), false, false);\n        } else if (flag == false && angle < 270) {\n            angle += 1;\n            this.box.transform.rotate(new Laya.Vector3(1, 0, 0), false, false);\n        }\n        if (angle == 270) {\n            flag = true;\n        }\n        if (angle == 180) {\n            flag = false;\n        }\n    };\n    return BoxControlScript;\n}(Laya.Script);\n\nvar Cube5Script = function (_super) {\n\n    var angle = 90;\n    function BoxControlScript() {\n        BoxControlScript.super(this);\n    }\n    Laya.class(BoxControlScript, \"Cube5Script\", _super);\n    BoxControlScript.prototype._load = function (owner) {\n        this.box = owner;\n    };\n    BoxControlScript.prototype._start = function (state) {\n\n        // flag = true;\n        angle = 90;\n\n        var material = this.box.meshRender.material;\n        //修改材质的反射率颜色，让模型偏红\n        // material.albedo = new Laya.Vector4(1,0,0,1);\n        this.box.transform.rotate(new Laya.Vector3(0, 0, angle), false, false);\n    };\n    BoxControlScript.prototype._update = function (state) {\n        //if(angle <180)\n        {\n            // angle +=1;\n            // this.box.transform.rotate(new Laya.Vector3(0,0,1),false,false);\n        }\n    };\n    return BoxControlScript;\n}(Laya.Script);\n\nvar BoxControlScript = function (_super) {\n    function BoxControlScript() {\n        BoxControlScript.super(this);\n    }\n    Laya.class(BoxControlScript, \"BoxControlScript\", _super);\n    /*3D对象加载组件时的执行方法\n    owner加载此组件的3D对象\n    */\n    BoxControlScript.prototype._load = function (owner) {\n        //获取脚本所属对象\n        this.box = owner;\n    };\n    /*覆写组件所属3D对象实例化完成后，第一次更新时的执行方法*/\n    BoxControlScript.prototype._start = function (state) {\n        //获取模型上的材质\n        var material = this.box.meshRender.material;\n        //修改材质的反射率颜色，让模型偏红\n        // material.albedo = new Laya.Vector4(1,0,0,1);\n        this.box.transform.rotate(new Laya.Vector3(0, 0.5, 0), false, false);\n    };\n    /*覆写组件更新方法（相当于帧循环）\n    *state渲染状态\n    */\n    BoxControlScript.prototype._update = function (state) {\n        //所属脚本对象旋转更新\n        this.box.transform.rotate(new Laya.Vector3(0.5, 0.5, 0.5), false, false);\n    };\n    return BoxControlScript;\n}(Laya.Script);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21haW5zY2VuZS9yb29tLmpzP2JkNTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcGFyYW0geypsaXVqaWFvamlhb31cbiAqcm9vbXNjZW5lICDoiJ7lj7BcbiAqL1xuXG5pbXBvcnQgeyBvYnNlcnZlcixtZXNzYWdlQ2VudGVyLHNldFZpZXdDZW50ZXIsc2NlbmVNYW5hZ2VyIH0gZnJvbSAnLi4vbW9kdWxlL2luaXRfbW9kdWxlJ1xuaW1wb3J0IHsgY3JlYXRlU2tlbGV0b24gfSBmcm9tICcuLi9tb2R1bGUvY29tL2xheWEuY3VzdG9tJ1xuaW1wb3J0IExvYWRpbmdTY2VuZSBmcm9tICcuL2xvYWRpbmcnXG5pbXBvcnQgUGFnZSBmcm9tICcuL2VsZW1lbnQvcGFnZSdcbmltcG9ydCBNZW51VUlWaWV3IGZyb20gJy4vZWxlbWVudC9tZW51J1xuaW1wb3J0IGNvdW50RG93blZpZXcgZnJvbSAnLi9lbGVtZW50L2NvdW50RG93bidcbmltcG9ydCBidWxsZXRWaWV3IGZyb20gJy4vZWxlbWVudC9idWxsZXRWaWV3J1xuaW1wb3J0IGF1ZGlvSWNvbiBmcm9tICcuL21lZGlhL2F1ZGlvSWNvbidcbmltcG9ydCB2ZWRpb0ljb24gZnJvbSAnLi9tZWRpYS92ZWRpb0ljb24nXG5pbXBvcnQgbW91c2VQYXNzIGZyb20gJy4vRXZlbnRzL21vdXNlUGFzcydcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvb21TY2VuZSBleHRlbmRzIExheWEuU3ByaXRle1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2NlbmVOYW1lID0gJ3Jvb21TY2VuZSc7XG4gICAgICAgIHRoaXMucGFnZWJveCAgPSBudWxsOyAvL+mhtemdomJveFxuICAgICAgICB0aGlzLmJ0bkxlZnQgPSBudWxsOyAgLy/kuIrkuIDpobXmjInpkq5cbiAgICAgICAgdGhpcy5idG5SaWdodCA9IG51bGw7IC8v5LiL5LiA6aG15oyJ6ZKuXG4gICAgICAgIHRoaXMucGFnZU51bSA9IDA7ICAvL+mhtemdoum7mOiupOWAvFxuICAgICAgICB0aGlzLmNhbmNlbCA9IG51bGw7IC8v5LiK5LiA5q2lXG4gICAgICAgIHRoaXMuYnRuTmV4dCA9IG51bGw7IC8v5LiL5LiA5q2lXG4gICAgICAgIHRoaXMubWVudSA9IG51bGw7ICAvL+iPnOWNleagj+aMiemSrlxuICAgICAgICB0aGlzLmJvdHRvbSA9IG51bGw7IC8v5bqV6YOoXG4gICAgICAgIHRoaXMuYW5zd2VyQnRuID0gbnVsbDsgLy/nrZTpopjmjInpkq5cbiAgICAgICAgdGhpcy5hbnN3ZXJpbmcgPSB0cnVlOyAvL+e7iOatouetlOmimFxuICAgICAgICB0aGlzLmxpc3RsZW5ndGggPSBudWxsOyAvL+iPnOWNleagj2xlbmd0aCAgICAgXG4gICAgICAgIHRoaXMuY291bnRUaW1lciA9IG51bGw7IC8v5YCS6K6h5pe2XG4gICAgICAgIHRoaXMuc2tlbGV0b25fID0gbnVsbDsgLy/ov4flnLrliqjnlLtcbiAgICAgICAgdGhpcy5jb3VudFVJID0gbnVsbDsgIC8v5YCS6K6h5pe2VUlcbiAgICAgICAgdGhpcy5uZXh0ID0gdHJ1ZTsgICAgLy/liKTmlq3mmK/lkKbmmK/liIfkuIvkuIDpobVcbiAgICAgICAgdGhpcy5vbGRib3ggPSBudWxsOyAgLy/ov4flnLrliqjnlLvlrZjlgqjkuIrkuIDpobVcbiAgICAgICAgdGhpcy5vbGRNZW51SXRlbSA9IG51bGw7Ly9tZW515Lit5LiK5LiA5qyh6YCJ5Lit5YWD57SgXG4gICAgICAgIHRoaXMuY3JlYXRtZW51RmxhZyA9IGZhbHNlOyAgLy/oj5zljZXmoI/lnKjorr7nva7pobXnoIHnrKzkuIDmrKEg5Li6Zmxhc2VcbiAgICAgICAgdGhpcy5iZ011c2ljID0gbnVsbDtcbiAgICAgICAgdGhpcy50cnVlTnVtID0gMDsgLy/nrZTlr7npopjnm67nmoTlrabnlJ/kuKrmlbBcbiAgICAgICAgdGhpcy5idWxsZXRwYW4gPSBudWxsOyAvL+WtkOW8uemdouadv1xuICAgICAgICB0aGlzLmFsbFN0dVN0YXRlID0gW107IC8v562U6aKY6L+H56iL5Lit562U5a+55a2m55Sf55qE5pWw57uE77yM5YaF6YOo6K6w5b2V5a2m55Sf5a+56LGh5a2Y5pS+562U5a+56aKY55uu55qE5qyh5pWwXG4gICAgICAgIHRoaXMuYnVsbGV0Vmlld0RhdGEgPSBbXSAvL+avj+asoeWtpueUn+etlOmimOWQjuaUvuWFpeaVsOe7hFxuICAgICAgICB0aGlzLnN0dUlEcyA9IFtdOyAvL+aJgOacieWcqOaVmeWupOWGheeahOWtpueUn2lk5ZKMbmlja25hbWVcbiAgICAgICAgdGhpcy5yaWdodFN0dSA9IFtdOyAvL+S4tOaXtuaVsOe7hOiusOW9leW9k+WJjeetlOmimOi/h+eoi+S4reetlOWvueeahOWtpueUn0lEXG4gICAgICAgIHRoaXMuYXVkaXRvclN0dXMgPSBbXTsgLy/ml4HlkKznlJ/mlbDnu4RcbiAgICAgICAgdGhpcy5hdWRpdG9yVHJ1ZU51bSA9IDA7IC8v5peB5ZCs55Sf562U5a+55Liq5pWwXG4gICAgICAgIHRoaXMuYWxsQXVkaXRvclN0dVN0YXRlID0gW107Ly/nrZTpopjov4fnqIvkuK3nrZTlr7nml4HlkKznlJ/nmoTmlbDnu4TvvIzlhoXpg6jorrDlvZXml4HlkKznlJ/lr7nosaHlrZjmlL7nrZTlr7npopjnm67nmoTmrKHmlbBcbiAgICAgICAgdGhpcy5zdGVwT3V0cyA9IFtdOyAvL+etlOmimOi/h+eoi+S4reaOiee6v+WtpueUn1xuICAgICAgICB0aGlzLmNsb3NlQ2FuTGVmdCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2xvc2VDYW5SaWdodCA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5zd2VyRmluc2loTGVuZ3RocyAgPSBbXTsgLy/mlbDnu4TlhoXlrZjmlL7lr7nlupTlrabnlJ/nmoQg5b2T5YmN562U5a+56aKY55uu55qE6ZW/5bqmXG4gICAgICAgIHRoaXMubW91c2VTdGF0ID0gZmFsc2U7ICAvLyB0cnVl5Li65oyJ5LiLIGZhbHNl5Li65oqs6LW3XG4gICAgICAgIHRoaXMucGFnZURvbmUgPSBmYWxzZTsvL3BhZ2XmmK/lkKbliqDovb3lrozmiJBcbiAgICAgICAgdGhpcy5idWxsZW50Vmlld1JpZ2h0cyA9IFtdOy8vYnVsbGV0Vmlld+S4rSDlj5blvpfmlbDmja7kuK3lr7nnmoTlrabnlJ9cbiAgICAgICAgdGhpcy5wYWdlQW5zd3dlcmFsbCA9IFtdICAvL+WtmOaUvuW9k+WJjemhteaJgOacieeahOetlOmimOi/h+eoi1xuICAgICAgICB0aGlzLnBhZ2VOYW1lID0gbnVsbDsgIC8v5LiK5LiA6aG155qE5ZCN5a2XXG4gICAgICAgIHRoaXMuZGVzdCA9IFtdOy8v562U6aKY6Z2i5p2/5Lit55qE5pWw5o2u5pWw57uEXG4gICAgICAgIHRoaXMuYXVkaW9JdGVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWd1cmVNb3ZlV2l0aEl0ZW0gPSBudWxsOyAgLy/ngrnlh7vlsI/miYvmjIdcbiAgICAgICAgdGhpcy5jdXJwYWdlTnVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3VzZVAgPSBudWxsOy8v6byg5qCH5Lyg6YCS57G7XG4gICAgICAgIHRoaXMudmVkaW9CdG4gPSBudWxsOyAvL+mhtemdouinhumikWljb24gICBcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IG5ldyBMYXlhLlBvaW50KDAsMCk7IC8v6byg5qCH5L2N572uXG4gICAgICAgIHRoaXMuU291bmR1cmF0aW9uID0gbnVsbDsgLy/lrZjmlL7lo7Dpn7NcbiAgICAgICAgdGhpcy5zdGFydGFuaSA9IG51bGw7IC8v5byA5aeL5pqC5YGc5Yqo55S7XG4gICAgICAgIHRoaXMuYW5zd2VyRmluaXNoRmxhZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoYW5nZXJvbGVTdHVkZW50SWQgPSBudWxsOyAvL+WIh+aNouinhuinkueahGlkXG4gICAgICAgIHRoaXMuRWxlbWVudEluZGV4ID0gMDsgIC8vMXY25a2m55Sf562U6aKY5qyh5pWwXG4gICAgICAgIHRoaXMuaW5pdChtZXNzYWdlQ2VudGVyKTtcbiAgICAgICAgUm9vbVNjZW5lLmluc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIGdldEluc3RhbmNlKG1lc3NhZ2VDZW50ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfHwgbmV3IHRoaXMobWVzc2FnZUNlbnRlcik7XG4gICAgfVxuXG4gICAgaW5pdChtZXNzYWdlQ2VudGVyKXtcbiAgICAgICAgdGhpcy5zaXplKExheWEuc3RhZ2Uud2lkdGgsIExheWEuc3RhZ2UuaGVpZ2h0KTsgIFxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUodGhpcy5zY2VuZU5hbWUgKyBcIl9lbnRlclwiLCB0aGlzLm9uRW50ZXIuYmluZCh0aGlzKSk7ICBcbiAgICAgICAgLy/mlq3nur/lgZzmraLlgJLorqHml7ZcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdjb3VudERvd25UaW1lU3RhdCcsIHRoaXMuY291bnREb3duVGltZVN0YXQuYmluZCh0aGlzKSk7XG4gICAgICAgIC8v55S75p2/5o+Q56S6XG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnY2FudmFzU3RhdCcsIHRoaXMuY2FudmFzU3RhdEhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIC8v55uR5ZCs5a2m55Sf6L+b5YWl5ZKM56a75byAXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnc3R1SWRDaGFuZ2UnLCB0aGlzLnN0dUlkQ2hhbmdlSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy/orr7nva7pobXnoIFcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdQYWdlJywgdGhpcy5zZXRQYWdlSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy/nrZTpopjlvIDlp4tcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKFwiYW5zd2VyU3RhcnRcIix0aGlzLnN0YXJ0QW5zd2VyLmJpbmQodGhpcykpO1xuICAgICAgICAvL+etlOmimOe7k+adn1xuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoXCJhbnN3ZXJGaW5pc2hcIix0aGlzLmFuc3dlckZpbmlzaC5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy/lrZDlvLnpnaLmnb/mlbDmja5cbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKFwiYnVsbGV0Vmlld1wiLHRoaXMuaW5pdGJ1bGxldFZpZXcuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vbW91c2Vtb3Zl5Ye95pWw55uR5ZCsXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnbW91c2Vtb3ZlJyx0aGlzLmdldE1vdXNlTW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8g5b2T5YmN562U6aKY54q25oCBXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnZ2V0QW5zd2VyU3RhdGUnLHRoaXMuZ2V0QW5zd2VyU3RhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgIC8v5b2T5YmN562U6aKY5pWw5o2uXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnZ2V0QW5zd2VyTGlzdCcsdGhpcy5nZXRBbnN3ZXJMaXN0LmJpbmQodGhpcykpOyAgXG4gICAgICAgICAvL+WIh+aNouinhuinklxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ2NoYW5nZVJvbGUnLHRoaXMuY2hhbmdlUm9sZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgIC8v5re75Yqg6byg5qCH5Lyg6YCS5Ye95pWwXG4gICAgICAgIHRoaXMubW91c2VQID0gbmV3IG1vdXNlUGFzcygpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMubW91c2VQKTtcblxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTix0aGlzLCgpPT57ICAgICAgICBcbiAgICAgICAgICAgIHRoaXMubW91c2VTdGF0ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsKCk9PnsgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMubW91c2VTdGF0ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9PVVQsdGhpcywoKT0+e1xuICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g5Yid5aeL5YyW6aG16Z2i5oyJ6ZKuXG4gICAgICAgIHRoaXMuYnV0dG9uSW5pdCgpOyAgICBcbiAgICAgICAgLy/liJ3lp4vljJbnv7vpobXmjInpkq5cbiAgICAgICAgdGhpcy5sZWZ0cmlnaHRCdG5Jbml0KCk7XG4gICAgICAgIC8vIOWIneWni+WMlueUu+adv+a1ruWxglxuICAgICAgICB0aGlzLmNhbnZhc1BhbmVsSW5pdCgpO1xuICAgICAgICAvL+e7meiAgeW4iOe7keWumuS6i+S7tlxuICAgICAgICBpZihHTS5yb2xlID09PSAwKXtcbiAgICAgICAgICAgIHRoaXMuYnRuRXZlbnQoKTsgICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICAgLy/liJvlu7rlrZDlvLnpnaLmnb9cbiAgICAgICAgaWYoR00uY2xhc3NNb2RlID09PSBcIjF2MVwiKXtcbiAgICAgICAgICAgdGhpcy5ib3R0b20uYnV0dGV0QnRuLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNleyAgIFxuICAgICAgICAgICAgdGhpcy5jcmVhdEJ1bGxldFBhbmVsKCk7XG4gICAgICAgIH0gICAgICAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5bem5Y+z57+76aG15oyJ6ZKu5Lul5Y+K5oyJ6ZKubW92ZeS6i+S7tlxuICAgICAqXG4gICAgICovXG4gICAgbGVmdHJpZ2h0QnRuSW5pdCgpe1xuICAgICAgICAvL+a3u+WKoOW3puWPs+e/u+mhteaMiemSrlxuICAgICAgICBsZXQgYnRuTGVmdCA9IG5ldyBMYXlhLkltYWdlKCdyZXMvY29tbW9ubi9sYXN0X3BhZ2VfbGlnaHQucG5nJyk7XG4gICAgICAgIGJ0bkxlZnQuc2l6ZSg3Miw3Mik7ICAgICBcbiAgICAgICAgYnRuTGVmdC5hbmNob3JYID0gMC41O1xuICAgICAgICBidG5MZWZ0LmFuY2hvclkgPSAwLjU7XG4gICAgICAgIGJ0bkxlZnQueSA9IExheWEuc3RhZ2UuaGVpZ2h0LzI7XG4gICAgICAgIGJ0bkxlZnQubGVmdCA9IDIwOyAgICAgIFxuICAgICAgICB0aGlzLmJ0bkxlZnQgPSBidG5MZWZ0O1xuXG4gICAgICAgIGxldCBidG5SaWdodCA9IG5ldyBMYXlhLkltYWdlKCdyZXMvY29tbW9ubi9uZXh0X3BhZ2VfbGlnaHQucG5nJyk7XG4gICAgICAgIGJ0blJpZ2h0LnNpemUoNzIsNzIpO1xuICAgICAgICBidG5SaWdodC5hbmNob3JYID0gMC41O1xuICAgICAgICBidG5SaWdodC5hbmNob3JZID0gMC41OyAgICAgIFxuICAgICAgICBidG5SaWdodC55ID0gTGF5YS5zdGFnZS5oZWlnaHQvMjtcbiAgICAgICAgYnRuUmlnaHQucmlnaHQgPSAyMDtcbiAgICAgICAgdGhpcy5idG5SaWdodCA9IGJ0blJpZ2h0O1xuXG4gICAgICAgIHRoaXMuYnRuUmlnaHQuZ3JheSA9ICB0cnVlO1xuICAgICAgICB0aGlzLmJ0blJpZ2h0LmFscGhhID0gMC40O1xuICAgICAgICB0aGlzLmJ0blJpZ2h0Lm9uKExheWEuRXZlbnQuTU9VU0VfT1ZFUix0aGlzLHRoaXMuYnRuQ2hhbmdlLFt0aGlzLmJ0blJpZ2h0XSk7ICAgXG4gICAgICAgIHRoaXMuYnRuUmlnaHQub24oTGF5YS5FdmVudC5NT1VTRV9PVVQsdGhpcyx0aGlzLmJ0bkNoYW5nZSxbdGhpcy5idG5SaWdodF0pOyAgIFxuXG4gICAgICAgIHRoaXMuYnRuTGVmdC5ncmF5ID0gIHRydWU7XG4gICAgICAgIHRoaXMuYnRuTGVmdC5hbHBoYSA9IDAuNDtcbiAgICAgICAgdGhpcy5idG5MZWZ0Lm9uKExheWEuRXZlbnQuTU9VU0VfT1ZFUix0aGlzLHRoaXMuYnRuQ2hhbmdlLFt0aGlzLmJ0bkxlZnRdKTsgICBcbiAgICAgICAgdGhpcy5idG5MZWZ0Lm9uKExheWEuRXZlbnQuTU9VU0VfT1VULHRoaXMsdGhpcy5idG5DaGFuZ2UsW3RoaXMuYnRuTGVmdF0pOyBcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIOeUu+adv+a1ruWxguWIneWni+WMllxuICAgICAqL1xuICAgIGNhbnZhc1BhbmVsSW5pdCgpe1xuICAgICAgICAvL+a3u+WKoOeUu+adv+a1ruWxglxuICAgICAgICB0aGlzLmNsb3NlQ2FuUmlnaHQgPSBuZXcgY2FudmFzYmdVSSgpOyBcbiAgICAgICAgdGhpcy5jbG9zZUNhblJpZ2h0LnkgPSBMYXlhLnN0YWdlLmhlaWdodC8yO1xuICAgICAgICB0aGlzLmNsb3NlQ2FuUmlnaHQucmlnaHQgPSAxMDtcblxuICAgICAgICB0aGlzLmNsb3NlQ2FuTGVmdCA9IG5ldyBjYW52YXNiZ1VJKCk7IFxuICAgICAgICB0aGlzLmNsb3NlQ2FuTGVmdC55ID0gTGF5YS5zdGFnZS5oZWlnaHQvMjtcbiAgICAgICAgdGhpcy5jbG9zZUNhbkxlZnQubGVmdCA9IDEwOyBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbpobXpnaLlhbbku5ZidXR0b25cbiAgICAgKlxuICAgICAqL1xuICAgIGJ1dHRvbkluaXQoKXtcbiAgICAgICAgLy/liJ3lp4vljJblpLTpg6hcbiAgICAgICAgdGhpcy5idG5Ub3AgPSBuZXcgTGF5YS5JbWFnZSgncmVzL2NvbW1vbm4vbWVudTAucG5nJyk7XG4gICAgICAgIHRoaXMuYnRuVG9wLnNpemUoOTYsOTYpO1xuICAgICAgICB0aGlzLmJ0blRvcC5wb3MoNSwxMCk7XG4gICAgICAgIC8v5Yid5aeL5YyWYm90dG9tXG4gICAgICAgIHRoaXMuYm90dG9tID0gbmV3IHdpbmRvdy5ib3R0b21VSSgpO1xuICAgICAgICB0aGlzLmNhbmNlbCA9IHRoaXMuYm90dG9tLmJ0bkNhbmNlbDsgICAgICBcbiAgICAgICAgdGhpcy5idG5OZXh0ID0gdGhpcy5ib3R0b20uYnRuTmV4dDtcbiAgICAgICAgdGhpcy5hbnN3ZXJCdG4gPSB0aGlzLmJvdHRvbS5hbnN3ZXJCdG47ICAgICAgICAgICBcbiAgICAgICAgdGhpcy5ib3R0b20uYm90dG9tID0gMDtcbiAgICAgICAgdGhpcy5ib3R0b20ueCA9IDA7XG4gICAgICAgIHRoaXMuYm90dG9tLmNlbnRlclggPSAwO1xuICAgICAgICAvL+m7mOiupOmakOiXj+mhtemdouinhumikeaMiemSriAgIFxuICAgICAgICB0aGlzLnZlZGlvQnRuID0gbmV3IHZlZGlvQnRuVUkoKTtcbiAgICAgICAgdGhpcy52ZWRpb0J0bi5yaWdodCA9IDEwMDtcbiAgICAgICAgdGhpcy52ZWRpb0J0bi50b3AgPSA1MDtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnZlZGlvQnRuKTtcbiAgICAgICAgdGhpcy52ZWRpb0J0bi52aXNpYmxlID0gZmFsc2U7IFxuICAgICAgICAvLyDliJ3lp4vljJbpobXpnaLop4bpopHmjqfku7YgXG4gICAgICAgIHRoaXMudmlkZW9PYmogPSBuZXcgdmVkaW9JY29uKCk7XG4gICAgICAgIC8v5Yid5aeL5YyW54K55Ye75bCP5omLXG4gICAgICAgIHRoaXMuZmlndXJlTW92ZVdpdGhJdGVtID0gbmV3IExheWEuSW1hZ2UoJ3Jlcy9jb21tb25uL3hzY3pfeWR4c18wMS5wbmcnKTtcbiAgICAgICAgdGhpcy5maWd1cmVNb3ZlV2l0aEl0ZW0udmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuZmlndXJlTW92ZVdpdGhJdGVtKTtcbiAgICAgICAgLy/mt7vliqDnp7vliqjnmoTmiYvvvIzpu5jorqTpmpDol49cbiAgICAgICAgdGhpcy5tb3VzZUZpZ2VyID0gbmV3IExheWEuSW1hZ2UoXCJyZXMvY29tbW9ubi9zdHVoYW5kcy5wbmdcIik7XG4gICAgICAgIHRoaXMubW91c2VGaWdlci5zY2FsZSgwLjMsMC4zKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLm1vdXNlRmlnZXIpO1xuICAgICAgICB0aGlzLm1vdXNlRmlnZXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyB0aGlzLm1vdXNlRmlnZXIuYW5jaG9yWCA9IDAuNTt0aGlzLm1vdXNlRmlnZXIuYW5jaG9yWSA9IDAuNTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpvKDmoIfnp7vliqjmjqXmlLblpITnkIblh73mlbBcbiAgICAgKlxuICAgICAqL1xuICAgIGdldE1vdXNlTW92ZShkYXRhKXtcbiAgICAgICAgLy/nrKzkuIDmrKHov5vlhaXmmL7npLrlsI/miYvvvIzlubbovaznp7vkvY3nva5cbiAgICAgICAgaWYoIXRoaXMubW91c2VGaWdlci52aXNpYmxlKXtcbiAgICAgICAgICAgIHRoaXMubW91c2VGaWdlci5wb3MoZGF0YS54LGRhdGEueSk7XG4gICAgICAgICAgICB0aGlzLm1vdXNlRmlnZXIudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIC8v56e75Yqo5bCP5omLXG4gICAgICAgICAgICAvLyh4MSAtIHgyKeW5s+aWuSArICh5MSAtIHkyKeW5s+aWuSAg5pyA5ZCO5byA5qC55Y+3XG4gICAgICAgICAgICBsZXQgbnVtID0gcGFyc2VJbnQoKE1hdGguc3FydChNYXRoLnBvdygoZGF0YS54IC0gdGhpcy5tb3VzZUZpZ2VyLngpLDIpICsgTWF0aC5wb3coKGRhdGEueSAtIHRoaXMubW91c2VGaWdlci55KSwyKSkpIC8gNSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8v6IiN5byD6LW354K55L2N572u77yM5Yiw6L6+57uI54K55L2N572uXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBudW07IGkrKykgeyBcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMSAqIGksdGhpcywoKT0+e1xuICAgICAgICAgICAgICAgICAgICBsZXQgeCA9ICgoZGF0YS54ICogaSkgKyAodGhpcy5tb3VzZUZpZ2VyLnggKiAobnVtIC0gaSkpKSAvIG51bTsgXG4gICAgICAgICAgICAgICAgICAgIGxldCB5ID0gKChkYXRhLnkgKiBpKSArICh0aGlzLm1vdXNlRmlnZXIueSAqIChudW0gLSBpKSkpIC8gbnVtOyBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZUZpZ2VyLnBvcyh4LHkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Yib5bu66I+c5Y2V5qCP55uuXG4gICAgICogXG4gICAgKi9cbiAgICBjcmVhdG1lbnUoKXtcbiAgICAgICAgbGV0IGpzb25BcnIgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpIGluIEdNLkxJQlJBUlkpe1xuICAgICAgICAgICAganNvbkFyci5wdXNoKEdNLkxJQlJBUllbaV0pO1xuICAgICAgICB9XG4gICAgICAgICB0aGlzLmxpc3RsZW5ndGggPSBqc29uQXJyLmxlbmd0aDsgICAgXG4gICAgICAgICB0aGlzLm1lbnUgPSBuZXcgTWVudVVJVmlldyhqc29uQXJyKTtcbiAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5tZW51KTsgIFxuICAgICAgICAgdGhpcy5tZW51LmNhY2hlQXMgPSBcIm5vcm1hbFwiO1xuICAgICAgICAgdGhpcy5tZW51LnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG4gXG4gICAgLyoqXG4gICAgICog5re75Yqg5aOw6Z+zaWNvblxuICAgICAqLyAgXG4gICAgY3JlYXRJY29uKEhhc0F1dG9Qcm9tcHQsdXJsLGlkKXsgIFxuICAgICAgICB0aGlzLmF1ZGlvSXRlbSA9IG5ldyBhdWRpb0ljb24obnVsbCx1cmwsbnVsbCxpZCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5hdWRpb0l0ZW0pO1xuICAgICAgICB0aGlzLmF1ZGlvSXRlbS52aXNpYmxlID0gZmFsc2U7ICAgXG4gICAgICAgIGlmKEhhc0F1dG9Qcm9tcHQpe1xuICAgICAgICAgICAgdGhpcy5hdWRpb0l0ZW0udHlwZSA9IDE7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvSXRlbS5wbGF5QXVkaW8odXJsLGlkKTsgIFxuICAgICAgICB9XG4gICAgICAgIGlmKEdNLnJvbGUgPT09IDAgKXtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9JdGVtLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB9ICAgICAgICAgXG4gICAgfVxuICAgICAgIFxuICAgIC8qKlxuICAgICog5Yib5bu65a2Q5by56Z2i5p2/XG4gICAgKi9cbiAgICBjcmVhdEJ1bGxldFBhbmVsKCl7XG4gICAgICAgIHRoaXMuYnVsbGV0cGFuID0gbmV3IGJ1bGxldFZpZXcoKTtcbiAgICAgICAgdGhpcy5idWxsZXRwYW4udmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuYnVsbGV0cGFuKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogIOeCueWHu+S6i+S7tlxuICAgICovXG4gICAgYnRuRXZlbnQoKXsgXG4gICAgICAgIGlmKEdNLnJvbGUgPT0gMCl7XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkcmVuKHRoaXMuYnRuTGVmdCx0aGlzLmJ0blJpZ2h0LHRoaXMuYm90dG9tLHRoaXMuYnRuVG9wLHRoaXMubWVudSx0aGlzLmNsb3NlQ2FuUmlnaHQgLCB0aGlzLmNsb3NlQ2FuTGVmdCk7ICAgXG4gICAgICAgICAgICB0aGlzLmNsb3NlQ2FuUmlnaHQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jbG9zZUNhbkxlZnQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9NT1ZFLHRoaXMsKCk9PntcbiAgICAgICAgICAgIGxldCBtb3VzID0gbmV3IExheWEuUG9pbnQoTGF5YS5zdGFnZS5tb3VzZVgsTGF5YS5zdGFnZS5tb3VzZVkpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5tb3VzZVBvcy5kaXN0YW5jZShtb3VzLngsbW91cy55KSk7XG4gICAgICAgICAgICBpZih0aGlzLm1vdXNlUG9zLmRpc3RhbmNlKG1vdXMueCxtb3VzLnkpID4gMTApe1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VQb3MgPSBtb3VzO1xuICAgICAgICAgICAgICAgIC8v5Lyg6YCB5pWw5o2uXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLkvKDovpPkvY3nva5cIik7XG4gICAgICAgICAgICAgICAgLy9HTS5yb2xlIDAg5Li66ICB5biIIOWIpOaWreS4gOS4i1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcIm1vdXNlbW92ZVwiLHtzZW5kSWQ6R00uc2VuZGVySWQsIHJvbGUgOiBHTS5yb2xlICx4OnRoaXMubW91c2VQb3MueCAsIHk6dGhpcy5tb3VzZVBvcy55fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvL+S4iuS4gOmhtVxuICAgICAgICB0aGlzLmJ0bkxlZnQub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57ICAgICAgICBcbiAgICAgICAgICAgIGxldCBpID0gdGhpcy5wYWdlTnVtIC0gMTsgXG4gICAgICAgICAgICBpZih0aGlzLm5leHRKdWplZChpKSlyZXR1cm47ICAgXG4gICAgICAgICAgICBpZighR00uSXNUb2tlbil7XG4gICAgICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KCduZXdwYWdlJyx7cGFnZTppLHNlbmRlcklkOkdNLnNlbmRlcklkfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoJ3NldFBhZ2UnLHtwYWdlOmksc2VuZGVySWQ6R00uc2VuZGVySWR9KTtcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ1BhZ2UnLHtwYWdlOml9KTtcbiAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgIC8v5LiL5LiA6aG1XG4gICAgICAgIHRoaXMuYnRuUmlnaHQub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57ICAgICAgIFxuICAgICAgICAgICAgLy/liKTmlq3kuIvkuIDlhYPntKDmjInpkq7mmK/lkKbnpoHnlKhcbiAgICAgICAgICAgIGlmKHRoaXMuYnRuTmV4dC5kaXNhYmxlZCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0UGFnZVR1cm4odGhpcyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwibmV4dHBhZ2VcIiAsIHtmdW5jIDogdGhpcy5uZXh0UGFnZVR1cm4gLCB0eXBlIDogdGhpc30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTsgIFxuXG4gICAgICAgIC8vIOS4iuS4gOatpVxuICAgICAgICB0aGlzLmNhbmNlbC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PnsgICBcbiAgICAgICAgICAgIGlmKHRoaXMucGFnZWJveC5PcGVyYXRpb25JbmRleCA9PT0gMCl7XG4gICAgICAgICAgICAgICB0aGlzLmNhbmNlbC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCd1cGRhdGVTdGVwJyx7b3B0Oid1bmRvJ30pOyAgICAgICBcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdCgndXBkYXRlU3RlcCcse3NlbmRlcklkOkdNLnNlbmRlcklkLG9wdDondW5kbyd9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgICAgICAvLyDkuIvkuIDmraVcbiAgICAgICAgdGhpcy5idG5OZXh0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+eyBcbiAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCd1cGRhdGVTdGVwJyx7b3B0OiduZXh0J30pOyAgXG4gICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KCd1cGRhdGVTdGVwJyx7c2VuZGVySWQ6R00uc2VuZGVySWQsb3B0OiduZXh0J30pOyAgICAgICAgICAgIFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJ0blRvcC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PnsgICAgXG4gICAgICAgICAgICBpZih0aGlzLm1lbnUpe1xuICAgICAgICAgICAgICAgIGlmKHRoaXMubWVudS52aXNpYmxlKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5Ub3Auc2tpbiA9ICdyZXMvY29tbW9ubi9tZW51MC5wbmcnO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnUudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuVG9wLnNraW4gPSAncmVzL2NvbW1vbm4vbWVudTEucG5nJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICBcbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICBcbiAgICAgICAgdGhpcy5hbnN3ZXJCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XG4gICAgICAgICAgICBpZih0aGlzLnBhZ2Vib3gudGFyZ2V0VHlwZWxlbmd0aD09PTAgJiYgIXRoaXMucGFnZWJveC5wdXp6bGVGbGFnKXJldHVybjsgICAgICAgXG4gICAgICAgICAgICBpZighdGhpcy5hbnN3ZXJpbmcpe1xuICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmmoLlgZznrZTpophcIik7ICAgICBcbiAgICAgICAgICAgICAgIHRoaXMuYW5zd2VyaW5nID0gdHJ1ZTsgICAgICAgIFxuICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBbnN3ZXJCdG4oJ3N0YXJ0Jyk7ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdhbnN3ZXJTdGFydCcse3NlbmRlcklkIDogR00uc2VuZGVySWQgLHR5cGUgOiBcInBhdXNlXCIscm9sZSA6IDAsdGltZXIgOiB0aGlzLmNvdW50VGltZXIsdGVhY2hBcnJheTp0aGlzLnBhZ2Vib3guYW5zd2VyQXJyYXl9KTsgXG4gICAgICAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJhbnN3ZXJQYXVzZVwiLHtzZW5kZXJJZCA6IEdNLnNlbmRlcklkICxwYWdlOnRoaXMucGFnZU51bSx0eXBlIDogXCJwYXVzZVwiLHJvbGUgOiAwLHRpbWVyIDogdGhpcy5jb3VudFRpbWVyLHRlYWNoQXJyYXk6dGhpcy5wYWdlYm94LmFuc3dlckFycmF5fSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5byA5aeL562U6aKYXCIpICAgIFxuICAgICAgICAgICAgLy8gICAgaWYoR00uY2xhc3NNb2RlID09PSBcIjF2NlwiICB8fCBHTS5jbGFzc01vZGUgPT09IFwiMXYxXCIgfHwgR00uZmxhZyA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgLy/nu5norrLluIjnq6/lj5HpgIHlhajpg6jnrZTpophcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwicmVhbnN3ZXJcIik7IFxuICAgICAgICAgICAgICAgICAgICAvL+aPkOWPluWtpueUn1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuc3dlckZvclN0dSgwKTtcbiAgICAgICAgICAgICAgICAgICAgLy/nm7TmjqXmiYDmnInlrabnlJ/lhajpg6jnrZTpophcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBBcnIgPSBbLi4uR00uc3R1TnVtLCAuLi50aGlzLmF1ZGl0b3JTdHVzXTtcbiAgICAgICAgICAgICAgICAgICAgaWYodGVtcEFyci5sZW5ndGggPiAwICB8fCBHTS5mbGFnID09IDApeyAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5zd2VyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUFuc3dlckJ0bigncGF1c2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2Fuc3dlclN0YXJ0Jyx7c2VuZGVySWQgOiBHTS5zZW5kZXJJZCAscGFnZTp0aGlzLnBhZ2VOdW0sdHlwZSA6IFwib3BlblwiLHJvbGUgOiAxLHRpbWVyIDogdGhpcy5jb3VudFRpbWVyLGFuc3dlcklkcyA6IHRlbXBBcnIsdGVhY2hBcnJheTp0aGlzLnBhZ2Vib3guYW5zd2VyQXJyYXl9KTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJhbnN3ZXJTdGFydFwiLHtzZW5kZXJJZCA6IEdNLnNlbmRlcklkICx0eXBlIDogXCJvcGVuXCIscm9sZSA6IDEsdGltZXIgOiB0aGlzLmNvdW50VGltZXIsYW5zd2VySWRzIDogdGVtcEFycix0ZWFjaEFycmF5OnRoaXMucGFnZWJveC5hbnN3ZXJBcnJheX0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5by55Ye65paH5qGIIOayoeacieWtpueUn+WcqOe6v1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgndGVjaHRpcCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgIFxuICAgICAgICB9KTtcblxuICAgICAgICAvL+WtkOW8uemdouadv1xuICAgICAgICB0aGlzLmJvdHRvbS5idXR0ZXRCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XG4gICAgICAgICAgICAgaWYodGhpcy5idWxsZXRwYW4udmlzaWJsZSl7XG4gICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0cGFuLmNsb3NlVGltZSgpO1xuICAgICAgICAgICAgfWVsc2V7ICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldHBhbi5zaG93dGltZSgpOyAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyDliLfmlrBcbiAgICAgICAgdGhpcy5ib3R0b20ucmVzZXRCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XG4gICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnUGFnZScse3BhZ2U6dGhpcy5wYWdlTnVtfSk7XG4gICAgICAgICAgICAgaWYoIUdNLklzVG9rZW4pe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdCgnbmV3cGFnZScse3BhZ2U6dGhpcy5wYWdlTnVtLHNlbmRlcklkOkdNLnNlbmRlcklkfSk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdCgnc2V0UGFnZScse3BhZ2U6dGhpcy5wYWdlTnVtLHNlbmRlcklkOkdNLnNlbmRlcklkfSk7XG4gICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KCdhbnN3ZXJSZWZyZXNoJyx7cGFnZTp0aGlzLnBhZ2VOdW0sc2VuZGVySWQ6R00uc2VuZGVySWR9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g6aG16Z2i6KeG6aKR54K55Ye75LqL5Lu2ICBcbiAgICAgICAgdGhpcy52ZWRpb0J0bi5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcbiAgICAgICAgICAgIGlmKHRoaXMucGFnZWJveC5Db3Vyc2VWaWRlb1VSTCAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvT2JqLmluaXQodGhpcy5wYWdlYm94LkNvdXJzZVZpZGVvVVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgICAgLy/lo7Dpn7PmjqfliLbmjInpkq5cbiAgICAgICAgdGhpcy5ib3R0b20uYmdzb3VuZEJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PnsgICAgICAgXG4gICAgICAgICAgICBpZih0aGlzLmJvdHRvbS5iZ3NvdW5kQnRuLmluZGV4ID09PSAxKXtcbiAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIubXVzaWNNdXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcIm9wdFN0YXJ0XCIse3R5cGU6XCJiZ011c2ljXCIsc3RhdHU6XCJjbG9zZVwiLHNlbmRlcklkOkdNLnNlbmRlcklkLHVybDp0aGlzLnVybH0pO1xuICAgICAgICAgICAgICAgICB0aGlzLmJvdHRvbS5iZ3NvdW5kQnRuLmluZGV4ID0gMDsgICAgICAgXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRvbS5iZ3NvdW5kQnRuLmluZGV4ID0gMTtcbiAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5tdXNpY011dGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5wYWdlYm94ICYm44CAdGhpcy5wYWdlYm94LmJnbUF1ZGlvKXtcbiAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcIm9wdFN0YXJ0XCIse3R5cGU6XCJiZ011c2ljXCIsc3RhdHU6XCJvcGVuXCIsc2VuZGVySWQ6R00uc2VuZGVySWQsdXJsOnRoaXMudXJsfSk7XG4gICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5TXVzaWModGhpcy5wYWdlYm94LmJnbUF1ZGlvKTtcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5byA5aeL562U6aKYXG4gICAgICovXG4gICAgc3RhcnRBbnN3ZXIoZGF0YSl7XG4gICAgICAgIC8v6Kej57uR5b2T5YmN5omA5pyJ5LqL5Lu2XG4gICAgICAgIHRoaXMucGFnZWJveC50aW1lT3V0RnJhbWVMb29wRXZlbnQodHJ1ZSk7XG4gICAgICAgIC8vIOa3u+WKoOWKqOeUu1xuICAgICAgICB0aGlzLmFkZHN0YXJ0QW5pbWF0aW9uKGRhdGEudHlwZSk7ICBcbiAgICAgICAgaWYoZGF0YS50eXBlID09PSBcIm9wZW5cIil7XG4gICAgICAgICAgICAvLyAxdjHmqKHlvI/kuIvnrZTpopjkuK3lrabnlJ9hdWRpb+aMiemSruWPr+ingVxuICAgICAgICAgICAgaWYoR00ucm9sZSA9PT0gMSAmJiB0aGlzLmF1ZGlvSXRlbSAmJiBHTS5jbGFzc01vZGU9PT0gXCIxdjFcIil7XG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb0l0ZW0udmlzaWJsZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgIH0gICAgICBcblxuICAgICAgICAgICAgLy/lsIbnrZTlr7nlrabnlJ/kuKrmlbDnva7kuLowXG4gICAgICAgICAgICB0aGlzLnRydWVOdW0gPSAwO1xuICAgICAgICAgICAgdGhpcy5hdWRpdG9yVHJ1ZU51bSA9IDA7XG4gICAgICAgICAgICAvL+a4heepuuaJgOacieWtpueUn+etlOmimOeKtuaAgVxuICAgICAgICAgICAgdGhpcy5hbGxTdHVTdGF0ZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5hbGxBdWRpdG9yU3R1U3RhdGUgPSBbXTsgIFxuICAgICAgICAgICAgLy/npoHnlKjkuIrkuIDlhYPntKDkuIvkuIDlhYPntKBcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsLmRpc2FibGVkID0gdHJ1ZTsgICAgICBcbiAgICAgICAgICAgIHRoaXMuYnRuTmV4dC5kaXNhYmxlZCA9IHRydWUgICAgIFxuICAgICAgICB9ZWxzZSBpZihkYXRhLnR5cGUgPT09IFwicGF1c2VcIil7XG4gICAgICAgICAgICAgIC8v5LiK5LiA5YWD57Sg5LiL5LiA5YWD57Sg5Yik5pat54q25oCBICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgdGhpcy5wYWdlYm94Lmp1amVkQnV0dG9uZGlzYWJsZSgpOyAgIFxuICAgICAgICAgICAgICBpZihHTS5jbGFzc01vZGUgPT09IFwiMXY2XCIgJibjgIBHTS5yb2xlID09PSAxKXtcbiAgICAgICAgICAgICAgICAgdGhpcy5wYXVzZUhhbmRsZXIoZGF0YSk7XG4gICAgICAgICAgICAgIH0gIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDlvIDmlL7op5LoibLmnYPpmZAgIFxuICAgICAgICBpZihHTS5yb2xlID09PSBkYXRhLnJvbGUpeyAgICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnBhZ2Vib3gucGljdHVyZUV2ZW50KCk7ICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIOW8gOWni+etlOmimOWSjOaaguWBnOWKqOeUu+S7peWPiuWAkuiuoeaXtuWKqOeUu1xuICAgICAqL1xuICAgIGFkZHN0YXJ0QW5pbWF0aW9uKGRhdGEpeyBcbiAgICAgICAgLy8g5byA5aeL562U6aKY5ZKM5pqC5YGc5Yqo55S7ICAgICAgXG4gICAgICAgIGlmKGRhdGEgPT09IFwib3BlblwiKXtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRhbmkgPSBuZXcgY3JlYXRlU2tlbGV0b24oJ3Jlcy9uZXdhbmkvZGFiYW5zJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0YW5pLnBvcyhMYXlhLnN0YWdlLndpZHRoLzIsTGF5YS5zdGFnZS5oZWlnaHQvMik7XG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9yZWFkeS5tcDNcIik7IFxuICAgICAgICAgICAgdGhpcy5zdGFydGFuaS5vbihMYXlhLkV2ZW50LlNUT1BQRUQsdGhpcyx0aGlzLnN0b3BBbmltYXRpb24pO1xuICAgICAgICB9ZWxzZSBpZihkYXRhID09PSBcInBhdXNlXCIpe1xuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvbmV3c291bmQvcGF1c2UubXAzXCIpOyBcbiAgICAgICAgICAgIHRoaXMuc3RhcnRhbmkgPSBuZXcgY3JlYXRlU2tlbGV0b24oJ3Jlcy9uZXdhbmkvc3RvcCcpO1xuICAgICAgICAgICAgdGhpcy5zdGFydGFuaS5zY2FsZSgwLjUsMC41KTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRhbmkucG9zKDEwMCwxMDAwKTtcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5zdGFydGFuaSx7eTo3ODB9LDUwMCxMYXlhLkVhc2UuY2lyY0luLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5zdGFydGFuaSx7eTo3ODB9LDE1MDAsTGF5YS5FYXNlLmxpbmVhckluLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xuICAgICAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuc3RhcnRhbmkse3k6MTAwMH0sNTAwLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9KSwwLHRydWUpO1xuICAgICAgICAgICAgICAgIH0pLDAsdHJ1ZSk7XG4gICAgICAgICAgICB9KSwwLHRydWUpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuc3RhcnRhbmkpOyAgICAgXG4gICAgICAgIHRoaXMuc3RhcnRhbmkucGxheSgwLGZhbHNlKTsgICAgXG4gICAgICAgIHRoaXMuYm90dG9tLmFuc3dlckJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICAvL+WAkuiuoeaXtlxuICAgICAgICBpZih0aGlzLmNvdW50VUkpe1xuICAgICAgICAgICAgdGhpcy5jb3VudFVJLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZihkYXRhLnRpbWVyID4gMCl7XG4gICAgICAgICAgICB0aGlzLmNvdW50VUkgPSBuZXcgY291bnREb3duVmlldyhkYXRhLnRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5jb3VudFVJKTsgICBcbiAgICAgICAgLy8gfVxuICAgICAgIFxuICAgICBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDplIDmr4HlvIDlp4vlkozmmoLlgZzliqjnlLtcbiAgICAgKi9cbiAgICBzdG9wQW5pbWF0aW9uKCl7XG4gICAgICAgIHRoaXMuYm90dG9tLmFuc3dlckJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuc3RhcnRhbmkpO1xuICAgICAgICB0aGlzLnN0YXJ0YW5pLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdGFydGFuaSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogMXY25pqC5YGc5qih5byPIFxuICAgICAqL1xuICAgIHBhdXNlSGFuZGxlcihkYXRhKXtcbiAgICAgICAgLy/orrLluIjngrnlh7vigJzmmoLlgZznrZTpopjigJ3lkI7vvIzlt7LnrZTlr7nlrabnlJ/nmoTmjpLlkI3moYbmtojlpLHvvIzmiYDmnInlrabnlJ/nmoTpobXpnaLkvJrkuI7orrLluIjlvZPliY3pobXpnaLnmoTnrZTpopjmraXpqqTlkIzmraVcbiAgICAgICAgY29uc29sZS5sb2coXCLogIHluIjnrZTpopjmlbDmja5cIixkYXRhLnRlYWNoQXJyYXkpO1xuICAgICAgICAvL+WPkemAgeWFs+mXreetlOmimOe7k+adn+W8ueWxglxuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJyYW5rVmlld1wiLHtzdGF0IDogXCJDbG9zZVwiICAsIHRpbWUgOiAwfSk7XG4gICAgICAgIC8v6Kej57uR6ICB5biI5pON5L2cXG4gICAgICAgIHRoaXMucGFnZWJveC50aW1lT3V0RnJhbWVMb29wRXZlbnQoKTtcbiAgICAgICAgLy/op6Pnu5HmiYDmnIlldmVudOOAgeeUu+e6v+OAgeeykuWtkOetieWFg+e0oFxuICAgICAgICB0aGlzLnBhZ2Vib3gucmV0dXJuaXRlbXMoKTtcbiAgICAgICAgdGhpcy5wYWdlYm94LnVuRXZlbnRzKCk7ICAgIFxuICAgICAgICAvL+WwhuaJgOacieWPr+WKqOeahOWFg+e0oOW9kui/mOWOn+S9jVxuICAgICAgICB0aGlzLnBhZ2Vib3gucmVzZXRTdGF0ZSgpOyBcbiAgICAgICAgLy8xdjbmuIXpmaRpbmRleFxuICAgICAgICB0aGlzLnBhZ2Vib3guYW5zd2VycGFyYW1yZXNldCgpOyAgICBcbiAgICAgICAgLy/ph43njrDogIHluIjmraXpqqRcbiAgICAgICAgaWYoZGF0YS50ZWFjaEFycmF5ICYmIGRhdGEudGVhY2hBcnJheS5sZW5ndGg+MCl7XG4gICAgICAgICAgICBmb3IobGV0IGkgaW4gZGF0YS50ZWFjaEFycmF5KXtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlck9uZVRvT25lKGRhdGEudGVhY2hBcnJheVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIFxuICAgIH1cbiBcbiAgICAvKipcbiAgICAgKiAg5pat57q/5pe25YGc5q2i5YCS6K6h5pe25ZKM6Z+z5pWI5pKt5pS+XG4gICAgKi9cblxuICAgIGNvdW50RG93blRpbWVTdGF0KHR5cGUpe1xuICAgICAgICBpZih0aGlzLmNvdW50VUkpe1xuICAgICAgICAgICAgIGlmKHRoaXMuY291bnRVSS5jb3VudERvd25WYWx1ZSA+IDApe1xuICAgICAgICAgICAgICAgIGlmKHR5cGUgPT0gXCJvblwiKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudFVJLnRpbWVDb250aW51ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50VUkudGltZVN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAgLyoqXG4gICAgICog55S75p2/5o+Q56S65oyJ6ZKu54q25oCBXG4gICAgICovIFxuICAgIGNhbnZhc1N0YXRIYW5kbGVyKGRhdGEpe1xuICAgICAgICBpZihkYXRhID09IFwib3BlblwiKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQ2FuUmlnaHQudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQ2FuTGVmdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhpcy5jbG9zZUNhblJpZ2h0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VDYW5MZWZ0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgIFxuICAgIC8qXG4gICAgIOWtpueUn+i/m+WFpeWSjOemu+W8gOaXtueahElE5ZKMbmlja25hbWXkv67mlLlcbiAgICAqL1xuICAgIHN0dUlkQ2hhbmdlSGFuZGxlcihkYXRhKXsgICAgIFxuICAgICAgICBpZihkYXRhLnR5cGUgPT09IDApe1xuICAgICAgICAgICAgLy/opoHmuIXpmaTlrabnlJ/nmoTouqvku71cbiAgICAgICAgICAgIGxldCBjbGVhclJvbGU7XG4gICAgICAgICAgICAvLyDliKTmlq1kYXRhLnJvbGUgIOWmguaenOaYr+WtpueUnyDmj5Dlj5Z0aGlzLnN0dUlEcyDmiYDmnInnmoTml4HlkKznlJ8gIOWGjemHjeaWsOWKoOWFpeWtpueUn1xuICAgICAgICAgICAgaWYoZGF0YS5yb2xlID09IFwic3R1ZGVudFwiKXtcbiAgICAgICAgICAgICAgICBjbGVhclJvbGUgPSBcIjBcIjsgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgIGNsZWFyUm9sZSA9IFwiMVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRlbXBzdHVzID0gW107XG4gICAgICAgICAgICBmb3IobGV0IGsgaW4gdGhpcy5zdHVJRHMpe1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuc3R1SURzW2tdLnJvbGVUeXBlICE9IGNsZWFyUm9sZSl7XG4gICAgICAgICAgICAgICAgICAgIC8v5Y+q5L+d55WZ5Y+m5aSW5LiA6YOo5YiG5a2m55SfXG4gICAgICAgICAgICAgICAgICAgIHRlbXBzdHVzLnB1c2godGhpcy5zdHVJRHNba10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3R1SURzID0gdGVtcHN0dXM7XG4gICAgICAgICAgICAvL+WKoOWFpeWtpueUn1xuICAgICAgICAgICAgZm9yKGxldCBpIGluIGRhdGEucmVzKXtcbiAgICAgICAgICAgICAgICBpZihkYXRhLnJlc1tpXS5yb2xlID09IFwidGVhY2hlclwiIHx8IGRhdGEucmVzW2ldLmMgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIC8v55u05o6l6L+b5YWl5LiL5LiA5qyh5b6q546v77yM5o6S6Zmk6ICB5biI6Ieq5bexXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAgIFxuICAgICAgICAgICAgICAgIH0gICBcbiAgICAgICAgICAgICAgICAvL3JvbGVUeXBlIDDkuLrlrabnlJ8gIDHkuLrml4HlkKznlJ9cbiAgICAgICAgICAgICAgICBsZXQgcm9sZVQgPSBkYXRhLnJlc1tpXS5yb2xlID09IFwic3R1ZGVudFwiID8gXCIwXCIgOiBcIjFcIjtcbiAgICAgICAgICAgICAgICBsZXQgZGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkIDogZGF0YS5yZXNbaV0uc2VuZGVySWQsXG4gICAgICAgICAgICAgICAgICAgIG5pY2tOYW1lIDogZGF0YS5yZXNbaV0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZVR5cGUgOiByb2xlVFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy/lrZjlhaVpZOWSjG5pY2tuYW1lXG4gICAgICAgICAgICAgICAgdGhpcy5zdHVJRHMucHVzaChkYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgIFxuICAgICAgICAgICAgaWYoR00ucm9sZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAvL+ivt+axguW9k+WJjemhteeahOaVsOaNrlxuICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcImJ1bGxldFZpZXdcIix7c2VuZGVySWQ6R00uc2VuZGVySWQscGFnZTp0aGlzLnBhZ2VOdW19KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIC8v5Yig6Zmk5a2m55SfXG4gICAgICAgICAgICBmb3IobGV0IGkgaW4gZGF0YS5yZXMpe1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaiBpbiB0aGlzLnN0dUlEcyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3R1SURzW2pdLmlkID09PSBkYXRhLnJlc1tpXS5zZW5kZXJJZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0dUlEcy5zcGxpY2UoaiwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5YaF5b6q546v6L+b5p2l5LiA5qyh5ZCO77yM5bCx5Y+v5Lul6YCA5Ye65YaF5b6q546v77yM6L+b5YWl5LiL5qyh5aSW5b6q546vXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v562U6aKY6L+H56iL5Lit5Yik5pat5piv5a2m55Sf6L+Y5piv5peB5ZCs55Sf77yM54S25ZCO5a+55bqU5LuO5pWw57uE5Lit5Yig6Zmk77yM5YaN5Yi35paw562U6aKY54q25oCBXG4gICAgICAgICAgICBmb3IobGV0IGkgaW4gZGF0YS5yZXMpe1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wcyA9IFtdO1xuICAgICAgICAgICAgICAgIGlmKGRhdGEucmVzW2ldLnJvbGUgPT0gXCJzdHVkZW50XCIpe1xuICAgICAgICAgICAgICAgICAgICB0ZW1wcyA9IEdNLnN0dU51bTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGVtcHMgPSB0aGlzLmF1ZGl0b3JTdHVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvcihsZXQgaiBpbiB0ZW1wcyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRlbXBzW2pdLmlkID09PSBkYXRhLnJlc1tpXS5zZW5kZXJJZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+iusOW9leaOiee6v+WtpueUn1xuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLnN0ZXBPdXRzLnB1c2godGVtcHNbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcHMuc3BsaWNlKGosMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnJlZnJlc2hTdGF0KFwib2ZmXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/lhoXlvqrnjq/ov5vmnaXkuIDmrKHlkI7vvIzlsLHlj6/ku6XpgIDlh7rlhoXlvqrnjq/vvIzov5vlhaXkuIvmrKHlpJblvqrnjq9cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/noa7orqTlnKjnur/lrabnlJ9cbiAgICAgICAgICAgIHRoaXMuY29uZmlybUJ1bGxlbnRJbmZvKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuc3dlckZvclN0dSgwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnm5HlkKzorr7nva7pobXnoIHlm57osINcbiAgICAqL1xuICAgIHNldFBhZ2VIYW5kbGVyKGRhdGEpeyBcbiAgICAgICAgLy8gaWYoR00uZmxhZyAhPSAwKXtcbiAgICAgICAgLy8gICAgICAvL+ebuOWQjOmhtemdouS4jeWkhOeQhlxuICAgICAgICAvLyAgICAgaWYoTnVtYmVyKGRhdGEucGFnZSk+MCAmJuOAgE51bWJlcihkYXRhLnBhZ2UpID09PSB0aGlzLnBhZ2VOdW0pe1xuICAgICAgICAvLyAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuICAgICAgICAvLyDlrZjmlL7or77lkI7miqXlkYrmlbDmja5cbiAgICAgICAgaWYoR00ucm9sZSA9PT0gMSl7XG4gICAgICAgICAgICB0aGlzLmFmdGVycmVwb3J0RGF0YSgpO1xuICAgICAgICB9XG4gICAgICAgIC8v5LiA6L2u562U6aKY5pyq57uT5p2fXG4gICAgICAgIGlmKHRoaXMucGFnZWJveCl7XG4gICAgICAgICAgICBpZighdGhpcy5hbnN3ZXJGaW5pc2hGbGFnICYmIEdNLnJvbGU9PT0gMSYmIHRoaXMucGFnZWJveC5zZW5kRmVlZEFyci5sZW5ndGg+MCApeyBcbiAgICAgICAgICAgICAgICAvLyDnu5PmnZ/nrZTpopjlkozlgJLorqHml7bnu5PmnZ/lj5HpgIFsb2flkYrnn6XnrZTpopjov4fnqIsgICAgICAgICAgXG4gICAgICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kRmVlZExvZygtMSxudWxsLHRoaXMucGFnZWJveC5zZW5kRmVlZEFycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAvLyDlrZjmlL7kuIrkuIDpobXnmoRwYWdlTmFtZeS7peWPinBhZ2VOdW1cbiAgICAgICAgdGhpcy5jdXJwYWdlTnVtID0gdGhpcy5wYWdlTnVtO1xuICAgICAgICB0aGlzLnBhZ2VOYW1lID0gR00uTElCUkFSWVt0aGlzLnBhZ2VOdW1dLk5hbWU7XG4gICAgICAgIHRoaXMucmVzZXRQYWdlRWxlbWVudChkYXRhKTtcbiAgICAgICAgIC8v56ys5LiA5qyh5Yid5aeL5YyW6I+c5Y2V5qCPXG4gICAgICAgIGlmKCF0aGlzLmNyZWF0bWVudUZsYWcpe1xuICAgICAgICAgICAgIHRoaXMuY3JlYXRtZW51KCk7ICAgXG4gICAgICAgICAgICAgdGhpcy5jcmVhdG1lbnVGbGFnID0gdHJ1ZTsgXG4gICAgICAgIH1cbiAgICAgICAgLy/lrZjmlL7pobXnoIEgICBcbiAgICAgICAgdGhpcy5wYWdlTnVtID0gTnVtYmVyKGRhdGEucGFnZSkgOyBcbiAgICAgICAgLy8g57uZd2Vi56uv5aSH6K++55WM6Z2i5Lyg6L6TaGFzaOmhteeggVxuICAgICAgICBsb2NhdGlvbi5oYXNoID0gTnVtYmVyKGRhdGEucGFnZSk7XG4gICAgICAgIC8vIOmhtemdouWkp+S6juacgOWQjuS4gOmhteWImemHjee9ruS4uuacgOWQjuS4gOmhtVxuICAgICAgICBpZih0aGlzLnBhZ2VOdW0gPj0gR00uTElCUkFSWS5sZW5ndGgpe1xuICAgICAgICAgICAgdGhpcy5wYWdlTnVtID0gR00uTElCUkFSWS5sZW5ndGgtMTtcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdCgnc2V0UGFnZScse3NlbmRlcklkOkdNLnNlbmRlcklkLHBhZ2U6dGhpcy5wYWdlTnVtfSk7XG4gICAgICAgIH0gXG4gICAgICAgIC8vIOWtmOaUvuWAkuiuoeaXtuaXtumXtFxuICAgICAgICBpZihHTS5MSUJSQVJZW3RoaXMucGFnZU51bV0pe1xuICAgICAgICAgICAgdGhpcy5jb3VudFRpbWVyID0gR00uTElCUkFSWVt0aGlzLnBhZ2VOdW1dLlRpbWVyO1xuICAgICAgICB9ICAgICBcbiAgICAgICBcbiAgICAgICAgLy8g5a6e5L6L5YyWcGFnZSAgICAgIFxuICAgICAgICB0aGlzLnBhZ2Vib3ggPSBuZXcgUGFnZShHTS5MSUJSQVJZW3RoaXMucGFnZU51bV0pOyAgICAgIFxuICAgICAgICAvLyDliKTmlq3mmK/lkKbmnInlnIbmn7HkvZPmraPmlrnkvZNcbiAgICAgICAgdGhpcy5maW5kTW9kZShHTS5MSUJSQVJZW3RoaXMucGFnZU51bV0pOyAgXG4gICAgICAgIC8vIOS/ruaUueiPnOWNlemhteeggVxuICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiYmdjb2xvclwiLHRoaXMucGFnZU51bSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYWdlYm94KTtcbiAgICAgICAgdGhpcy5zZXRDaGlsZEluZGV4KHRoaXMucGFnZWJveCwwKTsgICAgIFxuICAgICAgICAvLzF2MeWtpueUn+WIh+mhtemdouWPkemAgeS4iuS4gOmhtemdoueahOetlOmimOe7k+aenCAgICAgIFxuICAgICAgICBpZihHTS5yb2xlID09PSAxKXtcbiAgICAgICAgICAgIGlmKHRoaXMucGFnZUFuc3d3ZXJhbGwubGVuZ3RoPjApeyAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5hbnNlclJlc3VsdCgpO1xuICAgICAgICAgICAgfSAgICAgICAgXG4gICAgICAgIH0gICAgICAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6aG16Z2i6YeN572uXG4gICAgICovXG4gICAgcmVzZXRQYWdlRWxlbWVudChkYXRhKXtcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnY2xlYXJhbmltYXRpb24nKTtcbiAgICAgICAgLy/lgZzmraLmiYDmnInlo7Dpn7PkvYbmmK/kuI3ljIXmi6zog4zmma/pn7PkuZBcbiAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIuc3RvcEFsbFNvdW5kKCk7XG4gICAgICAgIC8v54m55q6K5ZyG5p+x5L2T5ZKM5q2j5pa55L2T5riF6ZmkXG4gICAgICAgIGlmKHRoaXMuc2NlbmVNb2RlKXtcbiAgICAgICAgICAgICB0aGlzLmNsb3NlU3F1YXJlTW9kZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIOWjsOmfs+aMiemSrumUgOavgVxuICAgICAgICBpZih0aGlzLmF1ZGlvSXRlbSl7IFxuICAgICAgICAgICAvL29ic2VydmVyLnB1Ymxpc2goXCJzdG9wQXVkaW9cIik7ICBcbiAgICAgICAgICAgdGhpcy5hdWRpb0l0ZW0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmF1ZGlvSXRlbSk7XG4gICAgICAgICAgIHRoaXMuYXVkaW9JdGVtID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvL+WBnOatouaSreaUvuaPkOekuumfs1xuICAgICAgICAvLyBpZih0aGlzLnBhZ2Vib3gpeyAgICAgICAgIFxuICAgICAgICAvLyAgICAgaWYodGhpcy5wYWdlYm94LlByb21wdCAhPSBudWxsIHx8IHRoaXMucGFnZWJveC5lbGVtZW50QXVkaW8hPSBudWxsKXtcbiAgICAgICAgLy8gICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcInN0b3BBdWRpb1wiKTsgXG4gICAgICAgIC8vICAgICB9ICAgICAgICBcbiAgICAgICAgLy8gfVxuICAgICAgICBcbiAgICAgICAgLy/nrZTpopjorrDlvZXmuIXnqbpcbiAgICAgICAgdGhpcy5hbnN3ZXJGaW5zaWhMZW5ndGhzICA9IFtdOyAgXG4gICAgICAgIC8v6YeN572u562U6aKY5a6M5oiQ5qCH5b+XXG4gICAgICAgIHRoaXMuYW5zd2VyRmluaXNoRmxhZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRydWVOdW0gPSAwO1xuICAgICAgICB0aGlzLmF1ZGl0b3JUcnVlTnVtID0gMDtcbiAgICAgICAgLy/muIXnqbrmiYDmnInlrabnlJ/nrZTpopjnirbmgIFcbiAgICAgICAgdGhpcy5hbGxTdHVTdGF0ZSA9IFtdO1xuICAgICAgICB0aGlzLmFsbEF1ZGl0b3JTdHVTdGF0ZSA9IFtdO1xuICAgICAgICAvL+mHjee9ruetlOmimOaMiemSruWIneWni+eKtuaAgVxuICAgICAgICB0aGlzLmFuc3dlcmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hhbmdlQW5zd2VyQnRuKCdzdGFydCcpO1xuICAgICAgICAvL+a4heepuuWtkOW8uemdouadv+eahGxpc3RcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcImRpcG9zZUxpc3RcIik7ICAgXG4gICAgICAgIC8vIOa4hemZpOetlOWvueWtpueUn+aVsOaNrlxuICAgICAgICBpZihHTS5yb2xlID09IDApe1xuICAgICAgICAgICAgdGhpcy5yaWdodFN0dSA9IFtdOy8v5YiH6aG15riF6Zmk562U5a+55a2m55Sf5pWw5o2uXG4gICAgICAgICAgICAvL+WPkemAgeWFs+mXreetlOmimOe7k+adn+W8ueWxglxuICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwicmFua1ZpZXdcIix7c3RhdCA6IFwiQ2xvc2VcIiAgLCB0aW1lIDogMH0pO1xuICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwiYnVsbGV0Vmlld1wiLHtzZW5kZXJJZDpHTS5zZW5kZXJJZCxwYWdlOk51bWJlcihkYXRhLnBhZ2UpfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8g6YeN572u6I+c5Y2VXG4gICAgICAgIGlmKHRoaXMuY3JlYXRtZW51RmxhZyl7XG4gICAgICAgICAgICBpZih0aGlzLm1lbnUudmlzaWJsZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5tZW51LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ0blRvcC5za2luID0gJ3Jlcy9jb21tb25uL21lbnUwLnBuZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy/ph43nva7lrZDljZXpnaLmnb9cbiAgICAgICAgaWYodGhpcy5idWxsZXRwYW4pe1xuICAgICAgICAgICAgIGlmKHRoaXMuYnVsbGV0cGFuLnZpc2libGUpe1xuICAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldHBhbi5jbG9zZVRpbWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL+mUgOavgeS4iuS4gOmhtVxuICAgICAgICBpZihkYXRhLnBhZ2UgLSB0aGlzLnBhZ2VOdW0gPT09IDEpe1xuICAgICAgICAgICAgdGhpcy5uZXh0ICA9IHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5uZXh0ICA9IGZhbHNlO1xuICAgICAgICB9IFxuXG4gICAgICAgIGlmKHRoaXMucGFnZWJveCl7XG4gICAgICAgICAgICB0aGlzLnBhZ2Vib3gudW5TdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmKHRoaXMub2xkYm94KXtcbiAgICAgICAgICAgICAgICB0aGlzLm9sZGJveC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbGRib3ggPSBudWxsOyAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMubmV4dCl7XG4gICAgICAgICAgICAgICAgdGhpcy5vbGRib3ggPSB0aGlzLnBhZ2Vib3g7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZEluZGV4KHRoaXMub2xkYm94LDApO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlYm94LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAvL+WmguaenOayoeacieS5i+WJjeeahHBhZ2Vib3jlrZjlnKjvvIznm7TmjqXlsIZuZXh05pS55Li6ZmFsc2XjgILkvb/lvpdwYWdl5Lit5Yik5pat5pu0566A5piTXG4gICAgICAgICAgICB0aGlzLm5leHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy/plIDmr4HlgJLorqHml7ZcbiAgICAgICAgaWYodGhpcy5jb3VudFVJKXtcbiAgICAgICAgICAgIExheWEudGltZXIuY2xlYXJBbGwodGhpcy5jb3VudFVJKTsgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmNvdW50VUkpOyAgXG4gICAgICAgICAgICB0aGlzLmNvdW50VUkuZGVzdHJveSgpO1xuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIuc3RvcE11c2ljKFwic291bmQvYW5zd2VyaW5nLm1wM1wiKTsgICAgICBcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YiH6aG15a2Y5pS+6K++5ZCO5oql5ZGK5pWw5o2uXG4gICAgICovXG4gICAgYWZ0ZXJyZXBvcnREYXRhKCl7XG4gICAgICAgIGlmKHRoaXMuY291bnRVSSAmJuOAgHRoaXMucGFnZWJveC5zZW5kRmVlZEFyci5sZW5ndGggPiAwICYmIHRoaXMucGFnZWJveC5yaWdodGxlbmd0aCAhPSB0aGlzLnBhZ2Vib3gudGFyZ2V0VHlwZWxlbmd0aCl7XG4gICAgICAgICAgICBpZih0aGlzLmNvdW50VUkuY291bnREb3duVmFsdWUgPT09IDApe1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZWJveC5wcm9sb2FkSGFuZGxlcigtMSx0aGlzLnBhZ2Vib3guc2VuZEZlZWRBcnIpOyAgXG4gICAgICAgICAgICB9ICAgICBcbiAgICAgICAgfSAgICAgICAgICBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAg54m55q6K5ZyG5p+x5L2T5ZKM5q2j5pa55L2TIFxuICAgICAqL1xuICAgIGZpbmRNb2RlKGxpc3Qpe1xuICAgICAgICBmb3IobGV0IGkgaW4gbGlzdC5FbGVtZW50TGlzdCl7XG4gICAgICAgICAgICAgaWYobGlzdC5FbGVtZW50TGlzdFtpXS5OYW1lID09IFwiQ3ViZTNEXCIpe1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRTcXVhcmVNb2RlKCk7XG4gICAgICAgICAgICAgfWVsc2UgaWYobGlzdC5FbGVtZW50TGlzdFtpXS5OYW1lID09IFwiQ3lsaW5kZXIzRFwiKXtcbiAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdEN5bGluZGVyTW9kZSgpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgfSAgICBcbiAgICB9XG5cbiAgIC8qKlxuICAgKiDliIfpobXlrZDlvLnpnaLmnb/mmL7npLpcbiAgICAqL1xuICAgIGluaXRidWxsZXRWaWV3KGRhdGEpeyAgXG4gICAgICAgIC8vIOWIh+mhteaXtua4hemZpOWtkOW8uemdouadv+WtmOWCqOaVsOaNrlxuICAgICAgICB0aGlzLmJ1bGxldFZpZXdEYXRhID0gW107XG4gICAgICAgIGxldCBuZXd0ZXh0LHJlczsgXG4gICAgICAgIGlmKGRhdGEubGVuZ3RoPjApe1xuICAgICAgICAgICAgZm9yKGxldCBpIGluIGRhdGEpe1xuICAgICAgICAgICAgICAgIHJlcyA9IGRhdGFbaV0gfHwgW107XG4gICAgICAgICAgICAgICAgLy8g5L2/55So5pe26Ze05aSn5LqOMCDor7TmmI7mmK/nrZTpopjmraPnoa7nmoRcbiAgICAgICAgICAgICAgICBpZihkYXRhW2ldLnVzZXJ0aW1lID4gMCl7XG4gICAgICAgICAgICAgICAgICAgIG5ld3RleHQgPSBcIuWFqOmDqOetlOWvuVwiOyAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBuZXd0ZXh0ID0gXCLotoXml7ZcIiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXMucHJvZ3Jlc3MucHVzaCh7c2VuZGVySWQ6cmVzLnNlbmRlcklkLHJvbGVUeXBlOnJlcy5yb2xlVHlwZSwgbmlja05hbWU6cmVzLm5pY2tOYW1lLGV2ZW50VHlwZTpcIlwiLHN0YXJ0bmFtZTpcIlwiLHRhZ25hbWU6XCJcIixhbnN3ZXJzdGF0ZTpcIlwiLGFsbHN0YXRlOm5ld3RleHR9KTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuYnVsbGV0Vmlld0RhdGEgPSByZXMucHJvZ3Jlc3M7ICBcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldFZpZXdEYXRhID0gdGhpcy5idWxsZXRWaWV3RGF0YS5jb25jYXQocmVzLnByb2dyZXNzKTsgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRhQnVsbGV0cyh0aGlzLmJ1bGxldFZpZXdEYXRhKTtcbiAgICAgICAgfSAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5bem5Y+z57+76aG15LqL5Lu2XG4gICAgKi9cbiAgICBidG5DaGFuZ2Uob2JqLGUpe1xuICAgICAgICBzd2l0Y2goZS50eXBlKXtcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIiA6IFxuICAgICAgICAgICAgICAgIG9iai5ncmF5ID0gIGZhbHNlO1xuICAgICAgICAgICAgICAgIG9iai5hbHBoYSA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZW91dFwiOlxuICAgICAgICAgICAgICAgIG9iai5ncmF5ID0gIHRydWU7XG4gICAgICAgICAgICAgICAgb2JqLmFscGhhID0gMC40O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Ye6546w5LiA5Liq56We5aWH55qE6ZSZ6K+v77yM5b+r5Y6755yL55yLfuS5llwiKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnrZTpopjnu5PmnpzlpITnkIYo5Y+R6YCB6K++5ZCO5oql5ZGK5pWw5o2uKVxuICAgICAqLyAgXG4gICAgYW5zZXJSZXN1bHQoKXtcbiAgICAgICAgLy8g5bCG5pWw57uE56ys5LiA5Liq5YWD57Sg55qE5YC86LWL57uZbWF4ICBcbiAgICAgICAgbGV0IG1heCA9IHRoaXMucGFnZUFuc3d3ZXJhbGxbMF0ucHJvbG9hZDtcbiAgICAgICAgbGV0IHRpbWUgPSB0aGlzLnBhZ2VBbnN3d2VyYWxsWzBdLnVzZXJ0aW1lO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFnZUFuc3d3ZXJhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIOWmguaenOWFg+e0oOW9k+WJjeWAvOWkp+S6jm1heCzlsLHmiorov5nkuKrlvZPliY3lgLzotYvlgLznu5ltYXhcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VBbnN3d2VyYWxsW2ldLnByb2xvYWQgPiBtYXgpIHtcbiAgICAgICAgICAgICAgICBtYXggPSB0aGlzLnBhZ2VBbnN3d2VyYWxsW2ldLnByb2xvYWQ7XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMucGFnZUFuc3d3ZXJhbGxbaV0udXNlcnRpbWU7XG4gICAgICAgICAgICB9ICBcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHBhZ2VOdW06IHRoaXMuY3VycGFnZU51bSxcbiAgICAgICAgICAgICAgICBwYWdlTmFtZTp0aGlzLnBhZ2VOYW1lLFxuICAgICAgICAgICAgICAgIHNlbmRlcklkOiBHTS5zZW5kZXJJZCxcbiAgICAgICAgICAgICAgICBuaWNrTmFtZTogR00ubmlja05hbWUsXG4gICAgICAgICAgICAgICAgcHJvbG9hZDptYXgsICBcbiAgICAgICAgICAgICAgICB1c2VydGltZTp0aW1lIFxuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcInJlcG9ydFwiLGRhdGEpO1xuICAgICAgICB0aGlzLnBhZ2VBbnN3d2VyYWxsID0gW107ICAgXG4gICAgICAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5pu/5o2i562U6aKY5oyJ6ZKuXG4gICAgICovXG4gICAgY2hhbmdlQW5zd2VyQnRuKHR5cGUpe1xuICAgICAgICBpZih0eXBlID09PSAnc3RhcnQnKXtcbiAgICAgICAgICAgICB0aGlzLmJvdHRvbS5hbnN3ZXJCdG4uc2tpbiA9IFwicmVzL2NvbW1vbm4vc3RhcnRfYW5zd2VyX3NlbGVjdC5wbmdcIjsgXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09ICdwYXVzZScpe1xuICAgICAgICAgICAgIHRoaXMuYm90dG9tLmFuc3dlckJ0bi5za2luID0gXCJyZXMvY29tbW9ubi9zdGFydF9hbnN3ZXJfc3RvcF9zLnBuZ1wiO1xuICAgICAgICB9ZWxzZSBpZih0eXBlID09PSAnZmluaXNoJyl7XG4gICAgICAgICAgICAgdGhpcy5ib3R0b20uYW5zd2VyQnRuLnNraW4gPSBcInJlcy9jb21tb25uL3N0YXJ0X2Fuc3dlcl9zZWxlY3QucG5nXCI7XG4gICAgICAgICAgICAgdGhpcy5hbnN3ZXJGaW5pc2hGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICB0aGlzLmFuc3dlckJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgLy/op6Pnu5HogIHluIjmk43kvZxcbiAgICAgICAgICAgICB0aGlzLnBhZ2Vib3gudGltZU91dEZyYW1lTG9vcEV2ZW50KHRydWUpO1xuICAgICAgICAgICAgIC8v5bCG6buY6K6k54q25oCB6K6+572u5Li65pqC5YGcICDkvYblj5fliLDmrKHmjIfku6TkuI3lgZrmk43kvZxcbiAgICAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJhbnN3ZXJQYXVzZVwiLHtzZW5kZXJJZCA6IEdNLnNlbmRlcklkICxwYWdlOnRoaXMucGFnZU51bSx0eXBlIDogXCJwYXVzZVwiLHJvbGUgOiAwLHRpbWVyIDogdGhpcy5jb3VudFRpbWVyLHRlYWNoQXJyYXk6dGhpcy5wYWdlYm94LmFuc3dlckFycmF5LGVuZGluZ1R5cGU6XCJlbmRpbmdcIn0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIG5leHQg5Yik5pat5LiL5LiA5YWD57Sg5oyJ6ZKu5piv5ZCm56aB55SoXG4gICAgKi9cbiAgICBuZXh0UGFnZVR1cm4odHlwZSl7XG4gICAgICAgIGxldCBpID0gdHlwZS5wYWdlTnVtICsgMTsgXG4gICAgICAgIGlmKHR5cGUubmV4dEp1amVkKGkpKXJldHVybjtcbiAgICAgICAgaWYoIUdNLklzVG9rZW4pe1xuICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KCduZXdwYWdlJyx7cGFnZTppLHNlbmRlcklkOkdNLnNlbmRlcklkfSk7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KCdzZXRQYWdlJyx7c2VuZGVySWQ6R00uc2VuZGVySWQscGFnZTppfSk7XG4gICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ1BhZ2UnLHtwYWdlOml9KTtcbiAgICB9XG5cbiBcbiAgICAvKipcbiAgICAgKiAg5Yik5pat5piv5ZCm5pyA5ZCO5LiA6aG1XG4gICAgKi9cbiAgICBuZXh0SnVqZWQocGFnZU51bSl7XG4gICAgICAgICBpZihwYWdlTnVtIDwgMCl7ICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnBhZ2VOdW0gPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihwYWdlTnVtID49IHRoaXMubGlzdGxlbmd0aCl7XG4gICAgICAgICAgICB0aGlzLnBhZ2VOdW0gPSB0aGlzLmxpc3RsZW5ndGgtMTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIDF2NiDlrabnlJ/nrZTpopjml7Yg5o+Q5Y+W5Ye6aWTlkoxuaWNrbmFtZeWAvOWtmOaUvuS6jkdNLnN0dU51bVxuICAgICovXG4gICAgYW5zd2VyRm9yU3R1KHR5cGUpe1xuICAgICAgICAvL+a4heepulxuICAgICAgICB0aGlzLnJpZ2h0U3R1ID0gW107ICAgICAgICBcbiAgICAgICAgLy90eXBlIDDkuLrlhajpg6jvvIwx5Li6562U6ZSZ6YOo5YiGXG4gICAgICAgIC8v5o6J57q/5a2m55Sf5pWw57uEXG4gICAgICAgIC8vdGhpcy5zdGVwT3V0cyA9IFtdO1xuICAgICAgICAvL+WtpueUn+aVsOe7hFxuICAgICAgICBHTS5zdHVOdW0gPSBbXTsgIC8v5omA5pyJ562U6aKY6L+H56iL5Lit55qE5a2m55SfXG4gICAgICAgIC8v5peB5ZCs55Sf5pWw57uEXG4gICAgICAgIHRoaXMuYXVkaXRvclN0dXMgPSBbXTsgIC8v5omA5pyJ562U6aKY6L+H56iL5Lit55qE5peB5ZCs55Sf5pWw57uEXG4gICAgICAgIGlmKHR5cGUgPT09IDApe1xuICAgICAgICAgICAgLy8gR00uc3R1TnVtID0gIHRoaXMuc3R1SURzOy8v5LiN6IO95piv5byV55So5aSN5Yi277yM5Zug5Li65Zyo562U6aKY6L+H56iL5LitdGhpcy5zdHVJRHPlhoXnmoTlgLzkvJrlj5ggICAgICAgICAgICBcbiAgICAgICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLnN0dUlEcyl7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkIDogdGhpcy5zdHVJRHNbaV0uaWQsXG4gICAgICAgICAgICAgICAgICAgIG5pY2tOYW1lIDogdGhpcy5zdHVJRHNbaV0ubmlja05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHJvbGVUeXBlIDogdGhpcy5zdHVJRHNbaV0ucm9sZVR5cGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5zdHVJRHNbaV0ucm9sZVR5cGUgPT09IFwiMFwiKXtcbiAgICAgICAgICAgICAgICAgICAgR00uc3R1TnVtLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaXRvclN0dXMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgICAgIC8v5Zyo5byA5aeL562U6aKY5pe2IOS8oOWFpTHvvIzmnaXliKTmlq3plJnor6/lrabnlJ/nrZTpopjmjInpkq7mmK/lkKbnva7ngbBcbiAgICAgICAgZWxzZSBpZih0eXBlID09PSAxKXtcbiAgICAgICAgICAgIC8v5Y67YnVsbGV0dmlld+mHjOmdouWPluaVsOaNrlxuICAgICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuYnVsbGVudFZpZXdSaWdodHMpe1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRTdHUucHVzaCh0aGlzLmJ1bGxlbnRWaWV3UmlnaHRzW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuc3R1SURzKXtcbiAgICAgICAgICAgICAgICBsZXQgc3RhdCA9IDA7IC8vMOS4uuayoeacieetlOWvuVxuICAgICAgICAgICAgICAgIGZvcihsZXQgaiBpbiB0aGlzLnJpZ2h0U3R1KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5yaWdodFN0dVtqXSA9PT0gdGhpcy5zdHVJRHNbaV0uaWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoc3RhdCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiB0aGlzLnN0dUlEc1tpXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tOYW1lIDogdGhpcy5zdHVJRHNbaV0ubmlja05hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnN0dUlEc1tpXS5yb2xlVHlwZSA9PT0gXCIwXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgR00uc3R1TnVtLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaXRvclN0dXMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v5aaC5p6c5Li6MCDor7TmmI7msqHmnInnrZTplJnlrabnlJ/vvIzliJnlsIbnrZTplJnlrabnlJ/lvIDlp4vnrZTpopjmjInpkq7nva7ngbBcbiAgICAgICAgICAgIGlmKEdNLnN0dU51bS5sZW5ndGggPT0gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gIFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAg5q+P5qyh562U6aKY57uT5p2fXG4gICAgKi8gXG4gICAgYW5zd2VyRmluaXNoKGRhdGEpe1xuICAgICAgICAvL+i2heaXtuWRveS7pOS4gOWumuaYr+WNleadoe+8jOetlOmimOi/h+eoi+S4jeS8muWMheWQq2Fuc3dlcnN0YXRlID0gMueahOaDheWGtSDmiYDku6XljZXni6zmlL7lpJbpnaJcbiAgICAgICAgaWYoZGF0YS5hbnN3ZXJzdGF0ZSA9PSAyICYmIEdNLnJvbGUgPT09IDEpe1xuICAgICAgICAgICAgaWYoIVJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guaXNXaW5lZCAmJiB0aGlzLmNvdW50VUkpe1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnRVSS5jb3VudEZpbnNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb25jZSA9IGZhbHNlOy8v6K6w5b2V5aSW5b6q546v5piv5ZCm5bey57uP6L+b5YWl5LiA5qyhXG4gICAgICAgIC8v5Yik5pat562U5a+55qyh5pWw5ZKM5Lyg6L+H5p2l55qE5pWw57uE77yM5aaC5p6c55u4562J6YCA5Ye65b6q546vXG4gICAgICAgIGZvcihsZXQgaSBpbiBkYXRhKXtcbiAgICAgICAgICAgIC8vMXY25a2m55Sf56uv5pWw5o2u5piv5YW25LuW5a2m55Sf5pe25LiN55So6LWw6L+b5p2lXG4gICAgICAgICAgICBpZihHTS5jbGFzc01vZGUgPT09IFwiMXY2XCIgJiYgIEdNLnJvbGUgPT09IDEgJiYgZGF0YVtpXS5yb2xlID09PSAxICYmICBHTS5zZW5kZXJJZCAhPT0gZGF0YVtpXS5zZW5kZXJJZCl7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighb25jZSl7XG4gICAgICAgICAgICAgICAgb25jZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy/liKTmlq3lvZPliY3lrabnlJ/mmK/lkKbmnInov4forrDlvZVcbiAgICAgICAgICAgICAgICBsZXQgaXNIYXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBqIGluIHRoaXMuYW5zd2VyRmluc2loTGVuZ3Rocyl7XG4gICAgICAgICAgICAgICAgICAgIC8vauWvueW6lOeahOaYr3NlbmRlcklEXG4gICAgICAgICAgICAgICAgICAgIGlmKGogPT0gZGF0YVtpXS5zZW5kZXJJZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0hhdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIWlzSGF2ZSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5zd2VyRmluc2loTGVuZ3Roc1tkYXRhW2ldLnNlbmRlcklkXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihkYXRhLmxlbmd0aCA8PSB0aGlzLmFuc3dlckZpbnNpaExlbmd0aHNbZGF0YVtpXS5zZW5kZXJJZF0pe1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoTnVtYmVyKGkpIDwgdGhpcy5hbnN3ZXJGaW5zaWhMZW5ndGhzW2RhdGFbaV0uc2VuZGVySWRdKXtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v5o6S6Zmk5LqG6Ieq5bexXG4gICAgICAgICAgICBpZihHTS5zZW5kZXJJZCAhPSBkYXRhW2ldLnNlbmRlcklkICYmIGRhdGFbaV0uZXZlbnRUeXBlKXtcbiAgICAgICAgICAgICAgICAvL+S4uuS6huaOkumZpDF2NuS4reWtpueUn+WPkWZpbnNo57uZ6ICB5biI5pe277yM5LiN5pKt5pS+562U5a+56Z+z5pWIXG4gICAgICAgICAgICAgICAgaWYoKEdNLmNsYXNzTW9kZSA9PT0gXCIxdjFcIikgfHwgKEdNLnJvbGUgPT09IDAgJiYgZGF0YVtpXS5yb2xlID09PSAxICYmIEdNLmNsYXNzTW9kZSA9PT0gXCIxdjZcIiAmJiAhdGhpcy5wYWdlYm94LnB1enpsZUZsYWcpICl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGFbaV0uYW5zd2Vyc3RhdGUgPT0gMSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKCdzb3VuZC9FdmVudHMvc21hbGxFcnJvcldpdGhUaGluZy5tcDMnKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoJ3NvdW5kL0V2ZW50cy9zbWFsbFdpbi5tcDMnKTsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hbnN3ZXJGaW5zaWhMZW5ndGhzW2RhdGFbaV0uc2VuZGVySWRdKys7XG4gICAgICAgICAgICAgICAgLy/liKTmlq0xdjHov5jmmK8xdjZcbiAgICAgICAgICAgICAgICAvL+aYr+WtpueUn+W5tuS4lOaYrzF2NueahOaXtuWAme+8jOiAgeW4iOa8lOekuuWtpueUn+WQjOatpea8lOekuiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKEdNLmNsYXNzTW9kZSA9PT0gXCIxdjFcIiB8fCAoZGF0YVtpXS5yb2xlID09PSAwICYmIEdNLmNsYXNzTW9kZSA9PT0gXCIxdjZcIikpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuc3dlck9uZVRvT25lKGRhdGFbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKEdNLmNsYXNzTW9kZSA9PT0gXCIxdjZcIiAmJiBHTS5yb2xlID09PSAwKXsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvL+etieS6jjPnmoTml7blgJnmmK/lrabnlJ/lhajpg6jnrZTlr7lcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YVtpXS5hbnN3ZXJzdGF0ZSA9PT0gMyl7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbnN3ZXJDaG9zZVJvbGVUeXBlKGRhdGFbaV0pOyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5YW25LuW6ZyA6KaB5pu05paw5a2Q5by56Z2i5p2/XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhW2ldLm5pY2tOYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldFZpZXdEYXRhLnB1c2goZGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mm7TmlrDlrZDlvLnpnaLmnb/mlbDmja5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0YUJ1bGxldHModGhpcy5idWxsZXRWaWV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgICAgICAgICAvLyAxdjbliIfmjaLop4bop5LlkI7lpoLmnpzlvZPliY3nrZTpopjlrabnlJ/nrYnkuo7liIfmjaLop4bop5LlrabnlJ9pZCDliJnlkIzmraXmvJTnpLogICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jaGFuZ2Vyb2xlU3R1ZGVudElkICYmIGRhdGFbaV0uc2VuZGVySWQgPT09IHRoaXMuY2hhbmdlcm9sZVN0dWRlbnRJZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuc3dlck9uZVRvT25lKGRhdGFbaV0sXCJjaGFuZ2Vyb2xlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy90aGlzLmFuc3dlck9uZShkYXRhW3RoaXMuYW5zd2VyRmluc2loTGVuZ3RoXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogIDF2MeeahOetlOmimOe7k+adn+WPjemmiCDliJ3lp4vljJbnrZTpopjmlbDmja5pbml0XG4gICAgKi8gXG4gICAgIGFuc3dlck9uZVRvT25lKGRhdGEsaW5pdCl7XG4gICAgICAgIC8vIGxldCBfY2hpbGRzID0gdGhpcy5wYWdlYm94LnBpY3R1cmVJdGVtO1xuICAgICAgICBsZXQgc3RhcnRQb3N0aW9ub2JqLHRhZ29iaixzdGFydHBvc1gsc3RhcnRwb3NZLG9iaixUYWdFdmVudExpc3Q7ICAgICAgIFxuICAgICAgICBpZihkYXRhLmV2ZW50VHlwZSA9PSBcImRyb3BcIil7ICAgICAgICAgICBcbiAgICAgICAgICAgIG9iaiA9IHRoaXMuZmluZFRhZ2FuZEl0ZW0oZGF0YSk7XG4gICAgICAgICAgICBzdGFydFBvc3Rpb25vYmogPSBvYmouc3RhcnRQb3N0aW9ub2JqO1xuICAgICAgICAgICAgdGFnb2JqID0gb2JqLnRhZ29iajtcbiAgICAgICAgICAgIHN0YXJ0cG9zWCA9IE51bWJlcihzdGFydFBvc3Rpb25vYmouUG9zaXRpb24uc3BsaXQoJywnKVswXSkgKyBzdGFydFBvc3Rpb25vYmouaXRlbVdpZHRoLzI7XG4gICAgICAgICAgICBzdGFydHBvc1kgPSBOdW1iZXIoc3RhcnRQb3N0aW9ub2JqLlBvc2l0aW9uLnNwbGl0KCcsJylbMV0pICsgc3RhcnRQb3N0aW9ub2JqLml0ZW1IZWlnaHQvMjsgIFxuICAgICAgICAgICAgdGhpcy5wYWdlYm94LmFuc3dlckluZGV4Q2hhbmdlKG9iai5zdGFydFBvc3Rpb25vYmopO1xuICAgICAgICAgICAgdGhpcy5maWd1cmVNb3ZlV2l0aEl0ZW0udmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZU1vdmVXaXRoSXRlbS5wb3Mob2JqLnN0YXJ0UG9zdGlvbm9iai54LG9iai5zdGFydFBvc3Rpb25vYmoueSk7XG4gICAgICAgICAgICBpZihkYXRhLmFuc3dlcnN0YXRlID09IDApeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhzdGFydFBvc3Rpb25vYmose3g6ZGF0YS5tb3VzZVVwUG9zWCx5OmRhdGEubW91c2VVcFBvc1l9LDUwMCxMYXlhLmxpbmVhckluLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+eyAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZWJveC5saXN0c2hpZnRmaXJzdCh0YWdvYmosc3RhcnRQb3N0aW9ub2JqLGRhdGEpOyAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pLDAsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy/miYvnmoTnp7vliqhcbiAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuZmlndXJlTW92ZVdpdGhJdGVtLHt4OmRhdGEubW91c2VVcFBvc1gseTpkYXRhLm1vdXNlVXBQb3NZfSw1MDAsTGF5YS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICAgKCk9PnsgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlTW92ZVdpdGhJdGVtLnZpc2libGUgPSBmYWxzZTsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pLDAsdHJ1ZSk7XG4gICAgICAgICAgICB9ZWxzZSBpZihkYXRhLmFuc3dlcnN0YXRlID09IDEpe1xuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8oc3RhcnRQb3N0aW9ub2JqLHt4OmRhdGEubW91c2VVcFBvc1gseTpkYXRhLm1vdXNlVXBQb3NZfSw1MDAsTGF5YS5saW5lYXJJbixcbiAgICAgICAgICAgICAgICAgICAgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57TGF5YS5Ud2Vlbi50byhzdGFydFBvc3Rpb25vYmose3g6c3RhcnRwb3NYLHk6c3RhcnRwb3NZfSw1MDAsTGF5YS5saW5lYXJJbixudWxsLDAsdHJ1ZSk7fSlcbiAgICAgICAgICAgICAgICAsMCx0cnVlKTtcbiAgICAgICAgICAgICAgICAvL+aJi+eahOenu+WKqFxuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5maWd1cmVNb3ZlV2l0aEl0ZW0se3g6ZGF0YS5tb3VzZVVwUG9zWCx5OmRhdGEubW91c2VVcFBvc1l9LDUwMCxMYXlhLmxpbmVhckluLFxuICAgICAgICAgICAgICAgICAgICBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntMYXlhLlR3ZWVuLnRvKHRoaXMuZmlndXJlTW92ZVdpdGhJdGVtLHt4OnN0YXJ0cG9zWCx5OnN0YXJ0cG9zWX0sNTAwLExheWEubGluZWFySW4sICAgICAgICAgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlTW92ZVdpdGhJdGVtLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICwwLHRydWUpO30pXG4gICAgICAgICAgICAgICAgLDAsdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfWVsc2UgaWYoZGF0YS5ldmVudFR5cGUgPT0gXCJjbGlja1wiKXsgICAgICAgICBcbiAgICAgICAgICAgIG9iaiA9IHRoaXMuZmluZFRhZ2FuZEl0ZW0oZGF0YSk7XG4gICAgICAgICAgICBzdGFydFBvc3Rpb25vYmogPSBvYmouc3RhcnRQb3N0aW9ub2JqO1xuICAgICAgICAgICAgdGFnb2JqID0gb2JqLnRhZ29iajtcbiAgICAgICAgICAgIGlmKGRhdGEuYW5zd2Vyc3RhdGUgPT0gMCl7ICBcbiAgICAgICAgICAgICAgICAvLyBpZihHTS5jbGFzc01vZGUgPT09IFwiMXY2XCIpe1xuICAgICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuZmlndXJlTW92ZVdpdGhJdGVtLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuZmlndXJlTW92ZVdpdGhJdGVtLnBvcyhvYmouc3RhcnRQb3N0aW9ub2JqLngsb2JqLnN0YXJ0UG9zdGlvbm9iai55KTtcbiAgICAgICAgICAgICAgICAvLyB9ICAgIFxuICAgICAgICAgICAgICAgIC8v562U6aKY5q2j56Gu77yM5pi+56S6562U6aKY5q2j56Gu5by556qXICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Vib3gubGlzdHNoaWZ0Zmlyc3QodGFnb2JqLHN0YXJ0UG9zdGlvbm9iaixkYXRhKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoZGF0YS5ldmVudFR5cGUgPT0gXCJsaWdhdHVyZVwiKXsgICAgICAgICBcbiAgICAgICAgICAgIG9iaiA9IHRoaXMuZmluZFRhZ2FuZEl0ZW0oZGF0YSk7XG4gICAgICAgICAgICBzdGFydFBvc3Rpb25vYmogPSBvYmouc3RhcnRQb3N0aW9ub2JqO1xuICAgICAgICAgICAgdGFnb2JqID0gb2JqLnRhZ29iajtcbiAgICAgICAgICAgIC8v55S75LiA5p2h55u057q/XG4gICAgICAgICAgICBsZXQgc3RhcnRwb3N0aW9uWCA9IE51bWJlcihzdGFydFBvc3Rpb25vYmouUG9zaXRpb24uc3BsaXQoJywnKVswXSkgKyBzdGFydFBvc3Rpb25vYmouaXRlbVdpZHRoLzI7ICBcbiAgICAgICAgICAgIGxldCBzdGFydHBvc3Rpb25ZID0gTnVtYmVyKHN0YXJ0UG9zdGlvbm9iai5Qb3NpdGlvbi5zcGxpdCgnLCcpWzFdKSArIHN0YXJ0UG9zdGlvbm9iai5pdGVtSGVpZ2h0LzI7ICAgXG4gICAgICAgICAgICBsZXQgZW5kcG9zdGlvblggLCBlbmRwb3N0aW9uWTtcbiAgICAgICAgICAgIGlmKHRhZ29iail7XG4gICAgICAgICAgICAgICAgZW5kcG9zdGlvblggPSBOdW1iZXIodGFnb2JqLlBvc2l0aW9uLnNwbGl0KCcsJylbMF0pICsgdGFnb2JqLml0ZW1XaWR0aC8yOyAgXG4gICAgICAgICAgICAgICAgZW5kcG9zdGlvblkgPSBOdW1iZXIodGFnb2JqLlBvc2l0aW9uLnNwbGl0KCcsJylbMV0pICsgdGFnb2JqLml0ZW1IZWlnaHQvMjtcbiAgICAgICAgICAgIH0gICAgICAgXG4gICAgICAgICAgICBsZXQgbGlnYXR1cmVUZW1wID0gbmV3IExheWEuU3ByaXRlKCk7XHRcbiAgICAgICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQobGlnYXR1cmVUZW1wKTtcbiAgICAgICAgICAgIGlmKGRhdGEuYW5zd2Vyc3RhdGUgPT0gMCl7ICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKHRhZ29iai5hbnN3ZXJ0YWdBcnJheS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgVGFnRXZlbnRMaXN0ID0gdGFnb2JqLmFuc3dlcnRhZ0FycmF5WzBdO1xuICAgICAgICAgICAgICAgIH07ICBcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Vib3gubGlzdHNoaWZ0Zmlyc3QodGFnb2JqLHN0YXJ0UG9zdGlvbm9iaixkYXRhKTsgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Vib3guaW1hZ2VMaWdhdHVyZXMucHVzaChsaWdhdHVyZVRlbXApO1xuICAgICAgICAgICAgICAgIGxpZ2F0dXJlVGVtcC5ncmFwaGljcy5kcmF3TGluZShzdGFydHBvc3Rpb25YLHN0YXJ0cG9zdGlvblksZW5kcG9zdGlvblgsZW5kcG9zdGlvblkgLFwiIzhjY2ZkNVwiLCA4KTtcbiAgICAgICAgICAgICAgICBsaWdhdHVyZVRlbXAuZ3JhcGhpY3MuZHJhd0NpcmNsZShzdGFydHBvc3Rpb25YLHN0YXJ0cG9zdGlvblksIDEwLCBcIiM4Y2NmZDVcIik7XG4gICAgICAgICAgICAgICAgbGlnYXR1cmVUZW1wLmdyYXBoaWNzLmRyYXdDaXJjbGUoZW5kcG9zdGlvblggLGVuZHBvc3Rpb25ZLCAxMCwgXCIjOGNjZmQ1XCIpOyAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9ZWxzZSBpZihkYXRhLmFuc3dlcnN0YXRlID09IDEpe1xuICAgICAgICAgICAgICAgIGxpZ2F0dXJlVGVtcC5ncmFwaGljcy5kcmF3TGluZShzdGFydHBvc3Rpb25YLHN0YXJ0cG9zdGlvblksZGF0YS5tb3VzZVVwUG9zWCxkYXRhLm1vdXNlVXBQb3NZICxcIiNmY2NjY2NcIiwgOCk7XG4gICAgICAgICAgICAgICAgbGlnYXR1cmVUZW1wLmdyYXBoaWNzLmRyYXdDaXJjbGUoc3RhcnRwb3N0aW9uWCxzdGFydHBvc3Rpb25ZLCAxMCwgXCIjZmNjY2NjXCIpO1xuICAgICAgICAgICAgICAgIGxpZ2F0dXJlVGVtcC5ncmFwaGljcy5kcmF3Q2lyY2xlKGRhdGEubW91c2VVcFBvc1ggLGRhdGEubW91c2VVcFBvc1ksIDEwLCBcIiNmY2NjY2NcIik7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIExheWEudGltZXIub25jZSgxMDAwLHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICAgICAgbGlnYXR1cmVUZW1wLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZSBpZihkYXRhLmV2ZW50VHlwZSA9PSBcInB1enpsZVwiKXsgICAgICAgICAgIFxuICAgICAgICAgICAgb2JqID0gdGhpcy5maW5kVGFnYW5kSXRlbShkYXRhKTtcbiAgICAgICAgICAgIHN0YXJ0UG9zdGlvbm9iaiA9IG9iai5zdGFydFBvc3Rpb25vYmo7XG4gICAgICAgICAgICBpZihkYXRhLnRhZ25hbWUgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgIHN0YXJ0UG9zdGlvbm9iai5yb3RhdGlvbiA9IGRhdGEudGFnbmFtZTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8oc3RhcnRQb3N0aW9ub2JqLHt4OmRhdGEubW91c2VVcFBvc1gseTpkYXRhLm1vdXNlVXBQb3NZfSw1MDAsbnVsbCwwLHRydWUpOyBcbiAgICAgICAgICAgIH0gICBcbiAgICAgICAgfSAgICBcbiAgICAgfVxuXG4gICAgLyoqXG4gICAgICog5p+l5om+aXRlbeWSjOebruagh3RhZ1xuICAgICAqL1xuICAgIGZpbmRUYWdhbmRJdGVtKGRhdGEpe1xuICAgICAgICBsZXQgX2NoaWxkcyA9IHRoaXMucGFnZWJveC5waWN0dXJlSXRlbTtcbiAgICAgICAgbGV0IHN0YXJ0UG9zdGlvbm9iaix0YWdvYmosc3RhcnRwb3NYLHN0YXJ0cG9zWTsgIFxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpPF9jaGlsZHMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBpZihfY2hpbGRzW2ldLm5hbWUgPT0gZGF0YS5zdGFydG5hbWUpe1xuICAgICAgICAgICAgICAgIHN0YXJ0UG9zdGlvbm9iaiA9IF9jaGlsZHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihfY2hpbGRzW2ldLm5hbWUgPT0gZGF0YS50YWduYW1lKXtcbiAgICAgICAgICAgICAgIGlmKGRhdGEudGFnbmFtZSAhPSBcIuiDjOaZr1wiKXtcbiAgICAgICAgICAgICAgICAgICB0YWdvYmogPSBfY2hpbGRzW2ldO1xuICAgICAgICAgICAgICAgfSAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgICAgXG4gICAgICAgIGxldCBvYmogPSB7c3RhcnRQb3N0aW9ub2JqOnN0YXJ0UG9zdGlvbm9iaix0YWdvYmo6dGFnb2JqfTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgIDF2NuetlOmimCwg56Gu6K6k5piv5a2m55Sf6L+Y5piv5peB5ZCs55Sf77yM6LWw5LiN5ZCM55qE5pWw57uEXG4gICAgKi8gICAgXG4gICAgYW5zd2VyQ2hvc2VSb2xlVHlwZShkYXRhKXtcbiAgICAgICAgLy9hbGxTdGF0ZSA6ICB0aGlzLmFsbFN0dVN0YXRlICB8fCB0aGlzLmFsbEF1ZGl0b3JTdHVTdGF0ZVxuICAgICAgICAvL3N0dXMgICAgIDogIEdNLnN0dU51bSAgICAgICAgIHx8IHRoaXMuYXVkaXRvclN0dXNcbiAgICAgICAgLy90cnVlTnVtICA6ICB0aGlzLnRydWVOdW0gICAgICB8fCB0aGlzLmF1ZGl0b3JUcnVlTnVtXG4gICAgICAgIGlmKGRhdGEucm9sZVR5cGUgPT09IFwiMFwiKXtcbiAgICAgICAgICAgIHRoaXMuYW5zd2VyT25lVG9TaXgoZGF0YSAsIHRoaXMuYWxsU3R1U3RhdGUgLCBHTS5zdHVOdW0gLCB0aGlzLnRydWVOdW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICB0aGlzLmFuc3dlck9uZVRvU2l4KGRhdGEgLCB0aGlzLmFsbEF1ZGl0b3JTdHVTdGF0ZSAsIHRoaXMuYXVkaXRvclN0dXMgLCB0aGlzLmF1ZGl0b3JUcnVlTnVtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqICAxdjbnrZTpopjvvIzlrabnlJ/nrZTlr7nnmoTlpITnkIblh73mlbBcbiAgICAqLyAgIFxuICAgIGFuc3dlck9uZVRvU2l4KGRhdGEgLCBhbGxTdGF0ZSAsIHN0dXMgLCB0cnVlTnVtKXtcbiAgICAgICAgbGV0IHN0YXRIYXZlID0gZmFsc2U7XG4gICAgICAgIGxldCBzdHVkZW50QW5zd2Vyc3RhdHU7XG4gICAgICAgIGZvcihsZXQgaiBpbiBhbGxTdGF0ZSl7XG4gICAgICAgICAgICBpZihhbGxTdGF0ZVtqXS5zZW5kZXJJZCAgPT09IGRhdGEuc2VuZGVySWQpe1xuICAgICAgICAgICAgICAgIHN0YXRIYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL+WPquacieW9k+WJjeWtpueUn+i/mOayoeacieWtmOWcqOS6juaVsOe7hOS4reaXtuWIm+W7uui/meS4quWtpueUn+WvueixoVxuICAgICAgICBpZighc3RhdEhhdmUpe1xuICAgICAgICAgICAgbGV0IHN0dU9iaiA9IHtcbiAgICAgICAgICAgICAgICBzZW5kZXJJZDpkYXRhLnNlbmRlcklkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFsbFN0YXRlLnB1c2goc3R1T2JqKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZm9yKGxldCBpIGluIGFsbFN0YXRlKXtcbiAgICAgICAgICAgIC8v5aaC5p6c5a2m55Sf5bey57uP5a2Y5Zyo77yM5YiZKzHnrZTlr7nmrKHmlbBcbiAgICAgICAgICAgIGlmKGFsbFN0YXRlW2ldLnNlbmRlcklkID09PSBkYXRhLnNlbmRlcklkKXsgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy/mraTlrabnlJ/lhajpg6jnrZTlr7nliJnov5vlhaUgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8v5Yik5pat5b2T5YmN5pyJ5Yeg5Liq5a2m55Sf562U5a+577yM5aaC5p6c5rKh5pyJ5YWo6YOo562U5a+55YiZ5Y+N6aaI57uZ5a2m55Sf77yM5ZCm5YiZ5YWz6Zet5omA5pyJ5a2m55Sf55qE562J5b6F5by55bGCXG4gICAgICAgICAgICAgICAgdHJ1ZU51bSsrO1xuICAgICAgICAgICAgICAgIC8v5YC857G75Z6L77yM5bCG5L+u5pS55ZCO55qE5YC85YaN6LWL5YC85Zue5Y67XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5yb2xlVHlwZSA9PT0gXCIwXCIpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRydWVOdW0gPSB0cnVlTnVtIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpdG9yVHJ1ZU51bSA9IHRydWVOdW0gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldFZpZXdEYXRhLnB1c2goe3NlbmRlcklkOmRhdGEuc2VuZGVySWQscm9sZVR5cGU6ZGF0YS5yb2xlVHlwZSxuaWNrTmFtZTpkYXRhLm5pY2tOYW1lLGV2ZW50VHlwZTpcIlwiLHN0YXJ0bmFtZTpcIlwiLHRhZ25hbWU6XCJcIixcbiAgICAgICAgICAgICAgICBhbnN3ZXJzdGF0ZTpcIlwiLGFsbHN0YXRlOlwi5YWo6YOo562U5a+5XCJ9KTtcblxuICAgICAgICAgICAgICAgIC8v5pu05paw5a2Q5by56Z2i5p2/5pWw5o2uXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGFCdWxsZXRzKHRoaXMuYnVsbGV0Vmlld0RhdGEpO1xuICAgICAgICAgICAgICAgIC8v6K6w5b2V562U5a+55a2m55Sf55qESWQgXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodFN0dS5wdXNoKGRhdGEuc2VuZGVySWQpO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuY291bnRVSSl7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcInNlbmRBbnN3ZXJcIix7c2VuZGVySWQ6ZGF0YS5zZW5kZXJJZCxhbnNlclN0YXRlOjAgLCB1c2V0aW1lIDogdGhpcy5jb3VudFVJLnVzZVRpbWV9KTtcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vR00uc3R1TnVtLmxlbmd0aCDlvIDlp4vnrZTpopjml7bnmoTlrabnlJ/kuKrmlbBcbiAgICAgICAgICAgICAgICAvLyA1IDblkI3mmL7npLrigJzkvaDnnJ/mo5LvvIHigJ3vvIzpnIDopoHkv67mlLlVSe+8gVxuICAgICAgICAgICAgICAgIC8v5pyA5ZCO5LiA5Liq5Lq65oiW6ICF5LiA5Liq5a2m55Sf5pe277yM5LiN55So5pi+56S6ZGlhbG9n6Z2i5p2/5paH5a2XXG4gICAgICAgICAgICAgICAgbGV0IHNob3dEID0gLTE7XG4gICAgICAgICAgICAgICAgaWYoc3R1cy5sZW5ndGggPT0gMSB8fCB0cnVlTnVtID49IHN0dXMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0QgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL+W5v+aSreaXtuW4puS4imlk77yMcmFua3BhZ2XkuK3liKTmlq1pZOebuOWQjOWImeaYvuekuuW8ueWxglxuICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcInJhbmtWaWV3XCIse3JhbmtudW0gOiB0cnVlTnVtICwgc2hvd0RpYWxvZzpzaG93RCxzdHVJZCA6IGRhdGEuc2VuZGVySWQgLCBzdGF0IDogXCJPcGVuXCJ9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFN0YXQoKTtcblxuICAgICAgICAgICAgICAgIC8v5aaC5p6c6IO96L+b5YWlaWYg6YKj5ZCO6Z2i55qE5paw5bu65a+56LGh5bCx5LiN6ZyA6KaB5YaN6LWw5LqG77yM55u05o6lcmV0dXJu6YCA5Ye66L+Z5Liq5Ye95pWwXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgIDF2NuetlOmimO+8jOWtpueUn+etlOWujOmimOebruWQji/miJbogIXmjonnur8gICDph43nva7ogIHluIjnrZTpopjmjInpkq7nirbmgIFcbiAgICAqLyBcbiAgICByZWZyZXNoU3RhdCgpe1xuICAgICAgICAgaWYodGhpcy50cnVlTnVtID49IEdNLnN0dU51bS5sZW5ndGgpe1xuICAgICAgICAgICAgLy/kvaDotaLkuobliqjnlLvljaDnlKgz56eS77yM5omA5Lul5oC75YWx6KaB5pyJNuenku+8jOaJjeiDveiuqeaOkuWQjemdouadv+aYvuekujPnp5JcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcInJhbmtWaWV3XCIse3N0YXQgOiBcIkNsb3NlXCIgLCB0aW1lIDogNn0pOyAgICAgICAgICBcbiAgICAgICAgICAgIC8v5a2m55Sf5ZKM5peB5ZCs55Sf6YO9562U5a6M6aKY55uu5ZCO6YeN572u6ICB5biI562U6aKY5oyJ6ZKu54q25oCBXG4gICAgICAgICAgICBpZih0aGlzLmF1ZGl0b3JUcnVlTnVtICA+PSB0aGlzLmF1ZGl0b3JTdHVzLmxlbmd0aCl7ICAgICAgIFxuICAgICAgICAgICAgICAgIC8v5L+u5pS55byA5aeL562U6aKY5oyJ6ZKuXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBbnN3ZXJCdG4oJ2ZpbmlzaCcpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZWJveC5hbnN3ZXJBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnN0b3BNdXNpYyhcInNvdW5kL2Fuc3dlcmluZy5tcDNcIik7IFxuICAgICAgICAgICAgICAgIHRoaXMuYW5zd2VyaW5nID0gdHJ1ZTsgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvL+WPlua2iGNvdW50RG93blZpZXdcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNvdW50VUkpeyAgIFxuICAgICAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLmNsZWFyQWxsKHRoaXMuY291bnRVSSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5jb3VudFVJKTsgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqICAgMXY2562U6aKYIOi2heaXtuWHveaVsFxuICAgICovIFxuICAgIGFuc3dlclN0dU92ZXJUaW1lKCl7XG4gICAgICAgIC8v5a2m55Sf77yM5peB5ZCs55Sf77yM562U6aKY6L+H56iL5Lit5o6J57q/5a2m55SfXG4gICAgICAgIC8vbGV0IGFyclRlbXAgPSBbLi4uR00uc3R1TnVtLCAuLi50aGlzLmF1ZGl0b3JTdHVzLCAuLi50aGlzLnN0ZXBPdXRzXTtcbiAgICAgICAgLy/mjonnur/lrabnlJ/nm7TmjqXliKDpmaRcbiAgICAgICAgbGV0IGFyclRlbXAgPSBbLi4uR00uc3R1TnVtLCAuLi50aGlzLmF1ZGl0b3JTdHVzXTtcbiAgICAgICAgZm9yKGxldCBpIGluIGFyclRlbXApe1xuICAgICAgICAgICAgbGV0IHN0YXQgPSAwOyAvLzDkuLrmsqHmnInnrZTlr7lcbiAgICAgICAgICAgIGZvcihsZXQgaiBpbiB0aGlzLnJpZ2h0U3R1KXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnJpZ2h0U3R1W2pdID09PSBhcnJUZW1wW2ldLmlkKXtcbiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzmnInnm7jlkIzvvIzor7TmmI7ov5nkuKrlrabnlJ/lhajpg6jnrZTlr7nvvIzliJnot7Plh7rlhoXlvqrnjq8s6L+b5YWl5LiL5LiA5qyh5b6q546vXG4gICAgICAgICAgICAgICAgICAgIHN0YXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzdGF0ID09PSAwKXsgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldFZpZXdEYXRhLnB1c2goe3NlbmRlcklkOmFyclRlbXBbaV0uaWQgLCByb2xlVHlwZTphcnJUZW1wW2ldLnJvbGVUeXBlLG5pY2tOYW1lOmFyclRlbXBbaV0ubmlja05hbWUgICxldmVudFR5cGU6XCJcIixzdGFydG5hbWU6XCJcIix0YWduYW1lOlwiXCIgLCBhbnN3ZXJzdGF0ZTpcIlwiICwgYWxsc3RhdGU6XCLotoXml7ZcIn0pO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcInNlbmRBbnN3ZXJcIix7c2VuZGVySWQ6YXJyVGVtcFtpXS5pZCAsIGFuc2VyU3RhdGU6MSAsIHVzZXRpbWUgOiAwfSlcbiAgICAgICAgICAgICAgICAvL+abtOaWsOWtkOW8uemdouadv+aVsOaNrlxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRhQnVsbGV0cyh0aGlzLmJ1bGxldFZpZXdEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICBcbiAgICAvKipcbiAgICAgKiAgIDF2NuetlOmimOabtOaWsOWtkOW8uemdouadv+aVsOaNrlxuICAgICovIFxuICAgIHVwZGF0YUJ1bGxldHMoYXJyKXtcbiAgICAgICAgLy/lsIbov4fmnaXnmoTmlbDmja7nrZvpgInlh7rmnaXmiJDkuIDkuKrmjInnhadzZW5kSWTotbDnmoTmlbDmja5cbiAgICAgICAgdmFyIG1hcCA9IHt9O1xuICAgICAgICB0aGlzLmRlc3QgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBsZXQgYWkgPSBhcnJbaV07XG4gICAgICAgICAgICBpZighbWFwW2FpLnNlbmRlcklkXSl7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBzZW5kZXJJZDogYWkuc2VuZGVySWQsXG4gICAgICAgICAgICAgICAgICAgIHJvbGVUeXBlOmFpLnJvbGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBuaWNrTmFtZTphaS5uaWNrTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogW2FpXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1hcFthaS5zZW5kZXJJZF0gPSBhaTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLmRlc3QubGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGogPSB0aGlzLmRlc3Rbal07XG4gICAgICAgICAgICAgICAgICAgIGlmKGRqLnNlbmRlcklkID09IGFpLnNlbmRlcklkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRqLmRhdGEucHVzaChhaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL+ehruiupOWcqOe6v+WtpueUn1xuICAgICAgICB0aGlzLmNvbmZpcm1CdWxsZW50SW5mbyh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgMXY2562U6aKY5a2Q5by56Z2i5p2/5pWw5o2u562b6YCJ5Zyo57q/5a2m55SfXG4gICAgICovXG4gICAgY29uZmlybUJ1bGxlbnRJbmZvKHR5cGUpe1xuICAgICAgICAvL3R5cGUgdHJ1ZSDpnIDopoHmjInpobrluo/mjpLliJdcbiAgICAgICAgLy/nrZvpgInlnKjnur/lrabnlJ9cbiAgICAgICAgbGV0IGFycnMgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuZGVzdCl7XG4gICAgICAgICAgICBmb3IobGV0IGogaW4gdGhpcy5zdHVJRHMpe1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuZGVzdFtpXS5zZW5kZXJJZCA9PSB0aGlzLnN0dUlEc1tqXS5pZCl7XG4gICAgICAgICAgICAgICAgICAgIGFycnMucHVzaCh0aGlzLmRlc3RbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3QgPSBhcnJzO1xuICAgICAgICBsZXQgdGVtcGFyciA9IFtdO1xuICAgICAgICBpZih0eXBlKXtcbiAgICAgICAgICAgIC8v5Y675oyJ6aG65bqP5o6S5YiXXG4gICAgICAgICAgICBmb3IobGV0IGEgaW4gdGhpcy5zdHVJRHMpe1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuc3R1SURzW2FdLnJvbGVUeXBlID09IFwiMFwiKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBiIGluIHRoaXMuZGVzdCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRlc3RbYl0uc2VuZGVySWQgPT0gdGhpcy5zdHVJRHNbYV0uaWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBhcnIucHVzaCh0aGlzLmRlc3RbYl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5ZCM5pe25Yig6ZmkZGVzdOS4reeahOi/meS4quWtpueUn+OAglxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdC5zcGxpY2UoYiwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVzdCA9IFsuLi50ZW1wYXJyICwgLi4udGhpcy5kZXN0XTtcbiAgICAgICAgLy/mnIDlkI7mi7zmjqXkvKDlhaVcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcImJ1bGxldExpc3RcIiAsIHRoaXMuZGVzdCk7XG4gICAgfVxuXG4gICBcbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJblvZPliY3pobXnrZTpopjnirbmgIFcbiAgICAgKi9cbiAgICBnZXRBbnN3ZXJTdGF0ZShkYXRhKXtcbiAgICAgICAgY29uc29sZS5sb2coXCLliJ3lp4vljJblvZPliY3pobXnrZTpopjnirbmgIFcIixkYXRhKTtcbiAgICAgICAgLy8g55yL6L+b5YWl55qE5Lq65piv6ICB5biI6L+Y5piv5a2m55SfIFxuICAgICAgICAvLyDlpoLmnpzmmK/ogIHluIgg5byA5aeL562U6aKY54q25oCBIOmcgOimgeaMiemSruaUueWPmOS4uuaaguWBnOetlOmimCDlubbkuJTop6Pnu5HogIHluIjkuovku7ZcbiAgICAgICAgLy8g5aaC5p6c5piv5a2m55Sf5byA5aeL562U6aKY54q25oCBIOWImemcgOimgea3u+WKoOS6i+S7tiBcbiAgICAgICAgIGlmKGRhdGEuYW5zd2VyU3RhdGUgPT09IFwic3RhcnRcIil7XG4gICAgICAgICAgICAvLyDmjInpkq7lj5jmiJDmmoLlgZznrZTpopggIOaMiemSruWPmOaIkOaaguWBnOetlOmimOWPr+eCuSAgXG4gICAgICAgICAgICBpZihHTS5yb2xlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgdGhpcy5hbnN3ZXJpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBbnN3ZXJCdG4oJ3BhdXNlJyk7XG4gICAgICAgICAgICAgICAgIHRoaXMucGFnZWJveC50aW1lT3V0RnJhbWVMb29wRXZlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoR00ucm9sZSA9PT0gMSl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5wYWdlYm94LnJpZ2h0bGVuZ3RoICE9IHRoaXMucGFnZWJveC50YXJnZXRUeXBlbGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZWJveC5waWN0dXJlRXZlbnQoKTsgXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG4gICAgIC8qKlxuICAgICAqIOWIneWni+WMluiOt+WPluW9k+WJjeetlOmimOaVsOaNrlxuICAgICAqL1xuICAgIGdldEFuc3dlckxpc3QoZGF0YSl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5b2T5YmN562U6aKY5pWw5o2uXCIsZGF0YSk7XG4gICAgICAgIGxldCB0ZWFjaGVyQW5zd2VyTGlzdDtcbiAgICAgICAgaWYoZGF0YS5zZW5kZXJJZCA9PT0gR00uc2VuZGVySWQpe1xuICAgICAgICAgICAgaWYoR00ucm9sZSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgdGVhY2hlckFuc3dlckxpc3QgPSBkYXRhLnRlYWNoZXJBbnN3ZXJMaXN0Lmxpc3RcbiAgICAgICAgICAgICAgICBpZihHTS5jbGFzc01vZGUgPT09IFwiMXY2XCIgJiYgdGVhY2hlckFuc3dlckxpc3QgIT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICAgICAgaWYodGVhY2hlckFuc3dlckxpc3QubGVuZ3RoID4gMCl7ICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ3JvbGVMaXN0SGFuZGxlcih0ZWFjaGVyQW5zd2VyTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdyb2xlQW5zd2VyTGlzdCgxLGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIC8v5Y+q5pyJ5Zyo5byA5aeL562U6aKY54q25oCBIOWtpueUn+WQjOatpeiAgeW4iCvlrabnlJ/mlbDmja4g5YW25LuW5oOF5Ya1IFxuICAgICAgICAgICAgICAgIC8vIGlmKCF0aGlzLmFuc3dlcmluZyl7XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5ncm9sZUFuc3dlckxpc3QoMSxkYXRhKTtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNoYW5nZVJvbGUg5pS25Yiw5YiH5o2i6KeG6KeS5oyH5LukXG4gICAgICovXG4gICAgY2hhbmdlUm9sZShkYXRhKXtcbiAgICAgICAgY29uc29sZS5sb2coXCLmlLbliLDliIfmjaLop4bop5LmjIfku6RcIixkYXRhKTtcbiAgICAgICAgLy8gbWVzc2FnZUNlbnRlci5lbWl0KFwiY29uc29sZVwiLHttZXNzYWdlOlwi5pS25Yiw5YiH5o2i6KeG6KeS5oyH5LukXCIsZGF0YTpkYXRhfSk7XG4gICAgICAgIC8vIOWIh+aNouinhuinkuWFs+mXrWJvdHRvbeS7peWPiuW3puWPs+WIh+aNouaMiemSriAg5b2T5a2m55SfaWTkuLroh6rlt7HnmoRpZOeahOaXtuWAmVxuICAgICAgICBpZihkYXRhLnN0dWRlbnRJZCA9PT0gR00uc2VuZGVySWQpe1xuICAgICAgICAgICAgdGhpcy5wYWdlYm94LnRpbWVPdXRGcmFtZUxvb3BFdmVudCgpO1xuICAgICAgICAgICAgdGhpcy5wYWdlYm94LnJldHVybml0ZW1zKCk7ICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wYWdlYm94LnJlc2V0U3RhdGUoKTsgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnBhZ2Vib3gudW5FdmVudHMoKTtcbiAgICAgICAgICAgIC8vIOiAgeW4iOinhuinklxuICAgICAgICAgICAgaWYodGhpcy5hbnN3ZXJpbmcpe1xuICAgICAgICAgICAgICAgdGhpcy5wYWdlYm94LnBpY3R1cmVFdmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g5riF56m65a2Y5pS+55qE5a2m55Sf6KeG6KeSaWRcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlcm9sZVN0dWRlbnRJZCA9IG51bGw7ICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wYWdlYm94LmFuc3dlcnBhcmFtcmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdyb2xlQW5zd2VyTGlzdCgwLGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5ib3R0b20udmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmJ0bkxlZnQudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmJ0blJpZ2h0LnZpc2libGUgPSB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8vIOi/mOWOn+mhtemdouaJgOacieaTjeS9nFxuICAgICAgICAgICAgdGhpcy5wYWdlYm94LnRpbWVPdXRGcmFtZUxvb3BFdmVudCgpO1xuICAgICAgICAgICAgdGhpcy5wYWdlYm94LnJldHVybml0ZW1zKCk7ICAgXG4gICAgICAgICAgICB0aGlzLnBhZ2Vib3gucmVzZXRTdGF0ZSgpOyAgICAgICBcbiAgICAgICAgICAgIHRoaXMucGFnZWJveC51bkV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5wYWdlYm94LmFuc3dlcnBhcmFtcmVzZXQoKTtcbiAgICAgICAgICAgIC8vIOWtpueUn+inhuinklxuICAgICAgICAgICAgdGhpcy5jaGFuZ3JvbGVBbnN3ZXJMaXN0KDEsZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmJ0bkxlZnQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5idG5SaWdodC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBhZ2Vib3gucmlnaHRsZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2Vyb2xlU3R1ZGVudElkID0gZGF0YS5zdHVkZW50SWQ7ICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogMXY2IOinhuinkuWIh+aNouWtmOaUvuiAgeW4iOWtpueUn+etlOmimOatpemqpFxuICAgICAqL1xuICAgIGNoYW5ncm9sZUFuc3dlckxpc3QodHlwZSxkYXRhKXtcbiAgICAgICAgbGV0IHN0dWRlbnRBbnN3ZXJMaXN0LHRlYWNoZXJBbnN3ZXJMaXN0O1xuICAgICAgICBsZXQgYWxsQW5zd2VyTGlzdHMgPSBbXTtcbiAgICAgICAgbGV0IHRlYWNoQW5zd2VyTGlzdCA9IFtdO1xuICAgICAgICAvL+iAgeW4iOaVsOaNruaYr+iHquW3seimgeeahOS5n+aYr+WtpueUn+imgeeahFxuICAgICAgICBpZihkYXRhLnRlYWNoZXJBbnN3ZXJMaXN0Lmxpc3Qpe1xuICAgICAgICAgICAgdGVhY2hlckFuc3dlckxpc3QgPSBkYXRhLnRlYWNoZXJBbnN3ZXJMaXN0Lmxpc3Q7XG4gICAgICAgICAgICBmb3IobGV0IGogaW4gdGVhY2hlckFuc3dlckxpc3Qpe1xuICAgICAgICAgICAgICAgIHRlYWNoQW5zd2VyTGlzdC5wdXNoKHRlYWNoZXJBbnN3ZXJMaXN0W2pdKTtcbiAgICAgICAgICAgICAgICBhbGxBbnN3ZXJMaXN0cy5wdXNoKHRlYWNoZXJBbnN3ZXJMaXN0W2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOagueaNrnR5cGUgMCDogIHluIggMSDmmK/lrabnlJ9cbiAgICAgICAgaWYodHlwZSA9PT0gMCl7XG4gICAgICAgICAgICAvLyDogIHluIjop4bop5Ig5Y+q5riy5p+T6ICB5biI5pWw5o2uICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmNoYW5ncm9sZUxpc3RIYW5kbGVyKHRlYWNoQW5zd2VyTGlzdCk7XG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09IDEpe1xuICAgICAgICAgICAgLy8g5a2m55Sf6KeG6KeSICDmuLLmn5PogIHluIjliqDkuIrlrabnlJ/mlbDmja5cbiAgICAgICAgICAgIGlmKGRhdGEuc3R1ZGVudEFuc3dlckxpc3QubGlzdCl7XG4gICAgICAgICAgICAgICAgc3R1ZGVudEFuc3dlckxpc3QgPSBkYXRhLnN0dWRlbnRBbnN3ZXJMaXN0Lmxpc3Q7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIHN0dWRlbnRBbnN3ZXJMaXN0KXtcbiAgICAgICAgICAgICAgICAgICAgYWxsQW5zd2VyTGlzdHMucHVzaChzdHVkZW50QW5zd2VyTGlzdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihhbGxBbnN3ZXJMaXN0cy5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5ncm9sZUxpc3RIYW5kbGVyKGFsbEFuc3dlckxpc3RzKTtcbiAgICAgICAgICAgIH0gICBcbiAgICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDF2NuWIh+aNouinhuinkuWQjuaVsOaNrua4suafk1xuICAgICAqL1xuICAgIGNoYW5ncm9sZUxpc3RIYW5kbGVyKGxpc3Qpe1xuICAgICAgICAgZm9yKGxldCBpID0gMDsgaTxsaXN0Lmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgIGlmKGxpc3RbaV0uYW5zd2Vyc3RhdGUgIT0gMyl7XG4gICAgICAgICAgICAgICAgIHRoaXMuYW5zd2VyT25lVG9PbmUobGlzdFtpXSxcImluaXRcIik7XG4gICAgICAgICAgICAgfSAgICAgICBcbiAgICAgICAgIH1cbiAgICB9XG4gICBcbiAgICAvKipcbiAgICAgKiBAcGFyYW0g5YWl5Zy6IFxuICAgICAqL1xuICAgIG9uRW50ZXIoKSB7XG4gICAgICAgIC8vIOinhuWbvuWxheS4rVxuICAgICAgICAvLyBzZXRWaWV3Q2VudGVyKCk7XG4gICAgICAgIC8vIFVUSUxTLmxvZyh0aGlzLnNjZW5lTmFtZSArIFwiIGVudGVyXCIpO1xuICAgICAgICAvLyDlj5bmtojorqLpmIXml7bkuI3nlKjkvKDpgJLlm57osIPlh73mlbBcbiAgICAgICAgb2JzZXJ2ZXIudW5zdWJzY3JpYmUodGhpcy5zY2VuZU5hbWUgKyBcIl9lbnRlclwiKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEFjdGlvbigpOyAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIOinpuWPkVxuICAgICAqL1xuICAgIGRpc3BhdGNoQWN0aW9uKCkgeyBcbiAgICAgICAgLy8gIOWIneWni+WMluWPkemAgSBzZW5kZXJJZCDor77nqItpZO+8jOWSjOebuOWFs+eahOmCo+S4quWQjeWtl++8jOi/mOacieivvuS7tumhtemdouaAu+aVsCBHTS5MSUJSQVJZLmxlbmd0aCAgICBcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBzZW5kZXJJZDpHTS5zZW5kZXJJZCxcbiAgICAgICAgICAgIHJvb21JZDpHTS5yb29tSWQsXG4gICAgICAgICAgICBhbGxQYWdlTnVtOkdNLkxJQlJBUlkubGVuZ3RoLFxuICAgICAgICAgICAgY291cnNlSUQ6R00uY3dJZFxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKEdNLnNlbmRlcklkLEdNLnJvb21JZCxHTS5MSUJSQVJZLmxlbmd0aCk7XG4gICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcImluaXRcIixkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOWkh+ivvuS7peWPiuacrOWcsOS9v+eUqFxuICAgICAgICBpZihHTS5mbGFnID09PSAwICYmIEdNLnZzRnJvbSA9PT0gXCJ3ZWJcIil7ICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wYWdlTnVtID0gR00uUGFnZU51bSAtMTsgICAgICAgICAgXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiUGFnZVwiLHtwYWdlOnRoaXMucGFnZU51bX0pOyAgXG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICAvLyDojrflj5blvZPliY1wYWdl5ZKM5q2l6aqkIOS7peWPiuW9k+WJjeWtpueUn2xpc3RcbiAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwiZ2V0UGFnZVwiLHtzZW5kZXJJZDpHTS5zZW5kZXJJZH0pOyAgIFxuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJnZXRTdGVwXCIse3NlbmRlcklkOkdNLnNlbmRlcklkfSk7IFxuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJnZXRTdHVkZW50c1wiLHtzZW5kZXJJZDpHTS5zZW5kZXJJZH0pO1xuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJnZXRVc2VyTGlzdFwiLHtzZW5kZXJJZDpHTS5zZW5kZXJJZH0pO1xuICAgICAgICAvL+iOt+WPluW9k+WJjemhteetlOmimOaVsOaNruS7peWPiuetlOmimOeKtuaAgeWMheaLrOaWree6v1xuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJnZXRBbnN3ZXJMaXN0XCIse3NlbmRlcklkOkdNLnNlbmRlcklkfSk7XG4gICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcImdldEFuc3dlclN0YXRlXCIse3NlbmRlcklkOkdNLnNlbmRlcklkfSk7XG4gICAgfVxuICAgXG4gICAgLyoqXG4gICAgICogQHBhcmFtIOmAgOWHulxuICAgICAqL1xuICAgIG9uRXhpdCgpIHtcbiAgICAgICAgLy8gVVRJTFMubG9nKHRoaXMuc2NlbmVOYW1lICsgXCIgZXhpdFwiKTtcbiAgICAgICAgLy8g5Y+W5raI5omA5pyJ5rOo5YaMXG4gICAgICAgIC8vIHRoaXMudW5SZWdpc3RlckFjdGlvbigpO1xuICAgICAgICAvL+WPkeW4g+mAgOWHuuS6i+S7tlxuICAgICAgICBvYnNlcnZlci5wdWJsaXNoKHRoaXMuc2NlbmVOYW1lICsgXCJfZXhpdFwiKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgICAvKipcbiAgICAgKiBAcGFyYW0g6Ieq5a6a5LmJ5pa55rOV77yM5Zy65pmv6YCA5Ye655qE5pe25YCZ5piv6ZSA5q+B6L+Y5pivcmVtb3ZlU2VsZuivt+iHquihjOaKieaLqVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgfVxuICAgICAvLzNk5YWD57SgXG4gICAgY3JlYXRDeWxpbmRlck1vZGUoKXtcbiAgICAgICAgdmFyIHNjZW5lID0gdGhpcy5hZGRDaGlsZChuZXcgTGF5YS5TY2VuZSgpKTtcbiAgICAgICAgdGhpcy5zY2VuZU1vZGUgPSBzY2VuZTtcbiAgICAgICAgLy/mt7vliqDnhafnm7jmnLpcbiAgICAgICAgdmFyIGNhbWVyYSA9IChzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5DYW1lcmEoMCwgMC4zLCAxMDApKSk7XG4gICAgICAgIGNhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMSwgMiwgNCkpO1xuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKC0zMCwgMCwgMCksIHRydWUsIGZhbHNlKTtcbiAgICAgICAgY2FtZXJhLmNsZWFyQ29sb3IgPSBudWxsO1xuXG4gICAgICAgIC8v5re75Yqg5pa55ZCR5YWJXG4gICAgICAgIHZhciBkaXJlY3Rpb25MaWdodCA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkRpcmVjdGlvbkxpZ2h0KCkpO1xuICAgICAgICBkaXJlY3Rpb25MaWdodC5jb2xvciA9IG5ldyBMYXlhLlZlY3RvcjMoMC45LCAwLjksIDAuOSk7XG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmRpcmVjdGlvbiA9IG5ldyBMYXlhLlZlY3RvcjMoMSwgLTEsIDEpOyBcblxuICAgICAgICAgdmFyIGRpcmVjdGlvbkxpZ2h0MiA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkRpcmVjdGlvbkxpZ2h0KCkpO1xuICAgICAgICBkaXJlY3Rpb25MaWdodDIuY29sb3IgPSBuZXcgTGF5YS5WZWN0b3IzKDU0LjAvMjU1LjAsMTc1LjAvMjU1LjAsMjA1LjAvMjU1LjApO1xuICAgICAgICBkaXJlY3Rpb25MaWdodDIuZGlyZWN0aW9uID0gbmV3IExheWEuVmVjdG9yMygtMSwgMSwtIDEpOyBcblxuICAgICAgICBcbiAgICAgICAgLy/liJvlu7rlnIbmn7HkvZPmqKHlnoso5Y+C5pWw5Li677ya5Y2K5b6E44CB6auY44CB5ZyG5oiq6Z2i57q/5q615pWwKVxuICAgICAgICB2YXIgY3lsaW5kZXJNZXNoID1uZXcgTGF5YS5DeWxpbmRlck1lc2goMC41LDIsMTYpO1xuICAgICAgICAvL+WIm+W7uuaooeWei+aYvuekuuWvueixoVxuICAgICAgICB2YXIgY3lsaW5kZXIzRCA9bmV3IExheWEuTWVzaFNwcml0ZTNEKGN5bGluZGVyTWVzaCk7XG4gICAgICAgIC8veOi9tOS4iuenu+WKqDPnsbPvvIjkuJbnlYzluqfmoIcg5ZCR5Y+z77yJXG4gICAgICAgIGN5bGluZGVyM0QudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsMCwwKSxmYWxzZSk7XG4gICAgICAgIC8vc2NlbmUuYWRkQ2hpbGQoY3lsaW5kZXIzRCk7XG5cbiAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IExheWEuU3RhbmRhcmRNYXRlcmlhbCgpOyBcbiAgICAgICAgbWF0ZXJpYWwuYW1iaWVudENvbG9yID1uZXcgTGF5YS5WZWN0b3IzKDU0LjAvMjU1LjAsMTc1LjAvMjU1LjAsMjA1LjAvMjU1LjApOyBcblxuICAgICAgICBjeWxpbmRlcjNELm1lc2hSZW5kZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblxuICAgICAgICBjeWxpbmRlcjNELmFkZENvbXBvbmVudChCb3hDb250cm9sU2NyaXB0KTtcbiAgICAgICAgc2NlbmUuYWRkQ2hpbGQoY3lsaW5kZXIzRCk7XG4gICAgfVxuXG4gICAgY3JlYXRTcXVhcmVNb2RlKCl7XG4gICAgICAgIC8v5re75YqgM0TlnLrmma9cbiAgICAgICAgdmFyIHNjZW5lID0gdGhpcy5hZGRDaGlsZChuZXcgTGF5YS5TY2VuZSgpKTtcbiAgICAgICAgdGhpcy5zY2VuZU1vZGUgPSBzY2VuZTtcbiAgICAgICAgLy/mt7vliqDnhafnm7jmnLpcbiAgICAgICAgdmFyIGNhbWVyYSA9IChzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5DYW1lcmEoMCwgMC4zLCAxMDApKSk7XG4gICAgICAgIGNhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoLTEsIDIsIDQpKTtcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygtMzAsIDAsIDApLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIGNhbWVyYS5jbGVhckNvbG9yID0gbnVsbDtcblxuICAgICAgICAvL+a3u+WKoOaWueWQkeWFiVxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKTtcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQuY29sb3IgPSBuZXcgTGF5YS5WZWN0b3IzKDAuNSwgMC41LCAwLjUpO1xuICAgICAgICBkaXJlY3Rpb25MaWdodC5kaXJlY3Rpb24gPSBuZXcgTGF5YS5WZWN0b3IzKC0xLCAtMSwgMSk7IFxuXG4gICAgICAgIC8v5re75Yqg5pa55ZCR5YWJXG4gICAgICAgIHZhciBkaXJlY3Rpb25MaWdodDIgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKTtcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQyLmNvbG9yID0gbmV3IExheWEuVmVjdG9yMygwLjMsIDAuMywgMC4zKTtcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQyLmRpcmVjdGlvbiA9IG5ldyBMYXlhLlZlY3RvcjMoMSwgMSwgLTEpOyBcblxuICAgICAgICAvL+a3u+WKoOiHquWumuS5ieaooeWei1xuICAgICAgICB2YXIgYm94ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKG5ldyBMYXlhLkJveE1lc2goMCwgMCwgMCkpKTtcbiAgICAgICAgYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLCA0NSwgMCksIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBMYXlhLlN0YW5kYXJkTWF0ZXJpYWwoKTtcbiAgICAgICAgLy9tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvd3cucG5nXCIpOyBcbiAgICAgICAgbWF0ZXJpYWwuYW1iaWVudENvbG9yID1uZXcgTGF5YS5WZWN0b3IzKDIsMiwyKTtcbiAgICAgICAgYm94Lm1lc2hSZW5kZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblxuICAgICAgIC8vIGJveC5hZGRDb21wb25lbnQoQm94Q29udHJvbFNjcmlwdCk7XG5cblxuICAgICAgICAvL+mhtumDqFxuICAgICAgICB2YXIgY3ViZTEgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QobmV3IExheWEuQm94TWVzaCgxLCAxLCAwLjAyKSkpO1xuICAgICAgICBjdWJlMS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMC41LCAwLCAwKSk7XG4gICAgICAgIG1hdGVyaWFsID0gbmV3IExheWEuU3RhbmRhcmRNYXRlcmlhbCgpO1xuICAgICAgICBtYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvc2NlbmVNb2RlL251bWJlckYucG5nXCIpO1xuICAgICAgICBtYXRlcmlhbC5hbWJpZW50Q29sb3IgPW5ldyBMYXlhLlZlY3RvcjMoMiwyLDIpO1xuICAgICAgICBjdWJlMS5tZXNoUmVuZGVyLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG5cbiAgICAgICBcbiAgICAgICAgLy9ib3guYWRkQ2hpbGQoY3ViZTEpO1xuICAgICAgIFxuXG4gICAgICAgIHZhciBjdWJlMVB0ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKG5ldyBMYXlhLkJveE1lc2goMCwgMCwgMCkpKTtcbiAgICAgICAgY3ViZTFQdC50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMC41LCAwLjUsIDApKTtcbiAgICAgICAgYm94LmFkZENoaWxkKGN1YmUxUHQpO1xuICAgICAgICBjdWJlMVB0LmFkZENoaWxkKGN1YmUxKTtcbiAgICAgICAvLyBjdWJlMVB0LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLDAsLTE4MCksZmFsc2UsZmFsc2UpO1xuXG5cbiAgICAgICAgLy/liY3pnaJcbiAgICAgICAgdmFyIGN1YmUyUHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QobmV3IExheWEuQm94TWVzaCgwLCAwLCAwKSkpO1xuICAgICAgICBjdWJlMlB0LnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygtMC41LCAtMC41LCAwKSk7XG4gICAgICAgIGJveC5hZGRDaGlsZChjdWJlMlB0KTtcblxuICAgICAgICB2YXIgY3ViZTIgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QobmV3IExheWEuQm94TWVzaCgxLCAxLCAwLjAyKSkpO1xuICAgICAgICBjdWJlMi50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMC41LCAwLCAwKSk7XG4gICAgICAgIG1hdGVyaWFsID0gbmV3IExheWEuU3RhbmRhcmRNYXRlcmlhbCgpO1xuICAgICAgICBtYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvc2NlbmVNb2RlL251bWJlckQucG5nXCIpO1xuICAgICAgICBtYXRlcmlhbC5hbWJpZW50Q29sb3IgPW5ldyBMYXlhLlZlY3RvcjMoMiwyLDIpO1xuICAgICAgICBjdWJlMi5tZXNoUmVuZGVyLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG4gICAgICAgIGN1YmUyUHQuYWRkQ2hpbGQoY3ViZTIpO1xuICAgICAgLy8gIGN1YmUyUHQuYWRkQ29tcG9uZW50KEN1YmUyU2NyaXB0KTtcblxuXG4gICAgICAgIC8v5Y+z6Z2iXG4gICAgICAgIHZhciBjdWJlM1B0ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKG5ldyBMYXlhLkJveE1lc2goMCwgMCwgMCkpKTtcbiAgICAgICAgY3ViZTNQdC50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMC4wLCAtMC41LCAwLjUpKTtcbiAgICAgICAgYm94LmFkZENoaWxkKGN1YmUzUHQpO1xuXG4gICAgICAgIHZhciBjdWJlMyA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChuZXcgTGF5YS5Cb3hNZXNoKDEsIDEsIDAuMDIpKSk7XG4gICAgICAgIGN1YmUzLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLCAwLCAwLjUpKTtcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgTGF5YS5TdGFuZGFyZE1hdGVyaWFsKCk7XG4gICAgICAgIG1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9zY2VuZU1vZGUvbnVtYmVyRS5wbmdcIik7XG4gICAgICAgIG1hdGVyaWFsLmFtYmllbnRDb2xvciA9bmV3IExheWEuVmVjdG9yMygyLDIsMik7XG4gICAgICAgIGN1YmUzLm1lc2hSZW5kZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgY3ViZTNQdC5hZGRDaGlsZChjdWJlMyk7XG4gICAgICAvLyAgY3ViZTNQdC5hZGRDb21wb25lbnQoQ3ViZTNTY3JpcHQpO1xuXG4gICAgICAgICAvL+W3pumdolxuICAgICAgICB2YXIgY3ViZTRQdCA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChuZXcgTGF5YS5Cb3hNZXNoKDAsIDAsIDApKSk7XG4gICAgICAgIGN1YmU0UHQudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAuMCwgLTAuNSwgLTAuNSkpO1xuICAgICAgICBib3guYWRkQ2hpbGQoY3ViZTRQdCk7XG5cbiAgICAgICAgdmFyIGN1YmU0ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKG5ldyBMYXlhLkJveE1lc2goMSwgMSwgMC4wMikpKTtcbiAgICAgICAgY3ViZTQudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIDAuNSkpO1xuICAgICAgICBtYXRlcmlhbCA9IG5ldyBMYXlhLlN0YW5kYXJkTWF0ZXJpYWwoKTtcbiAgICAgICAgbWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUgPSBMYXlhLlRleHR1cmUyRC5sb2FkKFwicmVzL3NjZW5lTW9kZS9udW1iZXJDLnBuZ1wiKTtcbiAgICAgICAgbWF0ZXJpYWwuYW1iaWVudENvbG9yID1uZXcgTGF5YS5WZWN0b3IzKDIsMiwyKTtcbiAgICAgICAgY3ViZTQubWVzaFJlbmRlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgICAgICBjdWJlNFB0LmFkZENoaWxkKGN1YmU0KTtcbiAgICAgIC8vICBjdWJlNFB0LmFkZENvbXBvbmVudChDdWJlNFNjcmlwdCk7XG5cbiAgICAgICAgLy/lkI7pnaJcbiAgICAgICAgdmFyIGN1YmU1UHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QobmV3IExheWEuQm94TWVzaCgwLCAwLCAwKSkpO1xuICAgICAgICBjdWJlNVB0LnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLjUsIC0wLjUsIDApKTtcbiAgICAgICAgYm94LmFkZENoaWxkKGN1YmU1UHQpO1xuXG4gICAgICAgIHZhciBjdWJlNSA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChuZXcgTGF5YS5Cb3hNZXNoKDEsIDEsIDAuMDIpKSk7XG4gICAgICAgIGN1YmU1LnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLjUsIDAsIDApKTtcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgTGF5YS5TdGFuZGFyZE1hdGVyaWFsKCk7XG4gICAgICAgIG1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9zY2VuZU1vZGUvbnVtYmVyQi5wbmdcIik7XG4gICAgICAgIG1hdGVyaWFsLmFtYmllbnRDb2xvciA9bmV3IExheWEuVmVjdG9yMygyLDIsMik7XG4gICAgICAgIGN1YmU1Lm1lc2hSZW5kZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblxuICAgICAgICAvL2N1YmU1LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLDAwLDkwKSxmYWxzZSxmYWxzZSk7XG5cbiAgICAgICAgY3ViZTVQdC5hZGRDaGlsZChjdWJlNSk7XG4gICAgICAgLy8gY3ViZTVQdC5hZGRDb21wb25lbnQoQ3ViZTVTY3JpcHQpO1xuXG4gICAgICAgICAvL+W6lemdolxuICAgICAgICB2YXIgY3ViZTZQdCA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChuZXcgTGF5YS5Cb3hNZXNoKDAsIDAsIDApKSk7XG4gICAgICAgIGN1YmU2UHQudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAuMCwgLTAuNSwgMCkpO1xuICAgICAgICBib3guYWRkQ2hpbGQoY3ViZTZQdCk7XG5cbiAgICAgICAgdmFyIGN1YmU2ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKG5ldyBMYXlhLkJveE1lc2goMSwgMSwgMC4wMikpKTtcbiAgICAgICAgY3ViZTYudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIDApKTtcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgTGF5YS5TdGFuZGFyZE1hdGVyaWFsKCk7XG4gICAgICAgIG1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9zY2VuZU1vZGUvbnVtYmVyQS5wbmdcIik7XG4gICAgICAgIG1hdGVyaWFsLmFtYmllbnRDb2xvciA9bmV3IExheWEuVmVjdG9yMygyLDIsMik7XG4gICAgICAgIGN1YmU2Lm1lc2hSZW5kZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgY3ViZTZQdC5hZGRDaGlsZChjdWJlNik7XG4gICAgIFxuICAgICAgICBcbiAgICAgICAgLy9jdWJlMVB0LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLDAsLTE4MCksZmFsc2UsZmFsc2UpO1xuICAgICAgICBjdWJlMVB0LmFkZENvbXBvbmVudChDdWJlMVNjcmlwdCk7XG4gICAgICAgIGN1YmUyUHQuYWRkQ29tcG9uZW50KEN1YmUyU2NyaXB0KTtcbiAgICAgICAgY3ViZTNQdC5hZGRDb21wb25lbnQoQ3ViZTNTY3JpcHQpO1xuICAgICAgICBjdWJlNFB0LmFkZENvbXBvbmVudChDdWJlNFNjcmlwdCk7XG4gICAgICAgIGN1YmU1UHQuYWRkQ29tcG9uZW50KEN1YmU1U2NyaXB0KTtcbiAgICB9XG5cbiAgICBjbG9zZVNxdWFyZU1vZGUoKXsgICAgIFxuICAgICAgICB0aGlzLnNjZW5lTW9kZS5yZW1vdmVTZWxmKCk7ICAgICAgIFxuICAgIH1cbiBcbn1cblxuLy8zZOiEmuacrFxudmFyIEN1YmUxU2NyaXB0ID0gKGZ1bmN0aW9uKF9zdXBlcil7XG4gICAgdmFyIGZsYWcgPSB0cnVlO1xuICAgIHZhciBhbmdsZSA9IC0xODA7XG4gICAgZnVuY3Rpb24gQm94Q29udHJvbFNjcmlwdCgpe1xuICAgICAgICBCb3hDb250cm9sU2NyaXB0LnN1cGVyKHRoaXMpO1xuICAgIH1cbiAgICBMYXlhLmNsYXNzKEJveENvbnRyb2xTY3JpcHQsXCJDdWJlMVNjcmlwdFwiLF9zdXBlcik7XG4gICAgQm94Q29udHJvbFNjcmlwdC5wcm90b3R5cGUuX2xvYWQgPSBmdW5jdGlvbihvd25lcil7XG4gICAgICAgIHRoaXMuYm94ID0gb3duZXI7XG4gICAgfVxuICAgIEJveENvbnRyb2xTY3JpcHQucHJvdG90eXBlLl9zdGFydCA9IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgdmFyIG1hdGVyaWFsID0gdGhpcy5ib3gubWVzaFJlbmRlci5tYXRlcmlhbDtcbiAgICAgICAgLy/kv67mlLnmnZDotKjnmoTlj43lsITnjofpopzoibLvvIzorqnmqKHlnovlgY/nuqJcbiAgICAgICAvLyBtYXRlcmlhbC5hbGJlZG8gPSBuZXcgTGF5YS5WZWN0b3I0KDEsMCwwLDEpO1xuICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgYW5nbGUgPSAtMTgwO1xuICAgICAgICAvL3RoaXMuYW5nbGUgPSA5MDtcbiAgICAgICAgdmFyIG1hdGVyaWFsID0gdGhpcy5ib3gubWVzaFJlbmRlci5tYXRlcmlhbDtcbiAgICAgICAgdGhpcy5ib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsMCwtMTgwKSxmYWxzZSxmYWxzZSk7XG4gICAgfVxuICAgIEJveENvbnRyb2xTY3JpcHQucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbihzdGF0ZSl7XG4gICAgICAgIGlmKGZsYWcgPT10cnVlICYmIGFuZ2xlIDwtOTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuZ2xlICs9MTtcbiAgICAgICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLDAsLTEpLGZhbHNlLGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGZsYWcgPT1mYWxzZSAmJiBhbmdsZSA+LTE4MClcbiAgICAgICAge1xuICAgICAgICAgICAgICAgIGFuZ2xlIC09MTtcbiAgICAgICAgICAgICAgICB0aGlzLmJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwwLDEpLGZhbHNlLGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZihhbmdsZSAgPT0gIC0xODApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmKGFuZ2xlICA9PSAgLTkwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIHJldHVybiBCb3hDb250cm9sU2NyaXB0O1xufSkoTGF5YS5TY3JpcHQpO1xuXG52YXIgQ3ViZTJTY3JpcHQgPSAoZnVuY3Rpb24oX3N1cGVyKXtcblxuICAgIHZhciBmbGFnID0gdHJ1ZTtcbiAgICB2YXIgYW5nbGUgPSA5MDtcbiAgICBmdW5jdGlvbiBCb3hDb250cm9sU2NyaXB0KCl7XG4gICAgICAgIEJveENvbnRyb2xTY3JpcHQuc3VwZXIodGhpcyk7XG4gICAgfVxuICAgIExheWEuY2xhc3MoQm94Q29udHJvbFNjcmlwdCxcIkN1YmUyU2NyaXB0XCIsX3N1cGVyKTtcbiAgICBCb3hDb250cm9sU2NyaXB0LnByb3RvdHlwZS5fbG9hZCA9IGZ1bmN0aW9uKG93bmVyKXtcbiAgICAgICAgdGhpcy5ib3ggPSBvd25lcjtcbiAgICB9XG4gICAgQm94Q29udHJvbFNjcmlwdC5wcm90b3R5cGUuX3N0YXJ0ID0gZnVuY3Rpb24oc3RhdGUpe1xuXG4gICAgICAgIHRoaXMuZmxhZyA9IHRydWU7XG4gICAgICAgIHRoaXMuYW5nbGUgPSA5MDtcblxuICAgICAgICB2YXIgbWF0ZXJpYWwgPSB0aGlzLmJveC5tZXNoUmVuZGVyLm1hdGVyaWFsO1xuICAgICAgICAvL+S/ruaUueadkOi0qOeahOWPjeWwhOeOh+minOiJsu+8jOiuqeaooeWei+WBj+e6olxuICAgICAgIC8vIG1hdGVyaWFsLmFsYmVkbyA9IG5ldyBMYXlhLlZlY3RvcjQoMSwwLDAsMSk7XG4gICAgICAgdGhpcy5ib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsMCxhbmdsZSksZmFsc2UsZmFsc2UpO1xuICAgIH1cbiAgICBCb3hDb250cm9sU2NyaXB0LnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24oc3RhdGUpe1xuICAgICAgICBpZihmbGFnID09dHJ1ZSAmJiBhbmdsZSA8MTgwKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbmdsZSArPTE7XG4gICAgICAgICAgICB0aGlzLmJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwwLDEpLGZhbHNlLGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGZsYWcgPT1mYWxzZSAmJiBhbmdsZSA+OTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuZ2xlIC09MTtcbiAgICAgICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLDAsLTEpLGZhbHNlLGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAgaWYoYW5nbGUgID09ICA5MClcbiAgICAgICAge1xuICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoYW5nbGUgID09ICAxODApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgcmV0dXJuIEJveENvbnRyb2xTY3JpcHQ7XG59KShMYXlhLlNjcmlwdCk7XG5cbnZhciBDdWJlM1NjcmlwdCA9IChmdW5jdGlvbihfc3VwZXIpe1xuXG5cbiAgICB2YXIgZmxhZyA9IHRydWU7XG4gICAgdmFyIGFuZ2xlID0gLTkwO1xuICAgIGZ1bmN0aW9uIEJveENvbnRyb2xTY3JpcHQoKXtcbiAgICAgICAgQm94Q29udHJvbFNjcmlwdC5zdXBlcih0aGlzKTtcbiAgICB9XG4gICAgTGF5YS5jbGFzcyhCb3hDb250cm9sU2NyaXB0LFwiQ3ViZTNTY3JpcHRcIixfc3VwZXIpO1xuICAgIEJveENvbnRyb2xTY3JpcHQucHJvdG90eXBlLl9sb2FkID0gZnVuY3Rpb24ob3duZXIpe1xuICAgICAgICB0aGlzLmJveCA9IG93bmVyO1xuICAgIH1cbiAgICBCb3hDb250cm9sU2NyaXB0LnByb3RvdHlwZS5fc3RhcnQgPSBmdW5jdGlvbihzdGF0ZSl7XG5cbiAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IC05MDtcbiAgICAgICAgdmFyIG1hdGVyaWFsID0gdGhpcy5ib3gubWVzaFJlbmRlci5tYXRlcmlhbDtcbiAgICAgICAgLy/kv67mlLnmnZDotKjnmoTlj43lsITnjofpopzoibLvvIzorqnmqKHlnovlgY/nuqJcbiAgICAgICAvLyBtYXRlcmlhbC5hbGJlZG8gPSBuZXcgTGF5YS5WZWN0b3I0KDEsMCwwLDEpO1xuICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMyhhbmdsZSwwLDApLGZhbHNlLGZhbHNlKTtcbiAgICB9XG4gICAgQm94Q29udHJvbFNjcmlwdC5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgaWYoZmxhZyA9PXRydWUgJiYgYW5nbGUgPDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuZ2xlICs9MTtcbiAgICAgICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygxLDAsMCksZmFsc2UsZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoZmxhZyA9PWZhbHNlICYmIGFuZ2xlID4tOTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuZ2xlIC09MTtcbiAgICAgICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygtMSwwLDApLGZhbHNlLGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZihhbmdsZSAgPT0gIC05MClcbiAgICAgICAge1xuICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoYW5nbGUgID09ICAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIHJldHVybiBCb3hDb250cm9sU2NyaXB0O1xufSkoTGF5YS5TY3JpcHQpO1xuXG52YXIgQ3ViZTRTY3JpcHQgPSAoZnVuY3Rpb24oX3N1cGVyKXtcblxuICAgIHZhciBmbGFnID0gdHJ1ZTtcbiAgICB2YXIgYW5nbGUgPSAyNzA7XG4gICAgZnVuY3Rpb24gQm94Q29udHJvbFNjcmlwdCgpe1xuICAgICAgICBCb3hDb250cm9sU2NyaXB0LnN1cGVyKHRoaXMpO1xuICAgIH1cbiAgICBMYXlhLmNsYXNzKEJveENvbnRyb2xTY3JpcHQsXCJDdWJlNFNjcmlwdFwiLF9zdXBlcik7XG4gICAgQm94Q29udHJvbFNjcmlwdC5wcm90b3R5cGUuX2xvYWQgPSBmdW5jdGlvbihvd25lcil7XG4gICAgICAgIHRoaXMuYm94ID0gb3duZXI7XG4gICAgfVxuICAgIEJveENvbnRyb2xTY3JpcHQucHJvdG90eXBlLl9zdGFydCA9IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IDI3MDtcbiAgICAgICAgdmFyIG1hdGVyaWFsID0gdGhpcy5ib3gubWVzaFJlbmRlci5tYXRlcmlhbDtcbiAgICAgICAgLy/kv67mlLnmnZDotKjnmoTlj43lsITnjofpopzoibLvvIzorqnmqKHlnovlgY/nuqJcbiAgICAgICAvLyBtYXRlcmlhbC5hbGJlZG8gPSBuZXcgTGF5YS5WZWN0b3I0KDEsMCwwLDEpO1xuICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMyhhbmdsZSwwLDApLGZhbHNlLGZhbHNlKTtcbiAgICB9XG4gICAgQm94Q29udHJvbFNjcmlwdC5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgaWYoZmxhZyA9PXRydWUgJiYgYW5nbGUgPjE4MClcbiAgICAgICAge1xuICAgICAgICAgICAgYW5nbGUgLT0xO1xuICAgICAgICAgICAgdGhpcy5ib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKC0xLDAsMCksZmFsc2UsZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoZmxhZyA9PWZhbHNlICYmIGFuZ2xlIDwyNzApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuZ2xlICs9MTtcbiAgICAgICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygxLDAsMCksZmFsc2UsZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGFuZ2xlICA9PSAgMjcwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZihhbmdsZSAgPT0gIDE4MClcbiAgICAgICAge1xuICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBCb3hDb250cm9sU2NyaXB0O1xufSkoTGF5YS5TY3JpcHQpO1xuXG52YXIgQ3ViZTVTY3JpcHQgPSAoZnVuY3Rpb24oX3N1cGVyKXtcblxuICAgIHZhciBhbmdsZSA9IDkwO1xuICAgIGZ1bmN0aW9uIEJveENvbnRyb2xTY3JpcHQoKXtcbiAgICAgICAgQm94Q29udHJvbFNjcmlwdC5zdXBlcih0aGlzKTtcbiAgICB9XG4gICAgTGF5YS5jbGFzcyhCb3hDb250cm9sU2NyaXB0LFwiQ3ViZTVTY3JpcHRcIixfc3VwZXIpO1xuICAgIEJveENvbnRyb2xTY3JpcHQucHJvdG90eXBlLl9sb2FkID0gZnVuY3Rpb24ob3duZXIpe1xuICAgICAgICB0aGlzLmJveCA9IG93bmVyO1xuICAgIH1cbiAgICBCb3hDb250cm9sU2NyaXB0LnByb3RvdHlwZS5fc3RhcnQgPSBmdW5jdGlvbihzdGF0ZSl7XG5cbiAgICAgICAvLyBmbGFnID0gdHJ1ZTtcbiAgICAgICAgYW5nbGUgPSA5MDtcblxuICAgICAgICB2YXIgbWF0ZXJpYWwgPSB0aGlzLmJveC5tZXNoUmVuZGVyLm1hdGVyaWFsO1xuICAgICAgICAvL+S/ruaUueadkOi0qOeahOWPjeWwhOeOh+minOiJsu+8jOiuqeaooeWei+WBj+e6olxuICAgICAgIC8vIG1hdGVyaWFsLmFsYmVkbyA9IG5ldyBMYXlhLlZlY3RvcjQoMSwwLDAsMSk7XG4gICAgICAgdGhpcy5ib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsMCxhbmdsZSksZmFsc2UsZmFsc2UpO1xuICAgIH1cbiAgICBCb3hDb250cm9sU2NyaXB0LnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24oc3RhdGUpe1xuICAgICAgICAvL2lmKGFuZ2xlIDwxODApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGFuZ2xlICs9MTtcbiAgICAgICAgICAgIC8vIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLDAsMSksZmFsc2UsZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgICByZXR1cm4gQm94Q29udHJvbFNjcmlwdDtcbn0pKExheWEuU2NyaXB0KTtcblxuXG52YXIgQm94Q29udHJvbFNjcmlwdCA9IChmdW5jdGlvbihfc3VwZXIpe1xuICAgIGZ1bmN0aW9uIEJveENvbnRyb2xTY3JpcHQoKXtcbiAgICAgICAgQm94Q29udHJvbFNjcmlwdC5zdXBlcih0aGlzKTtcbiAgICB9XG4gICAgTGF5YS5jbGFzcyhCb3hDb250cm9sU2NyaXB0LFwiQm94Q29udHJvbFNjcmlwdFwiLF9zdXBlcik7XG4gICAgLyozROWvueixoeWKoOi9vee7hOS7tuaXtueahOaJp+ihjOaWueazlVxuICAgIG93bmVy5Yqg6L295q2k57uE5Lu255qEM0Tlr7nosaFcbiAgICAqL1xuICAgIEJveENvbnRyb2xTY3JpcHQucHJvdG90eXBlLl9sb2FkID0gZnVuY3Rpb24ob3duZXIpe1xuICAgICAgICAvL+iOt+WPluiEmuacrOaJgOWxnuWvueixoVxuICAgICAgICB0aGlzLmJveCA9IG93bmVyO1xuICAgIH1cbiAgICAvKuimhuWGmee7hOS7tuaJgOWxnjNE5a+56LGh5a6e5L6L5YyW5a6M5oiQ5ZCO77yM56ys5LiA5qyh5pu05paw5pe255qE5omn6KGM5pa55rOVKi9cbiAgICBCb3hDb250cm9sU2NyaXB0LnByb3RvdHlwZS5fc3RhcnQgPSBmdW5jdGlvbihzdGF0ZSl7XG4gICAgICAgIC8v6I635Y+W5qih5Z6L5LiK55qE5p2Q6LSoXG4gICAgICAgIHZhciBtYXRlcmlhbCA9IHRoaXMuYm94Lm1lc2hSZW5kZXIubWF0ZXJpYWw7XG4gICAgICAgIC8v5L+u5pS55p2Q6LSo55qE5Y+N5bCE546H6aKc6Imy77yM6K6p5qih5Z6L5YGP57qiXG4gICAgICAgLy8gbWF0ZXJpYWwuYWxiZWRvID0gbmV3IExheWEuVmVjdG9yNCgxLDAsMCwxKTtcbiAgICAgICB0aGlzLmJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwwLjUsMCksZmFsc2UsZmFsc2UpO1xuICAgIH1cbiAgICAvKuimhuWGmee7hOS7tuabtOaWsOaWueazle+8iOebuOW9k+S6juW4p+W+queOr++8iVxuICAgICpzdGF0Zea4suafk+eKtuaAgVxuICAgICovXG4gICAgQm94Q29udHJvbFNjcmlwdC5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgLy/miYDlsZ7ohJrmnKzlr7nosaHml4vovazmm7TmlrBcbiAgICAgICAgdGhpcy5ib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAuNSwwLjUsMC41KSxmYWxzZSxmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBCb3hDb250cm9sU2NyaXB0O1xufSkoTGF5YS5TY3JpcHQpO1xuIFxuICAgXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvbWFpbnNjZW5lL3Jvb20uanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQWZBOzs7OztBQWVBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyREE7QUFzREE7QUFDQTs7O0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBS0E7QUFBQTtBQU1BO0FBWkE7QUFhQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoQkE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQTdxREE7QUFDQTtBQUNBOzs7O0FBMURBO0FBQ0E7QUF3dURBO0FBQ0E7QUFDQTtBQTN1REE7QUEwdURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./Course/src/module/com/laya.custom.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createSkeleton = createSkeleton;\nexports.clickOtherAreaHandler = clickOtherAreaHandler;\nexports.addLongClickEvent = addLongClickEvent;\n/**\n * @public\n * 创建骨骼动画\n * @param {String} path 骨骼动画路径\n * @param {Number} rate 骨骼动画帧率，引擎默认为30，一般传24\n * @param {Number} type 动画类型 \n * 0,使用模板缓冲的数据，模板缓冲的数据，不允许修改  （内存开销小，计算开销小，不支持换装） \n * 1,使用动画自己的缓冲区，每个动画都会有自己的缓冲区，相当耗费内存 （内存开销大，计算开销小，支持换装） \n * 2,使用动态方式，去实时去画 （内存开销小，计算开销大，支持换装,不建议使用）\n * @return Skeleton骨骼动画\n */\nvar paths = [];\nvar temps = [];\nfunction createSkeleton(path, rate, type, lodpng) {\n    rate = rate || 24;\n    type = type || 0;\n    if (lodpng) {\n        var png = Laya.loader.getRes(lodpng);\n        var sk = Laya.loader.getRes(path);\n    } else {\n        var png = Laya.loader.getRes(path + \".png\");\n        var sk = Laya.loader.getRes(path + \".sk\");\n    }\n\n    if (!png || !sk) {\n        console.error(\"资源没有预加载:\" + path);\n        return null;\n    }\n    var index = paths.indexOf(path),\n        templet = void 0;\n    if (index === -1) {\n        templet = new Laya.Templet();\n        var len = paths.length;\n        paths[len] = path;\n        temps[len] = templet;\n        templet.parseData(png, sk, rate);\n    } else {\n        templet = temps[index];\n    }\n    return new Laya.Skeleton(templet, type);\n}\n\n// 扩展Dialog可以随时决定是否点击遮罩关闭弹层\nlaya.ui.DialogManager.prototype._closeOnSide = function () {\n    if (!window.UIConfig.closeDialogOnSide) return;\n    var dialog = this.getChildAt(this.numChildren - 1);\n    if (dialog instanceof laya.ui.Dialog) dialog.close(\"side\");\n};\n\nLaya.Node.prototype.set = function (param) {\n    var self = this;\n    Object.keys(param).forEach(function (key, i) {\n        switch (key) {\n            case 'pos':\n                self.pos(param[key][0], param[key][1]);\n                break;\n            default:\n                self[key] = param[key];\n                break;\n        }\n    });\n    return self;\n};\n\n// 获得深度节点, flag 为 找到一个就不再寻找, 还是查找所有的\nLaya.Node.prototype.findType = function (type, flag) {\n    var loop = function loop(root_dom) {\n        var arr = [];\n        var typeParent = mapType(type);\n        if (!typeParent) {\n            return arr;\n        }\n        for (var i = 0; i < root_dom.numChildren; i++) {\n            if (root_dom.getChildAt(i) instanceof typeParent) {\n                arr.push(root_dom.getChildAt(i));\n            }\n        }\n        for (var i = 0; i < root_dom.numChildren; i++) {\n            arr = arr.concat(loop(root_dom.getChildAt(i)));\n        }\n        return arr;\n    };\n\n    function mapType(typeStr) {\n        var type_arr = typeStr.split('.');\n        var result;\n        for (var i = 0; i < type_arr.length; i++) {\n            var type = type_arr[i];\n            if (i === 0) {\n                result = laya.ui[type] || ui[type] || laya.display[type];\n            } else {\n                result = result[type];\n            }\n            if (!result) {\n                // 如果没有\n                break;\n            }\n        }\n\n        return result;\n    }\n    var res = loop(this);\n    var len = res.length;\n\n    if (flag) {\n        return res;\n    }\n\n    if (len == 0) {\n        res = null;\n    } else if (len == 1) {\n        res = res[0];\n    }\n    return res;\n};\n\n// 本地相对应父元素的坐标节点\nLaya.Node.prototype.localToTarget = function (target) {\n    var point = { x: 0, y: 0 };\n    var ele = this;\n    while (ele) {\n        if (ele == target || ele == Laya.stage) break;\n        point = ele.toParentPoint(point);\n        ele = ele.parent;\n    }\n    return point;\n};\n\n// 获得深度节点, flag 为 找到一个就不再寻找, 还是查找所有的\nLaya.Node.prototype.find = function (name, flag) {\n    var loop = function loop(nodes) {\n        var childs = nodes._childs;\n        var it;\n        var arr = [];\n        if (!childs) {\n            return arr;\n        }\n        for (var i = 0, n = childs.length; i < n; i++) {\n            var item = childs[i];\n            if (item.name === name) {\n                arr.push(item);\n                if (flag !== true) {\n                    break;\n                }\n            } else {\n                it = loop(item);\n                arr = arr.concat(it);\n                // 若找到了 并且当前的 flag不为true, 则直接 return\n                if (it.length > 0 && flag !== true) {\n                    break;\n                }\n            }\n        }\n        return arr;\n    };\n\n    var res = loop(this);\n    var len = res.length;\n\n    if (flag) {\n        return res;\n    }\n    if (len == 0) {\n        res = null;\n    } else if (len == 1) {\n        res = res[0];\n    }\n    return res;\n};\n\n// 点击小弹层以外的区域则隐藏\nfunction clickOtherAreaHandler(btn, viewBox) {\n    Laya.stage.on(Laya.Event.CLICK, this, function (event) {\n        if (!event) {\n            return;\n        }\n        var _target = event.target;\n        var child = viewBox.getChildAt(0);\n\n        // 菜单栏\n        if (child && child.visible && _target !== btn && !viewBox.contains(_target)) {\n            child.visible = false;\n        }\n    });\n}\n\nfunction addLongClickEvent(dom, clickHandler, longClickHandler) {\n    var _this = this;\n\n    var DURING_TIME = 1000;\n    var startTime = 0;\n\n    dom.on(Laya.Event.MOUSE_DOWN, this, function () {\n        startTime = Date.now();\n        Laya.timer.once(DURING_TIME, _this, longClickHandler);\n    });\n\n    dom.on(Laya.Event.MOUSE_UP, this, function () {\n        var during = Date.now() - startTime;\n\n        // 长按时间短\n        if (during < DURING_TIME) {\n            Laya.timer.clear(null, longClickHandler);\n            clickHandler();\n        }\n    });\n\n    dom.on(Laya.Event.MOUSE_OUT, this, function () {\n        Laya.timer.clear(null, longClickHandler);\n    });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21vZHVsZS9jb20vbGF5YS5jdXN0b20uanM/MjA1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwdWJsaWNcbiAqIOWIm+W7uumqqOmqvOWKqOeUu1xuICogQHBhcmFtIHtTdHJpbmd9IHBhdGgg6aqo6aq85Yqo55S76Lev5b6EXG4gKiBAcGFyYW0ge051bWJlcn0gcmF0ZSDpqqjpqrzliqjnlLvluKfnjofvvIzlvJXmk47pu5jorqTkuLozMO+8jOS4gOiIrOS8oDI0XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSDliqjnlLvnsbvlnosgXG4gKiAwLOS9v+eUqOaooeadv+e8k+WGsueahOaVsOaNru+8jOaooeadv+e8k+WGsueahOaVsOaNru+8jOS4jeWFgeiuuOS/ruaUuSAg77yI5YaF5a2Y5byA6ZSA5bCP77yM6K6h566X5byA6ZSA5bCP77yM5LiN5pSv5oyB5o2i6KOF77yJIFxuICogMSzkvb/nlKjliqjnlLvoh6rlt7HnmoTnvJPlhrLljLrvvIzmr4/kuKrliqjnlLvpg73kvJrmnInoh6rlt7HnmoTnvJPlhrLljLrvvIznm7jlvZPogJfotLnlhoXlrZgg77yI5YaF5a2Y5byA6ZSA5aSn77yM6K6h566X5byA6ZSA5bCP77yM5pSv5oyB5o2i6KOF77yJIFxuICogMizkvb/nlKjliqjmgIHmlrnlvI/vvIzljrvlrp7ml7bljrvnlLsg77yI5YaF5a2Y5byA6ZSA5bCP77yM6K6h566X5byA6ZSA5aSn77yM5pSv5oyB5o2i6KOFLOS4jeW7uuiuruS9v+eUqO+8iVxuICogQHJldHVybiBTa2VsZXRvbumqqOmqvOWKqOeUu1xuICovXG5sZXQgcGF0aHMgPSBbXTtcbmxldCB0ZW1wcyA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNrZWxldG9uKHBhdGgsIHJhdGUsIHR5cGUsbG9kcG5nKSB7XG4gICAgcmF0ZSA9IHJhdGUgfHwgMjQ7XG4gICAgdHlwZSA9IHR5cGUgfHwgMDtcbiAgICBpZihsb2Rwbmcpe1xuICAgICAgICB2YXIgcG5nID0gTGF5YS5sb2FkZXIuZ2V0UmVzKGxvZHBuZyk7XG4gICAgICAgIHZhciBzayA9IExheWEubG9hZGVyLmdldFJlcyhwYXRoKTtcbiAgICB9ZWxzZXtcbiAgICAgICAgdmFyIHBuZyA9IExheWEubG9hZGVyLmdldFJlcyhwYXRoICsgXCIucG5nXCIpO1xuICAgICAgICB2YXIgc2sgPSBMYXlhLmxvYWRlci5nZXRSZXMocGF0aCArIFwiLnNrXCIpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIXBuZyB8fCAhc2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIui1hOa6kOayoeaciemihOWKoOi9vTpcIiArIHBhdGgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gcGF0aHMuaW5kZXhPZihwYXRoKSxcbiAgICAgICAgdGVtcGxldDtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHRlbXBsZXQgPSBuZXcgTGF5YS5UZW1wbGV0KCk7XG4gICAgICAgIGxldCBsZW4gPSBwYXRocy5sZW5ndGg7XG4gICAgICAgIHBhdGhzW2xlbl0gPSBwYXRoO1xuICAgICAgICB0ZW1wc1tsZW5dID0gdGVtcGxldDtcbiAgICAgICAgdGVtcGxldC5wYXJzZURhdGEocG5nLCBzaywgcmF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcGxldCA9IHRlbXBzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMYXlhLlNrZWxldG9uKHRlbXBsZXQsIHR5cGUpO1xufVxuXG4vLyDmianlsZVEaWFsb2flj6/ku6Xpmo/ml7blhrPlrprmmK/lkKbngrnlh7vpga7nvanlhbPpl63lvLnlsYJcbmxheWEudWkuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUuX2Nsb3NlT25TaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF3aW5kb3cuVUlDb25maWcuY2xvc2VEaWFsb2dPblNpZGUpIHJldHVybjtcbiAgICB2YXIgZGlhbG9nID0gdGhpcy5nZXRDaGlsZEF0KHRoaXMubnVtQ2hpbGRyZW4gLSAxKTtcbiAgICBpZiAoKGRpYWxvZyBpbnN0YW5jZW9mIGxheWEudWkuRGlhbG9nKSkgZGlhbG9nLmNsb3NlKFwic2lkZVwiKTtcbn1cblxuTGF5YS5Ob2RlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihwYXJhbSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBPYmplY3Qua2V5cyhwYXJhbSkuZm9yRWFjaChmdW5jdGlvbihrZXksIGkpIHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Bvcyc6XG4gICAgICAgICAgICAgICAgc2VsZi5wb3MocGFyYW1ba2V5XVswXSwgcGFyYW1ba2V5XVsxXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHNlbGZba2V5XSA9IHBhcmFtW2tleV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbn07XG5cbi8vIOiOt+W+l+a3seW6puiKgueCuSwgZmxhZyDkuLog5om+5Yiw5LiA5Liq5bCx5LiN5YaN5a+75om+LCDov5jmmK/mn6Xmib7miYDmnInnmoRcbkxheWEuTm9kZS5wcm90b3R5cGUuZmluZFR5cGUgPSBmdW5jdGlvbih0eXBlLCBmbGFnKSB7XG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbihyb290X2RvbSkge1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIHZhciB0eXBlUGFyZW50ID0gbWFwVHlwZSh0eXBlKTtcbiAgICAgICAgaWYgKCF0eXBlUGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9vdF9kb20ubnVtQ2hpbGRyZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKHJvb3RfZG9tLmdldENoaWxkQXQoaSkgaW5zdGFuY2VvZiB0eXBlUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2gocm9vdF9kb20uZ2V0Q2hpbGRBdChpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb290X2RvbS5udW1DaGlsZHJlbjsgaSsrKSB7XG4gICAgICAgICAgICBhcnIgPSBhcnIuY29uY2F0KGxvb3Aocm9vdF9kb20uZ2V0Q2hpbGRBdChpKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1hcFR5cGUodHlwZVN0cikge1xuICAgICAgICB2YXIgdHlwZV9hcnIgPSB0eXBlU3RyLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZV9hcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZV9hcnJbaV07XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGxheWEudWlbdHlwZV0gfHwgdWlbdHlwZV0gfHwgbGF5YS5kaXNwbGF5W3R5cGVdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbdHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIC8vIOWmguaenOayoeaciVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgdmFyIHJlcyA9IGxvb3AodGhpcyk7XG4gICAgdmFyIGxlbiA9IHJlcy5sZW5ndGg7XG5cbiAgICBpZiAoZmxhZykge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGlmIChsZW4gPT0gMCkge1xuICAgICAgICByZXMgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAobGVuID09IDEpIHtcbiAgICAgICAgcmVzID0gcmVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcblxuLy8g5pys5Zyw55u45a+55bqU54i25YWD57Sg55qE5Z2Q5qCH6IqC54K5XG5MYXlhLk5vZGUucHJvdG90eXBlLmxvY2FsVG9UYXJnZXQgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgcG9pbnQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICB2YXIgZWxlID0gdGhpcztcbiAgICB3aGlsZSAoZWxlKSB7XG4gICAgICAgIGlmIChlbGUgPT0gdGFyZ2V0IHx8IGVsZSA9PSBMYXlhLnN0YWdlKSBicmVhaztcbiAgICAgICAgcG9pbnQgPSBlbGUudG9QYXJlbnRQb2ludChwb2ludCk7XG4gICAgICAgIGVsZSA9IGVsZS5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbn1cblxuLy8g6I635b6X5rex5bqm6IqC54K5LCBmbGFnIOS4uiDmib7liLDkuIDkuKrlsLHkuI3lho3lr7vmib4sIOi/mOaYr+afpeaJvuaJgOacieeahFxuTGF5YS5Ob2RlLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24obmFtZSwgZmxhZykge1xuICAgIHZhciBsb29wID0gZnVuY3Rpb24obm9kZXMpIHtcbiAgICAgICAgdmFyIGNoaWxkcyA9IG5vZGVzLl9jaGlsZHM7XG4gICAgICAgIHZhciBpdDtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICBpZiAoIWNoaWxkcykge1xuICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbiA9IGNoaWxkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gY2hpbGRzW2ldO1xuICAgICAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChmbGFnICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXQgPSBsb29wKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGFyciA9IGFyci5jb25jYXQoaXQpO1xuICAgICAgICAgICAgICAgIC8vIOiLpeaJvuWIsOS6hiDlubbkuJTlvZPliY3nmoQgZmxhZ+S4jeS4unRydWUsIOWImeebtOaOpSByZXR1cm5cbiAgICAgICAgICAgICAgICBpZiAoaXQubGVuZ3RoID4gMCAmJiBmbGFnICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cblxuICAgIHZhciByZXMgPSBsb29wKHRoaXMpO1xuICAgIHZhciBsZW4gPSByZXMubGVuZ3RoO1xuICAgIFxuICAgIGlmIChmbGFnKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChsZW4gPT0gMCkge1xuICAgICAgICByZXMgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAobGVuID09IDEpIHtcbiAgICAgICAgcmVzID0gcmVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5cbi8vIOeCueWHu+Wwj+W8ueWxguS7peWklueahOWMuuWfn+WImemakOiXj1xuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrT3RoZXJBcmVhSGFuZGxlcihidG4sIHZpZXdCb3gpIHtcbiAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IF90YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGxldCBjaGlsZCA9IHZpZXdCb3guZ2V0Q2hpbGRBdCgwKTtcblxuICAgICAgICAvLyDoj5zljZXmoI9cbiAgICAgICAgaWYgKGNoaWxkICYmIGNoaWxkLnZpc2libGUgJiYgX3RhcmdldCAhPT0gYnRuICYmICF2aWV3Qm94LmNvbnRhaW5zKF90YXJnZXQpKSB7XG4gICAgICAgICAgICBjaGlsZC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZExvbmdDbGlja0V2ZW50KGRvbSwgY2xpY2tIYW5kbGVyLCBsb25nQ2xpY2tIYW5kbGVyKSB7XG4gICAgbGV0IERVUklOR19USU1FID0gMTAwMDtcbiAgICBsZXQgc3RhcnRUaW1lID0gMDtcblxuICAgIGRvbS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsICgpID0+IHtcbiAgICAgICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKERVUklOR19USU1FLCB0aGlzLCBsb25nQ2xpY2tIYW5kbGVyKTtcblxuICAgIH0pXG5cbiAgICBkb20ub24oTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgKCkgPT4ge1xuICAgICAgICBsZXQgZHVyaW5nID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgICAvLyDplb/mjInml7bpl7Tnn61cbiAgICAgICAgaWYgKGR1cmluZyA8IERVUklOR19USU1FKSB7XG4gICAgICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKG51bGwsIGxvbmdDbGlja0hhbmRsZXIpO1xuICAgICAgICAgICAgY2xpY2tIYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgZG9tLm9uKExheWEuRXZlbnQuTU9VU0VfT1VULCB0aGlzLCAoKSA9PiB7XG4gICAgICAgIExheWEudGltZXIuY2xlYXIobnVsbCwgbG9uZ0NsaWNrSGFuZGxlcik7XG5cbiAgICB9KVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tb2R1bGUvY29tL2xheWEuY3VzdG9tLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQWFBO0FBK0pBO0FBZUE7QUEzTEE7Ozs7Ozs7Ozs7O0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/* no static exports found */
/* all exports used */
/*!*****************************************!*\
  !*** ./Course/src/mainscene/loading.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _resource = __webpack_require__(/*! ../resource */ 4);\n\nvar _init_module = __webpack_require__(/*! ../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ./room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * loading页\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */\n\n\nvar LoadingScene = function (_window$loadUI) {\n    _inherits(LoadingScene, _window$loadUI);\n\n    function LoadingScene() {\n        _classCallCheck(this, LoadingScene);\n\n        var _this = _possibleConstructorReturn(this, (LoadingScene.__proto__ || Object.getPrototypeOf(LoadingScene)).call(this));\n\n        _this.sceneName = \"loadingScene\";\n        _this.loadsoundflag = false;\n        _this.init();\n        LoadingScene.instance = _this;\n        return _this;\n    }\n\n    _createClass(LoadingScene, [{\n        key: 'init',\n\n\n        //初始化\n        value: function init() {\n            //订阅场景加载事件，请注意bind方法似乎会改变function，导致取消订阅的时候判断的回调函数和绑定的回调函数不相同\n            _init_module.observer.subscribe(this.sceneName + \"_enter\", this.onEnter.bind(this));\n            _init_module.observer.subscribe(\"soundLoad\", this.loadsound.bind(this));\n            Laya.timer.loop(3000, this, this.changeText.bind(this));\n        }\n        //文案更换\n\n    }, {\n        key: 'changeText',\n        value: function changeText() {\n            var randNum = Math.ceil(Math.random() * 14);\n            if (randNum > 0) {\n                this.loadingText.skin = \"res/loading/texts/text\" + randNum + \".png\";\n            } else {\n                this.loadingText.skin = \"res/loading/texts/text1.png\";\n            }\n        }\n\n        //资源加载\n\n    }, {\n        key: 'loadImages',\n        value: function loadImages(num) {\n            // with为770 由于要加载声音变成700 仅限于学生\n            var loadwidth = void 0;\n            GM.vsFrom != \"web\" ? loadwidth = 500 : loadwidth = 770;\n            var w = num * loadwidth;\n            w = w < 40 ? 40 : w;\n            //修改进度值\n            this.ProgressBar.width = w;\n            //位置跟随\n            if (this.ProgressBar.width - 100 > 0) {\n                this.Cat.x = this.ProgressBar.width - 30;\n            }\n\n            if (num === 1) {\n                this.loadsoundflag = true;\n                Laya.timer.clear(this, this.changeText);\n            }\n        }\n    }, {\n        key: 'loadsound',\n        value: function loadsound(data) {\n            var pro = data.current / data.total * 231;\n            // messageCenter.emit(\"console\",{pro:pro});       \n            if (this.loadsoundflag) {\n                this.ProgressBar.width = 539 + pro;\n                // messageCenter.emit(\"console\",{ProgressBar:this.ProgressBar.width});      \n                //位置跟随\n                if (this.ProgressBar.width - 100 > 0) {\n                    this.Cat.x = this.ProgressBar.width - 30;\n                }\n                if (this.ProgressBar.width >= 731) {\n                    this.ProgressBar.width = 731;\n                    // messageCenter.emit(\"console\",{Cat:this.Cat.x}); \n                    this.Cat.x = 700;\n                }\n            }\n        }\n    }, {\n        key: 'onEnter',\n        value: function onEnter() {\n            // 视图居中\n            (0, _init_module.setViewCenter)();\n            console.log(this.sceneName + \" enter\");\n            //取消订阅时不用传递回调函数\n            _init_module.observer.unsubscribe(this.sceneName + \"_enter\");\n        }\n\n        // 退出场景\n\n    }, {\n        key: 'onExit',\n        value: function onExit() {\n            console.log(this.sceneName + \" exit\");\n            //发布退出事件\n            _init_module.observer.publish(this.sceneName + \"_exit\");\n            this.clear();\n        }\n\n        //自定义方法，场景退出的时候是销毁还是removeself请自行抉择\n\n    }, {\n        key: 'clear',\n        value: function clear() {\n            this.loadsoundflag = null;\n            this.clearloadingres();\n            this.destroy(true);\n        }\n\n        //清理load资源\n\n    }, {\n        key: 'clearloadingres',\n        value: function clearloadingres() {\n            var res = _resource.LIBRARY.LoadingLIBRARY;\n            for (var i = 0; i < res.length; i++) {\n                var asset = res[i].url;\n                //查看log，清理前资源一直在内存中\n                // console.log(Laya.loader.getRes(asset));\n                //调用清理方法\n                Laya.loader.clearRes(asset);\n                //查看log，清理后，资源被卸载\n                // console.log(Laya.loader.getRes(asset));\n            }\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return LoadingScene;\n}(window.loadUI);\n\nexports.default = LoadingScene;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21haW5zY2VuZS9sb2FkaW5nLmpzPzRhMmYiXSwic291cmNlc0NvbnRlbnQiOlsiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBsb2FkaW5n6aG1XG4gKi9cbmltcG9ydCB7TElCUkFSWSwgR0FNRV9WRVJTSU9OfSBmcm9tICcuLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBvYnNlcnZlcixtZXNzYWdlQ2VudGVyLHNldFZpZXdDZW50ZXIsc2NlbmVNYW5hZ2VyIH0gZnJvbSAnLi4vbW9kdWxlL2luaXRfbW9kdWxlJztcbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi9yb29tJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmdTY2VuZSBleHRlbmRzIHdpbmRvdy5sb2FkVUkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNjZW5lTmFtZSA9IFwibG9hZGluZ1NjZW5lXCI7ICBcbiAgICAgICAgdGhpcy5sb2Fkc291bmRmbGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICBMb2FkaW5nU2NlbmUuaW5zdGFuY2UgPSB0aGlzOyAgICAgICBcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfHwgbmV3IHRoaXMoKTtcbiAgICB9XG5cbiAgICAvL+WIneWni+WMllxuICAgIGluaXQoKSB7ICAgICBcbiAgICAgICAgLy/orqLpmIXlnLrmma/liqDovb3kuovku7bvvIzor7fms6jmhI9iaW5k5pa55rOV5Ly85LmO5Lya5pS55Y+YZnVuY3Rpb27vvIzlr7zoh7Tlj5bmtojorqLpmIXnmoTml7blgJnliKTmlq3nmoTlm57osIPlh73mlbDlkoznu5HlrprnmoTlm57osIPlh73mlbDkuI3nm7jlkIxcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKHRoaXMuc2NlbmVOYW1lICsgXCJfZW50ZXJcIiwgdGhpcy5vbkVudGVyLmJpbmQodGhpcykpO1xuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoXCJzb3VuZExvYWRcIix0aGlzLmxvYWRzb3VuZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgTGF5YS50aW1lci5sb29wKDMwMDAsdGhpcyx0aGlzLmNoYW5nZVRleHQuYmluZCh0aGlzKSk7XG4gICAgICAgXG4gICAgICAgIFxuICAgIH1cbiAgICAvL+aWh+ahiOabtOaNolxuICAgIGNoYW5nZVRleHQoKXtcbiAgICAgICAgbGV0IHJhbmROdW0gPSAgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTQpO1xuICAgICAgICBpZihyYW5kTnVtID4gMCl7XG4gICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5za2luID0gXCJyZXMvbG9hZGluZy90ZXh0cy90ZXh0XCIgKyByYW5kTnVtICsgXCIucG5nXCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgIHRoaXMubG9hZGluZ1RleHQuc2tpbiA9IFwicmVzL2xvYWRpbmcvdGV4dHMvdGV4dDEucG5nXCI7XG4gICAgICAgIH1cbiAgICB9XG4gIFxuICAgIC8v6LWE5rqQ5Yqg6L29XG4gICAgbG9hZEltYWdlcyhudW0pe1xuICAgICAgICAvLyB3aXRo5Li6NzcwIOeUseS6juimgeWKoOi9veWjsOmfs+WPmOaIkDcwMCDku4XpmZDkuo7lrabnlJ9cbiAgICAgICAgbGV0IGxvYWR3aWR0aDtcbiAgICAgICAgR00udnNGcm9tICE9IFwid2ViXCI/bG9hZHdpZHRoPTUwMDpsb2Fkd2lkdGg9NzcwO1xuICAgICAgICBsZXQgdyA9IG51bSAgKiBsb2Fkd2lkdGg7XG4gICAgICAgIHcgPSB3IDwgNDAgPyA0MCA6IHc7XG4gICAgICAgIC8v5L+u5pS56L+b5bqm5YC8XG4gICAgICAgIHRoaXMuUHJvZ3Jlc3NCYXIud2lkdGggPSB3O1xuICAgICAgICAvL+S9jee9rui3n+maj1xuICAgICAgICBpZih0aGlzLlByb2dyZXNzQmFyLndpZHRoIC0gMTAwID4gMCApe1xuICAgICAgICAgICAgdGhpcy5DYXQueCA9IHRoaXMuUHJvZ3Jlc3NCYXIud2lkdGgtMzAgO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZihudW0gPT09IDEpe1xuICAgICAgICAgICAgdGhpcy5sb2Fkc291bmRmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyx0aGlzLmNoYW5nZVRleHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxvYWRzb3VuZChkYXRhKXtcbiAgICAgICAgbGV0IHBybyA9IChkYXRhLmN1cnJlbnQvZGF0YS50b3RhbCkqMjMxO1xuICAgICAgICAvLyBtZXNzYWdlQ2VudGVyLmVtaXQoXCJjb25zb2xlXCIse3Bybzpwcm99KTsgICAgICAgXG4gICAgICAgIGlmKHRoaXMubG9hZHNvdW5kZmxhZyl7ICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5Qcm9ncmVzc0Jhci53aWR0aCA9IDUzOStwcm87XG4gICAgICAgICAgICAvLyBtZXNzYWdlQ2VudGVyLmVtaXQoXCJjb25zb2xlXCIse1Byb2dyZXNzQmFyOnRoaXMuUHJvZ3Jlc3NCYXIud2lkdGh9KTsgICAgICBcbiAgICAgICAgICAgIC8v5L2N572u6Lef6ZqPXG4gICAgICAgICAgICBpZih0aGlzLlByb2dyZXNzQmFyLndpZHRoIC0gMTAwID4gMCApe1xuICAgICAgICAgICAgICAgIHRoaXMuQ2F0LnggPSB0aGlzLlByb2dyZXNzQmFyLndpZHRoLTMwIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuUHJvZ3Jlc3NCYXIud2lkdGg+PTczMSl7XG4gICAgICAgICAgICAgICAgdGhpcy5Qcm9ncmVzc0Jhci53aWR0aCA9IDczMTtcbiAgICAgICAgICAgICAgICAvLyBtZXNzYWdlQ2VudGVyLmVtaXQoXCJjb25zb2xlXCIse0NhdDp0aGlzLkNhdC54fSk7IFxuICAgICAgICAgICAgICAgIHRoaXMuQ2F0LnggPSA3MDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICBcbiAgXG4gICAgb25FbnRlcigpIHsgICAgICBcbiAgICAgICAgLy8g6KeG5Zu+5bGF5LitXG4gICAgICAgIHNldFZpZXdDZW50ZXIoKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zY2VuZU5hbWUgKyBcIiBlbnRlclwiKTtcbiAgICAgICAgLy/lj5bmtojorqLpmIXml7bkuI3nlKjkvKDpgJLlm57osIPlh73mlbBcbiAgICAgICAgb2JzZXJ2ZXIudW5zdWJzY3JpYmUodGhpcy5zY2VuZU5hbWUgKyBcIl9lbnRlclwiKTtcbiAgICB9XG5cbiAgXG4gICAgLy8g6YCA5Ye65Zy65pmvXG4gICAgb25FeGl0KCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNjZW5lTmFtZSArIFwiIGV4aXRcIik7XG4gICAgICAgIC8v5Y+R5biD6YCA5Ye65LqL5Lu2XG4gICAgICAgIG9ic2VydmVyLnB1Ymxpc2godGhpcy5zY2VuZU5hbWUgKyBcIl9leGl0XCIpO1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgLy/oh6rlrprkuYnmlrnms5XvvIzlnLrmma/pgIDlh7rnmoTml7blgJnmmK/plIDmr4Hov5jmmK9yZW1vdmVzZWxm6K+36Ieq6KGM5oqJ5oupXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMubG9hZHNvdW5kZmxhZyA9IG51bGw7XG4gICAgICAgIHRoaXMuY2xlYXJsb2FkaW5ncmVzKCk7ICAgXG4gICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTsgIFxuICAgIH1cblxuICAgIC8v5riF55CGbG9hZOi1hOa6kFxuICAgIGNsZWFybG9hZGluZ3Jlcygpe1xuICAgICAgICBsZXQgcmVzID0gTElCUkFSWS5Mb2FkaW5nTElCUkFSWTtcbiAgICAgICAgZm9yKGxldCBpID0gMDtpPHJlcy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGxldCBhc3NldCA9IHJlc1tpXS51cmw7XG4gICAgICAgICAgICAvL+afpeeci2xvZ++8jOa4heeQhuWJjei1hOa6kOS4gOebtOWcqOWGheWtmOS4rVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coTGF5YS5sb2FkZXIuZ2V0UmVzKGFzc2V0KSk7XG4gICAgICAgICAgICAvL+iwg+eUqOa4heeQhuaWueazlVxuICAgICAgICAgICAgTGF5YS5sb2FkZXIuY2xlYXJSZXMoYXNzZXQpO1xuICAgICAgICAgICAgLy/mn6XnnItsb2fvvIzmuIXnkIblkI7vvIzotYTmupDooqvljbjovb1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKExheWEubG9hZGVyLmdldFJlcyhhc3NldCkpO1xuICAgICAgICB9XG4gICAgICAgXG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvbG9hZGluZy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQU5BOzs7OztBQU1BOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU1BO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBbEdBO0FBQ0E7QUFDQTs7OztBQVhBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/* no static exports found */
/* all exports used */
/*!********************************!*\
  !*** ./Course/src/resource.js ***!
  \********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar IMAGE = Laya.Loader.IMAGE;\nvar ATLAS = Laya.Loader.ATLAS;\nvar BUFFER = Laya.Loader.BUFFER;\nvar SOUND = Laya.Loader.SOUND;\nvar FONT = Laya.Loader.FONT;\nvar LIBRARY = {};\n\nvar GAME_VERSION = {};\nvar LoadingLIBRARY = [{ url: 'res/loading/bg.png', type: IMAGE }, { url: 'res/loading/loading_yellow/yellowbar.png', type: IMAGE }, { url: 'res/loading/loading_yellow/yellowbg.png', type: IMAGE }, { url: 'res/loading/loading_yellow/jiazai.png', type: IMAGE }, { url: 'res/loading/loading_yellow/jiazai.sk', type: BUFFER }, { url: 'res/loading/loading_yellow/dengpao.png', type: IMAGE }, { url: 'res/loading/loading_yellow/dengpao.sk', type: BUFFER }, { url: 'res/loading/texts/text1.png', type: IMAGE }, { url: 'res/loading/texts/text2.png', type: IMAGE }, { url: 'res/loading/texts/text3.png', type: IMAGE }, { url: 'res/loading/texts/text4.png', type: IMAGE }, { url: 'res/loading/texts/text5.png', type: IMAGE }, { url: 'res/loading/texts/text6.png', type: IMAGE }, { url: 'res/loading/texts/text7.png', type: IMAGE }, { url: 'res/loading/texts/text8.png', type: IMAGE }, { url: 'res/loading/texts/text9.png', type: IMAGE }, { url: 'res/loading/texts/text10.png', type: IMAGE }, { url: 'res/loading/texts/text11.png', type: IMAGE }, { url: 'res/loading/texts/text12.png', type: IMAGE }, { url: 'res/loading/texts/text13.png', type: IMAGE }, { url: 'res/loading/texts/text14.png', type: IMAGE }];\nvar Common = [{ url: 'res/commonn.json', type: ATLAS }, { url: 'res/animate/skeleton.png', type: IMAGE }, { url: 'res/animate/skeleton.sk', type: BUFFER }, { url: 'res/animate/figerChange.png', type: IMAGE }, { url: 'res/animate/figerChange.sk', type: BUFFER }, { url: 'res/medias.json', type: ATLAS }];\nvar RoomLIBRARY = [{ url: 'res/commonn/audioPlayIcon/musicPlay0.png', type: IMAGE }, { url: 'res/commonn/audioPlayIcon/musicPlay1.png', type: IMAGE }, { url: 'res/commonn/audioPlayIcon/musicPlay2.png', type: IMAGE }, { url: 'res/commonn/audioPlayIcon/musicPlay3.png', type: IMAGE }, { url: 'res/commonn/audioPlayIcon/musicPlay4.png', type: IMAGE }, { url: 'res/commonn/audioPlayIcon/whiteMusic.png', type: IMAGE }, { url: 'res/comp.json', type: ATLAS }, { url: 'res/commonn/Mask.png', type: IMAGE }, { url: 'res/commonn/num.fnt', type: FONT }, { url: 'res/commonn/num.png', type: IMAGE }, { url: 'res/animate/anibg.png', type: IMAGE }, { url: 'res/animate/es.png', type: IMAGE }, { url: 'res/animate/sky.png', type: IMAGE }, { url: 'res/animate/bg.png', type: IMAGE }, { url: 'res/animate/sky1.png', type: IMAGE }, { url: 'texture.png', type: IMAGE }, { url: 'res/animate/daduitaibangle.png', type: IMAGE }, { url: 'res/animate/daduitaibangle.sk', type: BUFFER }, { url: 'res/animate/czb_jishi_jieshunaozhong.png', type: IMAGE }, { url: 'res/animate/czb_jishi_jieshunaozhong.sk', type: BUFFER }, { url: 'res/animate/daojishi.png', type: IMAGE }, { url: 'res/animate/daojishi.sk', type: BUFFER }, { url: 'res/bulletViews.json', type: ATLAS }, { url: 'res/bulletViews/position_vertical.png', type: IMAGE }, { url: 'res/bulletViews/zidbg.png', type: IMAGE }, { url: 'res/rankpage.json', type: ATLAS }, { url: 'res/rankpage/bg_light.png', type: IMAGE }, { url: 'res/rankpage/img_firstPage.png', type: IMAGE }, { url: 'res/rankpage/img_secondPage.png', type: IMAGE }, { url: 'res/rankpage/img_thirdPage.png', type: IMAGE }, { url: 'res/reports/img_bookbg.png', type: IMAGE }, { url: 'res/reports.json', type: ATLAS }, { url: 'lianxianWin.part', type: Laya.Loader.JSON }, { url: 'WinParticle.part', type: Laya.Loader.JSON },\n\n//临时添加内置正方体\n{ url: 'res/sceneMode/numberA.png', type: IMAGE }, { url: 'res/sceneMode/numberB.png', type: IMAGE }, { url: 'res/sceneMode/numberC.png', type: IMAGE }, { url: 'res/sceneMode/numberD.png', type: IMAGE }, { url: 'res/sceneMode/numberE.png', type: IMAGE }, { url: 'res/sceneMode/numberF.png', type: IMAGE },\n//sound\n{ url: 'sound/answering.mp3', type: SOUND }, { url: 'sound/carShow.mp3', type: SOUND }, { url: 'sound/countdown.mp3', type: SOUND }, { url: 'sound/ready.mp3', type: SOUND }, { url: 'sound/timedown.mp3', type: SOUND }, { url: 'sound/walk.mp3', type: SOUND }, { url: 'sound/fly/fly.mp3', type: SOUND }, { url: 'sound/fly/move.mp3', type: SOUND }, { url: 'sound/fly/white.mp3', type: SOUND }, { url: 'sound/Events/largeWin.mp3', type: SOUND }, { url: 'sound/Events/smallErrorOutThing.mp3', type: SOUND }, { url: 'sound/Events/smallErrorWithThing.mp3', type: SOUND }, { url: 'sound/Events/smallWin.mp3', type: SOUND },\n//newani\n{ url: 'res/newani/dabans.png', type: IMAGE }, { url: 'res/newani/dabans.sk', type: BUFFER }, { url: 'res/newani/dawang_sikao.png', type: IMAGE }, { url: 'res/newani/dawang_sikao.sk', type: BUFFER }, { url: 'res/newani/douzi.png', type: IMAGE }, { url: 'res/newani/douzi.sk', type: BUFFER }, { url: 'res/newani/guancha.png', type: IMAGE }, { url: 'res/newani/guancha.sk', type: BUFFER }, { url: 'res/newani/stop.png', type: IMAGE }, { url: 'res/newani/stop.sk', type: BUFFER }, { url: 'res/newani/xiaojingyus.png', type: IMAGE }, { url: 'res/newani/xiaojingyus.sk', type: BUFFER }, { url: 'res/newani/zhihuicao.png', type: IMAGE }, { url: 'res/newani/zhihuicao.sk', type: BUFFER },\n\n// new sound\n{ url: 'sound/newsound/countdown.mp3', type: SOUND }, { url: 'sound/newsound/errorhead.mp3', type: SOUND }, { url: 'sound/newsound/errorlook.mp3', type: SOUND }, { url: 'sound/newsound/pause.mp3', type: SOUND }, { url: 'sound/newsound/start.mp3', type: SOUND }, { url: 'sound/newsound/wincao.mp3', type: SOUND }, { url: 'sound/newsound/windou.mp3', type: SOUND }, { url: 'sound/newsound/winfish.mp3', type: SOUND }];\n\nvar loop = function loop(arr) {\n    if ((typeof arr === 'undefined' ? 'undefined' : _typeof(arr)) !== 'object') {\n        return;\n    }\n    for (var i in arr) {\n        arr[i].forEach(function (item, i) {\n            var newUrl = void 0;\n            var jsonIndex = void 0;\n            var fntIndex = void 0;\n            var atlasIndex = void 0;\n            var pngIndex = void 0;\n            if (typeof item.url === 'string') {\n                // 若加载后缀有 .json 和.fnt 的, 则连它们对应的 png一起添加了\n                jsonIndex = item.url.indexOf('.json');\n                fntIndex = item.url.indexOf('.fnt');\n                atlasIndex = item.url.indexOf('.atlas');\n                pngIndex = item.url.indexOf('.png');\n                if (jsonIndex > -1) {\n                    newUrl = item.url.substr(0, jsonIndex) + '.png';\n                } else if (fntIndex > -1) {\n                    newUrl = item.url.substr(0, fntIndex) + '.png';\n                } else if (atlasIndex > -1) {\n                    newUrl = item.url.substr(0, atlasIndex) + '.png';\n                }\n\n                if (newUrl) {\n                    GAME_VERSION[newUrl] = GM.VERSION;\n                }\n\n                GAME_VERSION[item.url] = GM.VERSION;\n            } else {\n                loop(item);\n            }\n        });\n    }\n};\nexports.LIBRARY = LIBRARY = {\n    LoadingLIBRARY: LoadingLIBRARY, Common: Common, RoomLIBRARY: RoomLIBRARY\n};\n\nloop(LIBRARY);\n\nexports.LIBRARY = LIBRARY;\nexports.GAME_VERSION = GAME_VERSION;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL3Jlc291cmNlLmpzPzBhZGMiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IElNQUdFID0gTGF5YS5Mb2FkZXIuSU1BR0U7XG5sZXQgQVRMQVMgPSBMYXlhLkxvYWRlci5BVExBUztcbmxldCBCVUZGRVIgPSBMYXlhLkxvYWRlci5CVUZGRVI7XG5sZXQgU09VTkQgPSBMYXlhLkxvYWRlci5TT1VORDtcbmxldCBGT05UID0gTGF5YS5Mb2FkZXIuRk9OVDtcbmxldCBMSUJSQVJZID0ge307XG5cbmNvbnN0IEdBTUVfVkVSU0lPTiA9IHt9O1xuY29uc3QgTG9hZGluZ0xJQlJBUlkgPSBbIFxuICAgIHt1cmw6ICdyZXMvbG9hZGluZy9iZy5wbmcnLHR5cGU6IElNQUdFfSxcbiAgICB7dXJsOiAncmVzL2xvYWRpbmcvbG9hZGluZ195ZWxsb3cveWVsbG93YmFyLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9sb2FkaW5nL2xvYWRpbmdfeWVsbG93L3llbGxvd2JnLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9sb2FkaW5nL2xvYWRpbmdfeWVsbG93L2ppYXphaS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvbG9hZGluZy9sb2FkaW5nX3llbGxvdy9qaWF6YWkuc2snLCB0eXBlOiBCVUZGRVIgfSxcbiAgICB7dXJsOiAncmVzL2xvYWRpbmcvbG9hZGluZ195ZWxsb3cvZGVuZ3Bhby5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvbG9hZGluZy9sb2FkaW5nX3llbGxvdy9kZW5ncGFvLnNrJywgdHlwZTogQlVGRkVSIH0sXG4gICAge3VybDogJ3Jlcy9sb2FkaW5nL3RleHRzL3RleHQxLnBuZycsdHlwZTogSU1BR0V9LFxuICAgIHt1cmw6ICdyZXMvbG9hZGluZy90ZXh0cy90ZXh0Mi5wbmcnLHR5cGU6IElNQUdFfSxcbiAgICB7dXJsOiAncmVzL2xvYWRpbmcvdGV4dHMvdGV4dDMucG5nJyx0eXBlOiBJTUFHRX0sXG4gICAge3VybDogJ3Jlcy9sb2FkaW5nL3RleHRzL3RleHQ0LnBuZycsdHlwZTogSU1BR0V9LFxuICAgIHt1cmw6ICdyZXMvbG9hZGluZy90ZXh0cy90ZXh0NS5wbmcnLHR5cGU6IElNQUdFfSxcbiAgICB7dXJsOiAncmVzL2xvYWRpbmcvdGV4dHMvdGV4dDYucG5nJyx0eXBlOiBJTUFHRX0sXG4gICAge3VybDogJ3Jlcy9sb2FkaW5nL3RleHRzL3RleHQ3LnBuZycsdHlwZTogSU1BR0V9LFxuICAgIHt1cmw6ICdyZXMvbG9hZGluZy90ZXh0cy90ZXh0OC5wbmcnLHR5cGU6IElNQUdFfSxcbiAgICB7dXJsOiAncmVzL2xvYWRpbmcvdGV4dHMvdGV4dDkucG5nJyx0eXBlOiBJTUFHRX0sXG4gICAge3VybDogJ3Jlcy9sb2FkaW5nL3RleHRzL3RleHQxMC5wbmcnLHR5cGU6IElNQUdFfSwgICBcbiAgICB7dXJsOiAncmVzL2xvYWRpbmcvdGV4dHMvdGV4dDExLnBuZycsdHlwZTogSU1BR0V9LFxuICAgIHt1cmw6ICdyZXMvbG9hZGluZy90ZXh0cy90ZXh0MTIucG5nJyx0eXBlOiBJTUFHRX0sXG4gICAge3VybDogJ3Jlcy9sb2FkaW5nL3RleHRzL3RleHQxMy5wbmcnLHR5cGU6IElNQUdFfSxcbiAgICB7dXJsOiAncmVzL2xvYWRpbmcvdGV4dHMvdGV4dDE0LnBuZycsdHlwZTogSU1BR0V9LCAgICBcbl1cbmNvbnN0IENvbW1vbiA9IFtcbiAgICB7dXJsOiAncmVzL2NvbW1vbm4uanNvbicsdHlwZTogQVRMQVN9LFxuICAgIHt1cmw6ICdyZXMvYW5pbWF0ZS9za2VsZXRvbi5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvYW5pbWF0ZS9za2VsZXRvbi5zaycsIHR5cGU6IEJVRkZFUiB9LFxuICAgIHt1cmw6ICdyZXMvYW5pbWF0ZS9maWdlckNoYW5nZS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvYW5pbWF0ZS9maWdlckNoYW5nZS5zaycsIHR5cGU6IEJVRkZFUiB9LFxuICAgIHt1cmw6ICdyZXMvbWVkaWFzLmpzb24nLCB0eXBlOiBBVExBUyB9LCBcbl1cbmNvbnN0IFJvb21MSUJSQVJZID0gW1xuICAgIHt1cmw6ICdyZXMvY29tbW9ubi9hdWRpb1BsYXlJY29uL211c2ljUGxheTAucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICB7dXJsOiAncmVzL2NvbW1vbm4vYXVkaW9QbGF5SWNvbi9tdXNpY1BsYXkxLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9jb21tb25uL2F1ZGlvUGxheUljb24vbXVzaWNQbGF5Mi5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvY29tbW9ubi9hdWRpb1BsYXlJY29uL211c2ljUGxheTMucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICB7dXJsOiAncmVzL2NvbW1vbm4vYXVkaW9QbGF5SWNvbi9tdXNpY1BsYXk0LnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9jb21tb25uL2F1ZGlvUGxheUljb24vd2hpdGVNdXNpYy5wbmcnLHR5cGU6IElNQUdFfSwgICAgIFxuICAgIHt1cmw6ICdyZXMvY29tcC5qc29uJyx0eXBlOiBBVExBU30sICAgICAgXG4gICAge3VybDogJ3Jlcy9jb21tb25uL01hc2sucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICB7dXJsOiAncmVzL2NvbW1vbm4vbnVtLmZudCcsdHlwZTogRk9OVH0sXG4gICAge3VybDogJ3Jlcy9jb21tb25uL251bS5wbmcnLHR5cGU6IElNQUdFfSwgIFxuICAgIHt1cmw6ICdyZXMvYW5pbWF0ZS9hbmliZy5wbmcnLHR5cGU6IElNQUdFfSxcbiAgICB7dXJsOiAncmVzL2FuaW1hdGUvZXMucG5nJyx0eXBlOiBJTUFHRX0sXG4gICAge3VybDogJ3Jlcy9hbmltYXRlL3NreS5wbmcnLHR5cGU6IElNQUdFfSwgICAgIFxuICAgIHt1cmw6ICdyZXMvYW5pbWF0ZS9iZy5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvYW5pbWF0ZS9za3kxLnBuZycsIHR5cGU6IElNQUdFIH0sIFxuICAgIHt1cmw6ICd0ZXh0dXJlLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9hbmltYXRlL2RhZHVpdGFpYmFuZ2xlLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9hbmltYXRlL2RhZHVpdGFpYmFuZ2xlLnNrJywgdHlwZTogQlVGRkVSIH0sXG4gICAge3VybDogJ3Jlcy9hbmltYXRlL2N6Yl9qaXNoaV9qaWVzaHVuYW96aG9uZy5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvYW5pbWF0ZS9jemJfamlzaGlfamllc2h1bmFvemhvbmcuc2snLCB0eXBlOiBCVUZGRVIgfSxcbiAgICB7dXJsOiAncmVzL2FuaW1hdGUvZGFvamlzaGkucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICB7dXJsOiAncmVzL2FuaW1hdGUvZGFvamlzaGkuc2snLCB0eXBlOiBCVUZGRVIgfSxcbiAgICB7dXJsOiAncmVzL2J1bGxldFZpZXdzLmpzb24nLCB0eXBlOiBBVExBUyB9LFxuICAgIHt1cmw6ICdyZXMvYnVsbGV0Vmlld3MvcG9zaXRpb25fdmVydGljYWwucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICB7dXJsOiAncmVzL2J1bGxldFZpZXdzL3ppZGJnLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9yYW5rcGFnZS5qc29uJywgdHlwZTogQVRMQVMgfSxcbiAgICB7dXJsOiAncmVzL3JhbmtwYWdlL2JnX2xpZ2h0LnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9yYW5rcGFnZS9pbWdfZmlyc3RQYWdlLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9yYW5rcGFnZS9pbWdfc2Vjb25kUGFnZS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvcmFua3BhZ2UvaW1nX3RoaXJkUGFnZS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvcmVwb3J0cy9pbWdfYm9va2JnLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9yZXBvcnRzLmpzb24nLCB0eXBlOiBBVExBUyB9LFxuICAgIHt1cmw6ICdsaWFueGlhbldpbi5wYXJ0JywgdHlwZTogTGF5YS5Mb2FkZXIuSlNPTiB9LFxuICAgIHt1cmw6ICdXaW5QYXJ0aWNsZS5wYXJ0JywgdHlwZTogTGF5YS5Mb2FkZXIuSlNPTiB9LFxuXG4gICAgLy/kuLTml7bmt7vliqDlhoXnva7mraPmlrnkvZNcbiAgICB7dXJsOiAncmVzL3NjZW5lTW9kZS9udW1iZXJBLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9zY2VuZU1vZGUvbnVtYmVyQi5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvc2NlbmVNb2RlL251bWJlckMucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICB7dXJsOiAncmVzL3NjZW5lTW9kZS9udW1iZXJELnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9zY2VuZU1vZGUvbnVtYmVyRS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvc2NlbmVNb2RlL251bWJlckYucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICAvL3NvdW5kXG4gICAge3VybDogJ3NvdW5kL2Fuc3dlcmluZy5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgIHt1cmw6ICdzb3VuZC9jYXJTaG93Lm1wMycsIHR5cGU6IFNPVU5EIH0sXG4gICAge3VybDogJ3NvdW5kL2NvdW50ZG93bi5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgIHt1cmw6ICdzb3VuZC9yZWFkeS5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgIHt1cmw6ICdzb3VuZC90aW1lZG93bi5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgIHt1cmw6ICdzb3VuZC93YWxrLm1wMycsIHR5cGU6IFNPVU5EIH0sXG4gICAge3VybDogJ3NvdW5kL2ZseS9mbHkubXAzJywgdHlwZTogU09VTkQgfSxcbiAgICB7dXJsOiAnc291bmQvZmx5L21vdmUubXAzJywgdHlwZTogU09VTkQgfSxcbiAgICB7dXJsOiAnc291bmQvZmx5L3doaXRlLm1wMycsIHR5cGU6IFNPVU5EIH0sXG4gICAge3VybDogJ3NvdW5kL0V2ZW50cy9sYXJnZVdpbi5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgIHt1cmw6ICdzb3VuZC9FdmVudHMvc21hbGxFcnJvck91dFRoaW5nLm1wMycsIHR5cGU6IFNPVU5EIH0sXG4gICAge3VybDogJ3NvdW5kL0V2ZW50cy9zbWFsbEVycm9yV2l0aFRoaW5nLm1wMycsIHR5cGU6IFNPVU5EIH0sXG4gICAge3VybDogJ3NvdW5kL0V2ZW50cy9zbWFsbFdpbi5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgIC8vbmV3YW5pXG4gICAge3VybDogJ3Jlcy9uZXdhbmkvZGFiYW5zLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9uZXdhbmkvZGFiYW5zLnNrJywgdHlwZTogQlVGRkVSIH0sIFxuICAgIHt1cmw6ICdyZXMvbmV3YW5pL2Rhd2FuZ19zaWthby5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvbmV3YW5pL2Rhd2FuZ19zaWthby5zaycsIHR5cGU6IEJVRkZFUiB9LCBcbiAgICB7dXJsOiAncmVzL25ld2FuaS9kb3V6aS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxuICAgIHt1cmw6ICdyZXMvbmV3YW5pL2RvdXppLnNrJywgdHlwZTogQlVGRkVSIH0sIFxuICAgIHt1cmw6ICdyZXMvbmV3YW5pL2d1YW5jaGEucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICB7dXJsOiAncmVzL25ld2FuaS9ndWFuY2hhLnNrJywgdHlwZTogQlVGRkVSIH0sIFxuICAgIHt1cmw6ICdyZXMvbmV3YW5pL3N0b3AucG5nJywgdHlwZTogSU1BR0UgfSxcbiAgICB7dXJsOiAncmVzL25ld2FuaS9zdG9wLnNrJywgdHlwZTogQlVGRkVSIH0sIFxuICAgIHt1cmw6ICdyZXMvbmV3YW5pL3hpYW9qaW5neXVzLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9uZXdhbmkveGlhb2ppbmd5dXMuc2snLCB0eXBlOiBCVUZGRVIgfSwgXG4gICAge3VybDogJ3Jlcy9uZXdhbmkvemhpaHVpY2FvLnBuZycsIHR5cGU6IElNQUdFIH0sXG4gICAge3VybDogJ3Jlcy9uZXdhbmkvemhpaHVpY2FvLnNrJywgdHlwZTogQlVGRkVSIH0sIFxuXG4gICAgLy8gbmV3IHNvdW5kXG4gICAge3VybDogJ3NvdW5kL25ld3NvdW5kL2NvdW50ZG93bi5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgIHt1cmw6ICdzb3VuZC9uZXdzb3VuZC9lcnJvcmhlYWQubXAzJywgdHlwZTogU09VTkQgfSxcbiAgICB7dXJsOiAnc291bmQvbmV3c291bmQvZXJyb3Jsb29rLm1wMycsIHR5cGU6IFNPVU5EIH0sXG4gICAge3VybDogJ3NvdW5kL25ld3NvdW5kL3BhdXNlLm1wMycsIHR5cGU6IFNPVU5EIH0sXG4gICAge3VybDogJ3NvdW5kL25ld3NvdW5kL3N0YXJ0Lm1wMycsIHR5cGU6IFNPVU5EIH0sXG4gICAge3VybDogJ3NvdW5kL25ld3NvdW5kL3dpbmNhby5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgIHt1cmw6ICdzb3VuZC9uZXdzb3VuZC93aW5kb3UubXAzJywgdHlwZTogU09VTkQgfSxcbiAgICB7dXJsOiAnc291bmQvbmV3c291bmQvd2luZmlzaC5tcDMnLCB0eXBlOiBTT1VORCB9LFxuICAgICAgICAgICBcblxuXVxuXG5sZXQgbG9vcCA9IChhcnIpID0+IHtcbiAgICBpZiAodHlwZW9mIGFyciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IobGV0IGkgaW4gYXJyKXtcbiAgICAgICAgYXJyW2ldLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaSkge1xuICAgICAgICBsZXQgbmV3VXJsO1xuICAgICAgICBsZXQganNvbkluZGV4O1xuICAgICAgICBsZXQgZm50SW5kZXg7XG4gICAgICAgIGxldCBhdGxhc0luZGV4O1xuICAgICAgICBsZXQgcG5nSW5kZXg7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbS51cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyDoi6XliqDovb3lkI7nvIDmnIkgLmpzb24g5ZKMLmZudCDnmoQsIOWImei/nuWug+S7rOWvueW6lOeahCBwbmfkuIDotbfmt7vliqDkuoZcbiAgICAgICAgICAgIGpzb25JbmRleCA9IGl0ZW0udXJsLmluZGV4T2YoJy5qc29uJyk7XG4gICAgICAgICAgICBmbnRJbmRleCA9IGl0ZW0udXJsLmluZGV4T2YoJy5mbnQnKTtcbiAgICAgICAgICAgIGF0bGFzSW5kZXggPSBpdGVtLnVybC5pbmRleE9mKCcuYXRsYXMnKTtcbiAgICAgICAgICAgICBwbmdJbmRleCA9IGl0ZW0udXJsLmluZGV4T2YoJy5wbmcnKTtcbiAgICAgICAgICAgIGlmIChqc29uSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIG5ld1VybCA9IGl0ZW0udXJsLnN1YnN0cigwLCBqc29uSW5kZXgpICsgJy5wbmcnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmbnRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbmV3VXJsID0gaXRlbS51cmwuc3Vic3RyKDAsIGZudEluZGV4KSArICcucG5nJztcbiAgICAgICAgICAgIH1lbHNlIGlmIChhdGxhc0luZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBuZXdVcmwgPSBpdGVtLnVybC5zdWJzdHIoMCwgYXRsYXNJbmRleCkgKyAnLnBuZyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdVcmwpIHtcbiAgICAgICAgICAgICAgICAgR0FNRV9WRVJTSU9OW25ld1VybF0gPSAgR00uVkVSU0lPTjtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgICAgR0FNRV9WRVJTSU9OW2l0ZW0udXJsXSA9IEdNLlZFUlNJT047XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb29wKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgfVxufVxuTElCUkFSWSA9IHtcbiAgICBMb2FkaW5nTElCUkFSWTpMb2FkaW5nTElCUkFSWSAsQ29tbW9uOkNvbW1vbixSb29tTElCUkFSWTpSb29tTElCUkFSWSBcbn07XG5cbmxvb3AoTElCUkFSWSk7XG5cblxuZXhwb3J0IHsgTElCUkFSWSwgR0FNRV9WRVJTSU9OIH07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvcmVzb3VyY2UuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdUJBO0FBUUE7QUFDQTtBQW1DQTtBQUNBO0FBTUE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/* no static exports found */
/* all exports used */
/*!*******************************************************!*\
  !*** ./Course/src/mainscene/animat/spineAnimation.js ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _laya = __webpack_require__(/*! ../../module/com/laya.custom */ 2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 龙骨人物动画\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar spineAnimation = function (_Laya$Box) {\n    _inherits(spineAnimation, _Laya$Box);\n\n    function spineAnimation(data) {\n        _classCallCheck(this, spineAnimation);\n\n        var _this = _possibleConstructorReturn(this, (spineAnimation.__proto__ || Object.getPrototypeOf(spineAnimation)).call(this));\n\n        _this.name = data.Name; //元素id\n        _this.nickName = data.NickName; //元素名称\n        _this.Animation = data.Animation; //动画  \n        _this.EventList = data.EventList; //元素带出  \n        _this.Position = data.Position; //位置\n        _this.Rotation = data.Rotation; //角度\n        _this.itemWidth = data.Width; //宽\n        _this.itemHeight = data.Height; //高\n        _this.ImgId = data.ImgId; //对应的图片ID\n        _this.TagType = data.TagType; //元素本身事件\n        _this.Tag = data.Tag; //答案区\n        _this.index = data.Index; //index属性\n        _this.DriveType = data.DriveType; //出场属性\n        _this.MirrorX = data.MirrorX; //左右镜像\n        _this.MirrorY = data.MirrorY; //竖直镜像\n        _this.Transparent = data.Transparent / 100; //透明度 1-100\n        _this.MediaId = data.MediaId; //元素视频链接\n        _this.MediaMode = data.MediaMode; //元素多媒体出现状态\n        _this.MediaDelay = data.MediaDelay;\n        _this.MediaUrl = null;\n        _this.itemscaleX = null;\n        _this.itemscaleY = null;\n        _this.action = data.DefaultAction;\n        _this.AngleGroup = data.AngleGroup; //旋转角度组\n        _this.IsStudentsInvisible = data.IsStudentsInvisible; //是否老师可见   \n        _this.answertagArray = []; //存放答案区的标签\n        _this.isElementGroup = null; //是否在元素组以及index\n        _this.spinAni = null;\n        _this.child = null;\n        _this.init();\n        return _this;\n    }\n\n    _createClass(spineAnimation, [{\n        key: 'init',\n        value: function init() {\n            var _this2 = this;\n\n            // console.log(this.action,\"我是骨骼动画\");\n            // this.skin = \"res/animate/bus.png\";\n            var Source = GM.ImageLibrary[this.ImgId];\n            if (Source === undefined) return;\n            var skpng = Source.Url;\n            var skurl = Source.jsonFileUrl;\n            this.pos(Number(this.Position.split(',')[0]), Number(this.Position.split(',')[1]));\n            this.size(this.itemWidth, this.itemHeight);\n            if (this.TagType === 5) {\n                this.MediaMode = 1;\n            }\n\n            this.anchorX = 0.5;this.anchorY = 0.5;\n            this.pos(this.x + this.width / 2, this.y + this.height / 2);\n            if (this.Rotation) {\n                this.rotation = this.Rotation;\n            }\n\n            if (this.MirrorY && this.MirrorX) {\n                this.skew(this.MirrorY == -1 ? 180 : 0, this.MirrorX == -1 ? 180 : 0);\n            }\n            if (this.Transparent) {\n                this.alpha = this.Transparent;\n            }\n            var skbox = new Laya.Box();\n            skbox.name = \"spineani\";\n            skbox.size(this.width, this.height);\n            this.itemscaleX = this.itemWidth / Source.width;\n            this.itemscaleY = this.itemHeight / Source.height;\n            this.scale(this.itemscaleX, this.itemscaleY);\n            this.addChild(skbox);\n            if (skurl && skpng) {\n                var res = [{ url: skpng, type: Laya.Loader.IMAGE }, { url: skurl, type: Laya.Loader.BUFFER }];\n                Laya.loader.load(res, Laya.Handler.create(this, function () {\n                    var spinAni = new _laya.createSkeleton(skurl, null, null, skpng);\n                    _this2.spinAni = spinAni;\n                    spinAni.pos(skbox.width / 2, skbox.height / 2);\n                    spinAni.play(_this2.action, true);\n                    skbox.addChild(spinAni);\n                }), null, false);\n            }\n        }\n    }, {\n        key: 'playandStop',\n        value: function playandStop(type) {\n            if (type === 0) {\n                this.spinAni.play(this.action, true);\n            } else {\n                this.spinAni.stop();\n            }\n        }\n        //切换动画\n\n    }, {\n        key: 'changePlaystyle',\n        value: function changePlaystyle(Action) {\n            this.spinAni.play(Action, true);\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            this.name = null; //元素id\n            this.nickName = null; //元素名称\n            this.Animation = null; //动画  \n            this.EventList = null; //元素带出  \n            this.Position = null; //位置\n            this.Rotation = null; //角度\n            this.itemWidth = null; //宽\n            this.itemHeight = null; //高\n            this.ImgId = null; //对应的图片ID\n            this.TagType = null; //元素本身事件\n            this.Tag = null; //答案区\n            this.index = null; //index属性\n            this.DriveType = null; //出场属性\n            this.MirrorX = null; //左右镜像\n            this.MirrorY = null; //竖直镜像\n            this.Transparent = null; //透明度 1-100\n            this.MediaId = null; //元素视频链接\n            this.MediaMode = null; //元素多媒体出现状态\n            this.MediaDelay = null;\n            this.MediaUrl = null;\n            this.itemscaleX = null;\n            this.itemscaleY = null;\n            this.AngleGroup = null; //旋转角度组\n            this.IsStudentsInvisible = null; //是否老师可见\n\n            this.answertagArray = []; //存放答案区的标签\n            this.isElementGroup = null; //是否在元素组以及index  \n            this.destroy();\n        }\n    }]);\n\n    return spineAnimation;\n}(Laya.Box);\n\n// miaomiao-idle\n// dawang-idle\n// houzi-idle\n// huli-idle\n\n\n// WEBPACK FOOTER //\n// Course/src/mainscene/animat/spineAnimation.js\n\n\nexports.default = spineAnimation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21haW5zY2VuZS9hbmltYXQvc3BpbmVBbmltYXRpb24uanM/ZDRhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOm+memqqOS6uueJqeWKqOeUu1xuICovXG5pbXBvcnQge2NyZWF0ZVNrZWxldG9ufSBmcm9tICcuLi8uLi9tb2R1bGUvY29tL2xheWEuY3VzdG9tJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc3BpbmVBbmltYXRpb24gZXh0ZW5kcyBMYXlhLkJveHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhKXtcbiAgICAgICAgc3VwZXIoKTsgIFxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhLk5hbWU7IC8v5YWD57SgaWRcbiAgICAgICAgdGhpcy5uaWNrTmFtZSA9IGRhdGEuTmlja05hbWU7IC8v5YWD57Sg5ZCN56ewXG4gICAgICAgIHRoaXMuQW5pbWF0aW9uID0gZGF0YS5BbmltYXRpb247IC8v5Yqo55S7ICBcbiAgICAgICAgdGhpcy5FdmVudExpc3QgPSBkYXRhLkV2ZW50TGlzdDsgIC8v5YWD57Sg5bim5Ye6ICBcbiAgICAgICAgdGhpcy5Qb3NpdGlvbiA9IGRhdGEuUG9zaXRpb247IC8v5L2N572uXG4gICAgICAgIHRoaXMuUm90YXRpb24gPSBkYXRhLlJvdGF0aW9uOyAvL+inkuW6plxuICAgICAgICB0aGlzLml0ZW1XaWR0aCA9IGRhdGEuV2lkdGg7IC8v5a69XG4gICAgICAgIHRoaXMuaXRlbUhlaWdodCA9IGRhdGEuSGVpZ2h0OyAvL+mrmFxuICAgICAgICB0aGlzLkltZ0lkID0gZGF0YS5JbWdJZDsgLy/lr7nlupTnmoTlm77niYdJRFxuICAgICAgICB0aGlzLlRhZ1R5cGUgPSBkYXRhLlRhZ1R5cGU7ICAvL+WFg+e0oOacrOi6q+S6i+S7tlxuICAgICAgICB0aGlzLlRhZyA9IGRhdGEuVGFnOyAvL+etlOahiOWMulxuICAgICAgICB0aGlzLmluZGV4ID0gZGF0YS5JbmRleDsgLy9pbmRleOWxnuaAp1xuICAgICAgICB0aGlzLkRyaXZlVHlwZSA9IGRhdGEuRHJpdmVUeXBlOyAvL+WHuuWcuuWxnuaAp1xuICAgICAgICB0aGlzLk1pcnJvclggPSBkYXRhLk1pcnJvclg7IC8v5bem5Y+z6ZWc5YOPXG4gICAgICAgIHRoaXMuTWlycm9yWSA9IGRhdGEuTWlycm9yWTsgLy/nq5bnm7TplZzlg49cbiAgICAgICAgdGhpcy5UcmFuc3BhcmVudCA9IGRhdGEuVHJhbnNwYXJlbnQgLyAxMDA7IC8v6YCP5piO5bqmIDEtMTAwXG4gICAgICAgIHRoaXMuTWVkaWFJZCA9IGRhdGEuTWVkaWFJZDsgLy/lhYPntKDop4bpopHpk77mjqVcbiAgICAgICAgdGhpcy5NZWRpYU1vZGUgPSBkYXRhLk1lZGlhTW9kZSAgLy/lhYPntKDlpJrlqpLkvZPlh7rnjrDnirbmgIFcbiAgICAgICAgdGhpcy5NZWRpYURlbGF5ID0gZGF0YS5NZWRpYURlbGF5O1xuICAgICAgICB0aGlzLk1lZGlhVXJsID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtc2NhbGVYID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtc2NhbGVZID0gbnVsbDsgICAgIFxuICAgICAgICB0aGlzLmFjdGlvbiA9IGRhdGEuRGVmYXVsdEFjdGlvbjsgIFxuICAgICAgICB0aGlzLkFuZ2xlR3JvdXAgPSBkYXRhLkFuZ2xlR3JvdXAgOy8v5peL6L2s6KeS5bqm57uEXG4gICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZSA9IGRhdGEuSXNTdHVkZW50c0ludmlzaWJsZTsgIC8v5piv5ZCm6ICB5biI5Y+v6KeBICAgXG4gICAgICAgIHRoaXMuYW5zd2VydGFnQXJyYXkgPSBbXTsgIC8v5a2Y5pS+562U5qGI5Yy655qE5qCH562+XG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXAgPSBudWxsO+OAgC8v5piv5ZCm5Zyo5YWD57Sg57uE5Lul5Y+KaW5kZXhcbiAgICAgICAgdGhpcy5zcGluQW5pID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7ICAgIFxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYWN0aW9uLFwi5oiR5piv6aqo6aq85Yqo55S7XCIpO1xuICAgICAgICAvLyB0aGlzLnNraW4gPSBcInJlcy9hbmltYXRlL2J1cy5wbmdcIjtcbiAgICAgICAgbGV0IFNvdXJjZSA9IEdNLkltYWdlTGlicmFyeVt0aGlzLkltZ0lkXTtcbiAgICAgICAgaWYoU291cmNlPT09dW5kZWZpbmVkKXJldHVybjtcbiAgICAgICAgbGV0IHNrcG5nID0gU291cmNlLlVybDtcbiAgICAgICAgbGV0IHNrdXJsID0gU291cmNlLmpzb25GaWxlVXJsO1xuICAgICAgICB0aGlzLnBvcyhOdW1iZXIodGhpcy5Qb3NpdGlvbi5zcGxpdCgnLCcpWzBdKSxOdW1iZXIodGhpcy5Qb3NpdGlvbi5zcGxpdCgnLCcpWzFdKSk7XG4gICAgICAgIHRoaXMuc2l6ZSh0aGlzLml0ZW1XaWR0aCx0aGlzLml0ZW1IZWlnaHQpOyAgXG4gICAgICAgIGlmKHRoaXMuVGFnVHlwZSA9PT0gNSl7XG4gICAgICAgICAgICB0aGlzLk1lZGlhTW9kZSA9IDE7XG4gICAgICAgIH0gIFxuICAgICAgXG4gICAgICAgIHRoaXMuYW5jaG9yWCA9IDAuNTsgdGhpcy5hbmNob3JZID0gMC41O1xuICAgICAgICB0aGlzLnBvcyh0aGlzLnggKyB0aGlzLndpZHRoLzIgLCB0aGlzLnkgKyB0aGlzLmhlaWdodC8yKTtcbiAgICAgICAgaWYodGhpcy5Sb3RhdGlvbil7XG4gICAgICAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuUm90YXRpb247XG4gICAgICAgIH0gICBcbiAgICAgICBcbiAgICAgICAgaWYodGhpcy5NaXJyb3JZICYmIHRoaXMuTWlycm9yWCl7XG4gICAgICAgICAgICB0aGlzLnNrZXcodGhpcy5NaXJyb3JZID09IC0xID8gMTgwIDogMCx0aGlzLk1pcnJvclggPT0gLTEgPyAxODAgOiAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLlRyYW5zcGFyZW50KXtcbiAgICAgICAgICAgICB0aGlzLmFscGhhID0gdGhpcy5UcmFuc3BhcmVudDtcbiAgICAgICAgfSAgICAgXG4gICAgICAgIGxldCBza2JveCA9IG5ldyBMYXlhLkJveCgpO1xuICAgICAgICBza2JveC5uYW1lID0gXCJzcGluZWFuaVwiXG4gICAgICAgIHNrYm94LnNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCk7XG4gICAgICAgIHRoaXMuaXRlbXNjYWxlWCA9IHRoaXMuaXRlbVdpZHRoL1NvdXJjZS53aWR0aDtcbiAgICAgICAgdGhpcy5pdGVtc2NhbGVZID0gdGhpcy5pdGVtSGVpZ2h0L1NvdXJjZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMuc2NhbGUodGhpcy5pdGVtc2NhbGVYLHRoaXMuaXRlbXNjYWxlWSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoc2tib3gpOyAgIFxuICAgICAgICBpZihza3VybCAmJiBza3BuZyl7XG4gICAgICAgICAgICAgbGV0IHJlcyA9IFtcbiAgICAgICAgICAgICAgICB7dXJsOiBza3BuZyx0eXBlOiBMYXlhLkxvYWRlci5JTUFHRX0sXG4gICAgICAgICAgICAgICAge3VybDogc2t1cmwsdHlwZTogTGF5YS5Mb2FkZXIuQlVGRkVSfVxuICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHJlcywgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHNwaW5BbmkgPSBuZXcgY3JlYXRlU2tlbGV0b24oc2t1cmwsbnVsbCxudWxsLHNrcG5nKTsgICBcbiAgICAgICAgICAgICAgICB0aGlzLnNwaW5BbmkgPSBzcGluQW5pO1xuICAgICAgICAgICAgICAgIHNwaW5BbmkucG9zKHNrYm94LndpZHRoLzIsc2tib3guaGVpZ2h0LzIpO1xuICAgICAgICAgICAgICAgIHNwaW5BbmkucGxheSh0aGlzLmFjdGlvbix0cnVlKTtcbiAgICAgICAgICAgICAgICBza2JveC5hZGRDaGlsZChzcGluQW5pKTsgICBcbiAgICAgICAgICAgIH0pLG51bGwsZmFsc2UpOyAgXG4gICAgICAgIH0gICAgIFxuICAgICAgIFxuICAgIH1cblxuICAgIHBsYXlhbmRTdG9wKHR5cGUpe1xuICAgICAgICBpZih0eXBlID09PSAwKXtcbiAgICAgICAgICAgIHRoaXMuc3BpbkFuaS5wbGF5KHRoaXMuYWN0aW9uLHRydWUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuc3BpbkFuaS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIC8v5YiH5o2i5Yqo55S7XG4gICAgY2hhbmdlUGxheXN0eWxlKEFjdGlvbil7XG4gICAgICAgICB0aGlzLnNwaW5BbmkucGxheShBY3Rpb24sdHJ1ZSk7XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpe1xuICAgICAgICB0aGlzLm5hbWUgPSBudWxsOyAvL+WFg+e0oGlkXG4gICAgICAgIHRoaXMubmlja05hbWUgPSBudWxsOyAvL+WFg+e0oOWQjeensFxuICAgICAgICB0aGlzLkFuaW1hdGlvbiA9IG51bGw7IC8v5Yqo55S7ICBcbiAgICAgICAgdGhpcy5FdmVudExpc3QgPSBudWxsOyAgLy/lhYPntKDluKblh7ogIFxuICAgICAgICB0aGlzLlBvc2l0aW9uID0gbnVsbDsgLy/kvY3nva5cbiAgICAgICAgdGhpcy5Sb3RhdGlvbiA9IG51bGw7IC8v6KeS5bqmXG4gICAgICAgIHRoaXMuaXRlbVdpZHRoID0gbnVsbDsgLy/lrr1cbiAgICAgICAgdGhpcy5pdGVtSGVpZ2h0ID0gbnVsbDsgLy/pq5hcbiAgICAgICAgdGhpcy5JbWdJZCA9IG51bGw7IC8v5a+55bqU55qE5Zu+54mHSURcbiAgICAgICAgdGhpcy5UYWdUeXBlID0gbnVsbDsgIC8v5YWD57Sg5pys6Lqr5LqL5Lu2XG4gICAgICAgIHRoaXMuVGFnID0gbnVsbDsgLy/nrZTmoYjljLpcbiAgICAgICAgdGhpcy5pbmRleCA9IG51bGw7IC8vaW5kZXjlsZ7mgKdcbiAgICAgICAgdGhpcy5Ecml2ZVR5cGUgPSBudWxsOyAvL+WHuuWcuuWxnuaAp1xuICAgICAgICB0aGlzLk1pcnJvclggPSBudWxsOyAvL+W3puWPs+mVnOWDj1xuICAgICAgICB0aGlzLk1pcnJvclkgPSBudWxsOyAvL+erluebtOmVnOWDj1xuICAgICAgICB0aGlzLlRyYW5zcGFyZW50ID0gbnVsbDsgLy/pgI/mmI7luqYgMS0xMDBcbiAgICAgICAgdGhpcy5NZWRpYUlkID0gbnVsbDsgLy/lhYPntKDop4bpopHpk77mjqVcbiAgICAgICAgdGhpcy5NZWRpYU1vZGUgPSBudWxsOyAgLy/lhYPntKDlpJrlqpLkvZPlh7rnjrDnirbmgIFcbiAgICAgICAgdGhpcy5NZWRpYURlbGF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5NZWRpYVVybCA9IG51bGw7XG4gICAgICAgIHRoaXMuaXRlbXNjYWxlWCA9IG51bGw7XG4gICAgICAgIHRoaXMuaXRlbXNjYWxlWSA9IG51bGw7ICAgIFxuICAgICAgICB0aGlzLkFuZ2xlR3JvdXAgPSBudWxsOy8v5peL6L2s6KeS5bqm57uEXG4gICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZSA9IG51bGw7ICAvL+aYr+WQpuiAgeW4iOWPr+ingVxuICAgICAgXG4gICAgICAgIHRoaXMuYW5zd2VydGFnQXJyYXkgPSBbXTsgIC8v5a2Y5pS+562U5qGI5Yy655qE5qCH562+XG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXAgPSBudWxsO+OAgC8v5piv5ZCm5Zyo5YWD57Sg57uE5Lul5Y+KaW5kZXggIFxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgXG5cbiAgIFxuICAgXG59XG5cbi8vIG1pYW9taWFvLWlkbGVcbi8vIGRhd2FuZy1pZGxlXG4vLyBob3V6aS1pZGxlXG4vLyBodWxpLWlkbGVcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9hbmltYXQvc3BpbmVBbmltYXRpb24uanNcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvYW5pbWF0L3NwaW5lQW5pbWF0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBO0FBQ0E7Ozs7O0FBSkE7Ozs7O0FBS0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvQkE7QUFnQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBN0hBO0FBQ0E7QUFtSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUE5SUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/* no static exports found */
/* all exports used */
/*!***********************************************!*\
  !*** ./Course/src/mainscene/element/label.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * label  文本\n */\n\nvar label = function (_Laya$Label) {\n    _inherits(label, _Laya$Label);\n\n    function label(data) {\n        _classCallCheck(this, label);\n\n        var _this = _possibleConstructorReturn(this, (label.__proto__ || Object.getPrototypeOf(label)).call(this));\n\n        _this.url = null; //元素路径\n        _this.name = data.Name; //元素id\n        _this.nickName = data.NickName; //元素名称  \n        _this.Animation = data.Animation; //动画\n        _this.Position = data.Position; //位置\n        _this.Rotation = data.Rotation; //角度\n        _this.EventList = data.EventList; //元素带出\n        _this.itemWidth = data.Width; //宽\n        _this.itemHeight = data.Height; //高\n        _this.ImgId = data.ImgId; //对应的图片ID\n        _this.TagType = data.TagType; //元素本身事件\n        _this.Tag = data.Tag; //答案区\n        _this.index = data.Index; //元素索引\n        _this.DriveType = data.DriveType; //元素事件机制\n        _this.DefText = data.DefText; //文字\n        _this.MirrorX = data.MirrorX; //左右镜像\n        _this.MirrorY = data.MirrorY; //竖直镜像\n        _this.Transparent = data.Transparent / 100; //透明度 1-100\n        _this.MediaId = data.MediaId; //元素视频链接\n        _this.MediaMode = data.MediaMode; //元素多媒体出现状态\n        _this.MediaDelay = data.MediaDelay;\n        _this.MediaUrl = null;\n        _this.AngleGroup = data.AngleGroup; //旋转角度组\n        _this.IsStudentsInvisible = data.IsStudentsInvisible; //是否老师可见\n        _this.answertagArray = []; //存放答案区的标签\n        _this.isElementGroup = null; //是否在元素组以及index\n        _this.isElementSame = null; //有其他相同的       \n        _this.child = null;\n        _this.init();\n        return _this;\n    }\n    //初始化图片和位置并且绑定相应的事件\n\n\n    _createClass(label, [{\n        key: 'init',\n        value: function init() {\n            this.pos(Number(this.Position.split(',')[0]), Number(this.Position.split(',')[1]));\n            this.size(this.itemWidth, this.itemHeight);\n            this.anchorX = 0.5;this.anchorY = 0.5;\n            this.pos(this.x + this.width / 2, this.y + this.height / 2);\n            if (this.Rotation) {\n                this.rotation = this.Rotation;\n            }\n\n            if (this.MirrorY && this.MirrorX) {\n                this.skew(this.MirrorY == -1 ? 180 : 0, this.MirrorX == -1 ? 180 : 0);\n            }\n            if (this.Transparent) {\n                this.alpha = this.Transparent;\n            }\n\n            this.mouseEnabled = true;\n            this.wordWrap = true;\n            this.text = this.DefText.Text;\n            this.bold = this.DefText.IsBold;\n            this.italic = this.DefText.Italic;\n\n            //下划线位置修改 在 laya.core.js   17434行\n            this.underline = this.DefText.UnderLine;\n            var alistr = \"left\";\n\n            //0 左  1中 2右\n            if (this.DefText.Alignment === 1) {\n                alistr = \"center\";\n            } else if (this.DefText.Alignment === 2) {\n                alistr = \"right\";\n            }\n            this.align = alistr;\n\n            //颜色和透明度\n            if (this.DefText.Color === \"#000000\") {\n                this.color = this.DefText.Color;\n            } else {\n                var rgb = this.DefText.Color.substring(3);\n                rgb = \"#\" + rgb;\n                this.color = rgb;\n                var alp = this.DefText.Color.substring(1, 3);\n                alp = parseInt(alp, 16);\n                alp = alp / 255;\n                this.alpha = alp;\n            }\n            if (this.DefText.Fonts === \"微软雅黑\") {\n                // this.font = \"Microsoft YaHei\";\n                this.font = \"Arial\";\n            }\n            this.padding = \"9,5,5,5\";\n            this.fontSize = this.DefText.FtSize;\n            console.log(this.fontSize);\n            this.leading = 10;\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            this.name = null; //元素id\n            this.nickName = null; //元素名称\n            this.Animation = null; //动画  \n            this.EventList = null; //元素带出  \n            this.Position = null; //位置\n            this.Rotation = null; //角度\n            this.itemWidth = null; //宽\n            this.itemHeight = null; //高\n            this.ImgId = null; //对应的图片ID\n            this.TagType = null; //元素本身事件\n            this.Tag = null; //答案区\n            this.index = null; //index属性\n            this.DriveType = null; //出场属性\n            this.MirrorX = null; //左右镜像\n            this.MirrorY = null; //竖直镜像\n            this.Transparent = null; //透明度 1-100\n            this.MediaId = null; //元素视频链接\n            this.MediaMode = null; //元素多媒体出现状态\n            this.MediaDelay = null;\n            this.MediaUrl = null;\n            this.Source = null; //数组内的对象\n            this.AngleGroup = null; //旋转角度组\n            this.IsStudentsInvisible = null; //是否老师可见    \n            this.answertagArray = []; //存放答案区的标签\n            this.isElementGroup = null; //是否在元素组以及index \n            this.destroy();\n        }\n    }]);\n\n    return label;\n}(Laya.Label);\n\nexports.default = label;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21haW5zY2VuZS9lbGVtZW50L2xhYmVsLmpzP2E0MWYiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIGxhYmVsICDmlofmnKxcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBsYWJlbCBleHRlbmRzIExheWEuTGFiZWx7XG4gICAgY29uc3RydWN0b3IoZGF0YSl7XG4gICAgICAgIHN1cGVyKCk7ICAgICBcbiAgICAgICAgdGhpcy51cmwgPSBudWxsOyAgLy/lhYPntKDot6/lvoRcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YS5OYW1lOyAvL+WFg+e0oGlkXG4gICAgICAgIHRoaXMubmlja05hbWU9IGRhdGEuTmlja05hbWUgLy/lhYPntKDlkI3np7AgIFxuICAgICAgICB0aGlzLkFuaW1hdGlvbiA9IGRhdGEuQW5pbWF0aW9uOyAvL+WKqOeUu1xuICAgICAgICB0aGlzLlBvc2l0aW9uID0gZGF0YS5Qb3NpdGlvbjsgLy/kvY3nva5cbiAgICAgICAgdGhpcy5Sb3RhdGlvbiA9IGRhdGEuUm90YXRpb247IC8v6KeS5bqmXG4gICAgICAgIHRoaXMuRXZlbnRMaXN0ID0gZGF0YS5FdmVudExpc3Q7ICAvL+WFg+e0oOW4puWHulxuICAgICAgICB0aGlzLml0ZW1XaWR0aCA9IGRhdGEuV2lkdGg7IC8v5a69XG4gICAgICAgIHRoaXMuaXRlbUhlaWdodCA9IGRhdGEuSGVpZ2h0OyAvL+mrmFxuICAgICAgICB0aGlzLkltZ0lkID0gZGF0YS5JbWdJZDsgLy/lr7nlupTnmoTlm77niYdJRFxuICAgICAgICB0aGlzLlRhZ1R5cGUgPSBkYXRhLlRhZ1R5cGU7ICAvL+WFg+e0oOacrOi6q+S6i+S7tlxuICAgICAgICB0aGlzLlRhZyA9IGRhdGEuVGFnOyAgLy/nrZTmoYjljLpcbiAgICAgICAgdGhpcy5pbmRleCA9IGRhdGEuSW5kZXg7ICAvL+WFg+e0oOe0ouW8lVxuICAgICAgICB0aGlzLkRyaXZlVHlwZSA9IGRhdGEuRHJpdmVUeXBlOyAvL+WFg+e0oOS6i+S7tuacuuWItlxuICAgICAgICB0aGlzLkRlZlRleHQgPSBkYXRhLkRlZlRleHQ7IC8v5paH5a2XXG4gICAgICAgIHRoaXMuTWlycm9yWCA9IGRhdGEuTWlycm9yWDsgLy/lt6blj7PplZzlg49cbiAgICAgICAgdGhpcy5NaXJyb3JZID0gZGF0YS5NaXJyb3JZOyAvL+erluebtOmVnOWDj1xuICAgICAgICB0aGlzLlRyYW5zcGFyZW50ID0gZGF0YS5UcmFuc3BhcmVudCAvIDEwMDsgLy/pgI/mmI7luqYgMS0xMDBcbiAgICAgICAgdGhpcy5NZWRpYUlkID0gZGF0YS5NZWRpYUlkOyAvL+WFg+e0oOinhumikemTvuaOpVxuICAgICAgICB0aGlzLk1lZGlhTW9kZSA9IGRhdGEuTWVkaWFNb2RlICAvL+WFg+e0oOWkmuWqkuS9k+WHuueOsOeKtuaAgVxuICAgICAgICB0aGlzLk1lZGlhRGVsYXkgPSBkYXRhLk1lZGlhRGVsYXk7XG4gICAgICAgIHRoaXMuTWVkaWFVcmwgPSBudWxsO1xuICAgICAgICB0aGlzLkFuZ2xlR3JvdXAgPSBkYXRhLkFuZ2xlR3JvdXAgOy8v5peL6L2s6KeS5bqm57uEXG4gICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZSA9IGRhdGEuSXNTdHVkZW50c0ludmlzaWJsZTsgIC8v5piv5ZCm6ICB5biI5Y+v6KeBXG4gICAgICAgIHRoaXMuYW5zd2VydGFnQXJyYXkgPSBbXTsgIC8v5a2Y5pS+562U5qGI5Yy655qE5qCH562+XG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXAgPSBudWxsO+OAgC8v5piv5ZCm5Zyo5YWD57Sg57uE5Lul5Y+KaW5kZXhcbiAgICAgICAgdGhpcy5pc0VsZW1lbnRTYW1lID0gbnVsbDsgIC8v5pyJ5YW25LuW55u45ZCM55qEICAgICAgIFxuICAgICAgICB0aGlzLmNoaWxkID0gbnVsbDsgICAgXG4gICAgICAgIHRoaXMuaW5pdCgpOyAgXG4gICAgfVxuICAgIC8v5Yid5aeL5YyW5Zu+54mH5ZKM5L2N572u5bm25LiU57uR5a6a55u45bqU55qE5LqL5Lu2XG4gICAgaW5pdCgpeyAgICAgICAgICAgICAgIFxuICAgICAgICB0aGlzLnBvcyhOdW1iZXIodGhpcy5Qb3NpdGlvbi5zcGxpdCgnLCcpWzBdKSxOdW1iZXIodGhpcy5Qb3NpdGlvbi5zcGxpdCgnLCcpWzFdKSk7XG4gICAgICAgIHRoaXMuc2l6ZSh0aGlzLml0ZW1XaWR0aCx0aGlzLml0ZW1IZWlnaHQgKTsgIFxuICAgICAgICB0aGlzLmFuY2hvclggPSAwLjU7IHRoaXMuYW5jaG9yWSA9IDAuNTtcbiAgICAgICAgdGhpcy5wb3ModGhpcy54ICsgdGhpcy53aWR0aC8yICwgdGhpcy55ICsgdGhpcy5oZWlnaHQvMik7XG4gICAgICAgIGlmKHRoaXMuUm90YXRpb24pe1xuICAgICAgICAgICAgIHRoaXMucm90YXRpb24gPSB0aGlzLlJvdGF0aW9uO1xuICAgICAgICB9ICAgXG4gICAgICAgXG4gICAgICAgIGlmKHRoaXMuTWlycm9yWSAmJiB0aGlzLk1pcnJvclgpe1xuICAgICAgICAgICAgdGhpcy5za2V3KHRoaXMuTWlycm9yWSA9PSAtMSA/IDE4MCA6IDAsdGhpcy5NaXJyb3JYID09IC0xID8gMTgwIDogMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5UcmFuc3BhcmVudCl7XG4gICAgICAgICAgICAgdGhpcy5hbHBoYSA9IHRoaXMuVHJhbnNwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdXNlRW5hYmxlZCA9IHRydWU7ICAgIFxuICAgICAgICB0aGlzLndvcmRXcmFwID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy5EZWZUZXh0LlRleHQ7XG4gICAgICAgIHRoaXMuYm9sZCA9IHRoaXMuRGVmVGV4dC5Jc0JvbGQ7XG4gICAgICAgIHRoaXMuaXRhbGljID0gdGhpcy5EZWZUZXh0Lkl0YWxpYztcblxuICAgICAgICAvL+S4i+WIkue6v+S9jee9ruS/ruaUuSDlnKggbGF5YS5jb3JlLmpzICAgMTc0MzTooYxcbiAgICAgICAgdGhpcy51bmRlcmxpbmUgPSB0aGlzLkRlZlRleHQuVW5kZXJMaW5lO1xuICAgICAgICBsZXQgYWxpc3RyID0gXCJsZWZ0XCI7XG5cbiAgICAgICAgLy8wIOW3piAgMeS4rSAy5Y+zXG4gICAgICAgIGlmKHRoaXMuRGVmVGV4dC5BbGlnbm1lbnQgPT09MSlcbiAgICAgICAge1xuICAgICAgICAgICAgYWxpc3RyID0gXCJjZW50ZXJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHRoaXMuRGVmVGV4dC5BbGlnbm1lbnQgPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFsaXN0ciA9IFwicmlnaHRcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFsaWduID0gYWxpc3RyO1xuXG4gICAgICAgIC8v6aKc6Imy5ZKM6YCP5piO5bqmXG4gICAgICAgIGlmKHRoaXMuRGVmVGV4dC5Db2xvciA9PT0gXCIjMDAwMDAwXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSB0aGlzLkRlZlRleHQuQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGxldCByZ2IgPSB0aGlzLkRlZlRleHQuQ29sb3Iuc3Vic3RyaW5nKDMpO1xuICAgICAgICAgICAgcmdiID0gXCIjXCIgKyByZ2I7XG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gcmdiO1xuICAgICAgICAgICAgbGV0IGFscCA9IHRoaXMuRGVmVGV4dC5Db2xvci5zdWJzdHJpbmcoMSwzKTtcbiAgICAgICAgICAgIGFscCA9IHBhcnNlSW50KGFscCwxNik7XG4gICAgICAgICAgICBhbHAgPSBhbHAgLyAyNTU7ICAgICAgXG4gICAgICAgICAgICB0aGlzLmFscGhhID0gYWxwO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuRGVmVGV4dC5Gb250cyA9PT0gXCLlvq7ova/pm4Xpu5FcIil7XG4gICAgICAgICAgICAvLyB0aGlzLmZvbnQgPSBcIk1pY3Jvc29mdCBZYUhlaVwiO1xuICAgICAgICAgICAgIHRoaXMuZm9udCA9IFwiQXJpYWxcIjsgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWRkaW5nID0gXCI5LDUsNSw1XCI7XG4gICAgICAgIHRoaXMuZm9udFNpemUgPSB0aGlzLkRlZlRleHQuRnRTaXplO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvbnRTaXplKTtcbiAgICAgICAgdGhpcy5sZWFkaW5nID0gMTA7XG5cbiAgICB9XG4gICAgZGlzcG9zZSgpe1xuICAgICAgICB0aGlzLm5hbWUgPSBudWxsOyAvL+WFg+e0oGlkXG4gICAgICAgIHRoaXMubmlja05hbWUgPSBudWxsOyAvL+WFg+e0oOWQjeensFxuICAgICAgICB0aGlzLkFuaW1hdGlvbiA9IG51bGw7IC8v5Yqo55S7ICBcbiAgICAgICAgdGhpcy5FdmVudExpc3QgPSBudWxsOyAgLy/lhYPntKDluKblh7ogIFxuICAgICAgICB0aGlzLlBvc2l0aW9uID0gbnVsbDsgLy/kvY3nva5cbiAgICAgICAgdGhpcy5Sb3RhdGlvbiA9IG51bGw7IC8v6KeS5bqmXG4gICAgICAgIHRoaXMuaXRlbVdpZHRoID0gbnVsbDsgLy/lrr1cbiAgICAgICAgdGhpcy5pdGVtSGVpZ2h0ID0gbnVsbDsgLy/pq5hcbiAgICAgICAgdGhpcy5JbWdJZCA9IG51bGw7IC8v5a+55bqU55qE5Zu+54mHSURcbiAgICAgICAgdGhpcy5UYWdUeXBlID0gbnVsbDsgIC8v5YWD57Sg5pys6Lqr5LqL5Lu2XG4gICAgICAgIHRoaXMuVGFnID0gbnVsbDsgLy/nrZTmoYjljLpcbiAgICAgICAgdGhpcy5pbmRleCA9IG51bGw7IC8vaW5kZXjlsZ7mgKdcbiAgICAgICAgdGhpcy5Ecml2ZVR5cGUgPSBudWxsOyAvL+WHuuWcuuWxnuaAp1xuICAgICAgICB0aGlzLk1pcnJvclggPSBudWxsOyAvL+W3puWPs+mVnOWDj1xuICAgICAgICB0aGlzLk1pcnJvclkgPSBudWxsOyAvL+erluebtOmVnOWDj1xuICAgICAgICB0aGlzLlRyYW5zcGFyZW50ID0gbnVsbDsgLy/pgI/mmI7luqYgMS0xMDBcbiAgICAgICAgdGhpcy5NZWRpYUlkID0gbnVsbDsgLy/lhYPntKDop4bpopHpk77mjqVcbiAgICAgICAgdGhpcy5NZWRpYU1vZGUgPSBudWxsOyAgLy/lhYPntKDlpJrlqpLkvZPlh7rnjrDnirbmgIFcbiAgICAgICAgdGhpcy5NZWRpYURlbGF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5NZWRpYVVybCA9IG51bGw7IFxuICAgICAgICB0aGlzLlNvdXJjZSA9IG51bGw7Ly/mlbDnu4TlhoXnmoTlr7nosaFcbiAgICAgICAgdGhpcy5BbmdsZUdyb3VwID0gbnVsbDsvL+aXi+i9rOinkuW6pue7hFxuICAgICAgICB0aGlzLklzU3R1ZGVudHNJbnZpc2libGUgPSBudWxsOyAgLy/mmK/lkKbogIHluIjlj6/op4EgICAgXG4gICAgICAgIHRoaXMuYW5zd2VydGFnQXJyYXkgPSBbXTsgIC8v5a2Y5pS+562U5qGI5Yy655qE5qCH562+XG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXAgPSBudWxsO+OAgC8v5piv5ZCm5Zyo5YWD57Sg57uE5Lul5Y+KaW5kZXggXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH1cbiAgICBcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9lbGVtZW50L2xhYmVsLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUNBOzs7O0FBSUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOUJBO0FBK0JBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUExSEE7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./Course/src/mainscene/element/picture.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _laya = __webpack_require__(/*! ../../module/com/laya.custom */ 2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\n * picture 图片元素\n */\n\n\nvar Picture = function (_Laya$Image) {\n    _inherits(Picture, _Laya$Image);\n\n    function Picture(data) {\n        _classCallCheck(this, Picture);\n\n        var _this = _possibleConstructorReturn(this, (Picture.__proto__ || Object.getPrototypeOf(Picture)).call(this));\n\n        _this.url = null; //元素skin\n        _this.name = data.Name; //元素id\n        _this.nickName = data.NickName; //元素名称\n        _this.Animation = data.Animation; //动画\n        _this.Position = data.Position; //位置\n        _this.Rotation = data.Rotation; //角度\n        _this.EventList = data.EventList; //元素带出\n        _this.itemWidth = data.Width; //宽\n        _this.itemHeight = data.Height; //高\n        _this.ImgId = data.ImgId; //对应的图片ID\n        _this.TagType = data.TagType; //元素本身事件\n        _this.Tag = data.Tag; //答案区\n        _this.index = data.Index; //index属性\n        _this.DriveType = data.DriveType; //出场属性\n        _this.DefText = data.DefText; //文字\n        _this.MirrorX = data.MirrorX; //左右镜像\n        _this.MirrorY = data.MirrorY; //竖直镜像\n        _this.Transparent = data.Transparent / 100; //透明度 1-100\n        _this.MediaId = data.MediaId; //元素视频链接\n        _this.MediaMode = data.MediaMode; //元素多媒体出现状态\n        _this.MediaDelay = data.MediaDelay; //元素播放音乐延迟时间\n        _this.MediaUrl = null;\n        // this.spec = null; //特效\n        _this.AngleGroup = data.AngleGroup; //旋转角度组\n        _this.IsStudentsInvisible = data.IsStudentsInvisible; //是否老师可见\n        _this.answertagArray = []; //存放答案区的标签\n        _this.isElementGroup = null; //是否在元素组以及index\n        _this.child = null;\n        _this.init();\n        return _this;\n    }\n\n    _createClass(Picture, [{\n        key: 'init',\n        value: function init() {\n            //将this.ImgId对应传过来的资源路径               \n            this.url = GM.ImageLibrary[this.ImgId].Url;\n            console.log(this.url);\n            if (GM.ImageLibrary[this.MediaId]) {\n                this.MediaUrl = GM.ImageLibrary[this.MediaId].Url;\n            }\n            this.creatElement();\n        }\n    }, {\n        key: 'creatElement',\n        value: function creatElement() {\n            //图片的位置大小角度\n            this.skin = this.url;\n            //  console.log(\"图片的初始位置\",this.width,this.height);\n            this.mouseEnabled = true;\n            this.pos(Number(this.Position.split(',')[0]), Number(this.Position.split(',')[1]));\n            this.size(this.itemWidth, this.itemHeight);\n            //  console.log(\"图片的位置大小\",this.width,this.height);\n            this.anchorX = 0.5;this.anchorY = 0.5;\n            this.pos(this.x + this.width / 2, this.y + this.height / 2);\n            if (this.Rotation) {\n                this.rotation = this.Rotation;\n            }\n\n            if (this.MirrorY && this.MirrorX) {\n                this.skew(this.MirrorY == -1 ? 180 : 0, this.MirrorX == -1 ? 180 : 0);\n            }\n            if (this.Transparent) {\n                this.alpha = this.Transparent;\n            }\n        }\n\n        // //给元素添加特殊动效\n        // addelementSpecial(){    \n        //     this.spec = new createSkeleton(\"res/animate/figerChange\");\n        //     this.addChild(this.spec);\n        //     this.spec.visible = false;\n        //     this.spec.play(0,true);\n        //     this.spec.pos(this.width/2,this.height/2);\n        // }\n\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            this.name = null; //元素id\n            this.nickName = null; //元素名称\n            this.Animation = null; //动画  \n            this.EventList = null; //元素带出  \n            this.Position = null; //位置\n            this.Rotation = null; //角度\n            this.itemWidth = null; //宽\n            this.itemHeight = null; //高\n            this.ImgId = null; //对应的图片ID\n            this.TagType = null; //元素本身事件\n            this.Tag = null; //答案区\n            this.index = null; //index属性\n            this.DriveType = null; //出场属性\n            this.MirrorX = null; //左右镜像\n            this.MirrorY = null; //竖直镜像\n            this.Transparent = null; //透明度 1-100\n            this.MediaId = null; //元素视频链接\n            this.MediaMode = null; //元素多媒体出现状态\n            this.MediaDelay = null;\n            this.MediaUrl = null;\n            this.Source = null; //数组内的对象\n            this.AngleGroup = null; //旋转角度组\n            this.IsStudentsInvisible = null; //是否老师可见    \n            this.answertagArray = []; //存放答案区的标签\n            this.isElementGroup = null; //是否在元素组以及index \n            this.destroy();\n        }\n    }]);\n\n    return Picture;\n}(Laya.Image);\n\n// HasAutoPrompt  提示音 默认不播放  false\n// \"Prompt\": \"5b028bb673235a2120d52468\",  提示音\n// \"TeacherVideo\": null,   讲师视频\n// \"CourseVideo\": \"5b4ef545f6aa61475f78744b\",  课件视频\n// \"HasOpAnimationAudio\": true,  过场动画是否播放默认是false\n// 元素\n// \"MediaId\": null,\n// \"MirrorX\": 1, 水平反转\n// \"MirrorY\": 1,垂直反转\n// \"MediaMode\": 0,     0点击  1出场 2  出场点击并存\n// \"MediaDelay\": 0.0,  视频延迟播放\n// \"Transparent\": 100  透明度 0 -1 \n// this.canvas = Laya.Render.canvas;\n// this.context = this.canvas.getContext('2d');\n// var my_gradient = this.context.createLinearGradient(0,0,0,1136); //创建一个线性渐变\n// my_gradient.addColorStop(0,\"#FF0000\");\n// my_gradient.addColorStop(1,\"#0000FF\");\n// let sprite = new Laya.Sprite();\n// Laya.stage.addChild(sprite);\n// sprite.graphics.drawRect(0,0,640,1136,my_gradient);\n\n\nexports.default = Picture;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21haW5zY2VuZS9lbGVtZW50L3BpY3R1cmUuanM/MWNmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogcGljdHVyZSDlm77niYflhYPntKBcbiAqL1xuaW1wb3J0IHsgY3JlYXRlU2tlbGV0b24gfSBmcm9tICcuLi8uLi9tb2R1bGUvY29tL2xheWEuY3VzdG9tJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaWN0dXJlIGV4dGVuZHMgTGF5YS5JbWFnZXtcbiAgICBjb25zdHJ1Y3RvcihkYXRhKXtcbiAgICAgICAgc3VwZXIoKTsgICAgIFxuICAgICAgICB0aGlzLnVybCA9IG51bGw7IC8v5YWD57Sgc2tpblxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhLk5hbWU7IC8v5YWD57SgaWRcbiAgICAgICAgdGhpcy5uaWNrTmFtZT0gZGF0YS5OaWNrTmFtZSAvL+WFg+e0oOWQjeensFxuICAgICAgICB0aGlzLkFuaW1hdGlvbiA9IGRhdGEuQW5pbWF0aW9uOyAvL+WKqOeUu1xuICAgICAgICB0aGlzLlBvc2l0aW9uID0gZGF0YS5Qb3NpdGlvbjsgLy/kvY3nva5cbiAgICAgICAgdGhpcy5Sb3RhdGlvbiA9IGRhdGEuUm90YXRpb247IC8v6KeS5bqmXG4gICAgICAgIHRoaXMuRXZlbnRMaXN0ID0gZGF0YS5FdmVudExpc3Q7ICAvL+WFg+e0oOW4puWHulxuICAgICAgICB0aGlzLml0ZW1XaWR0aCA9IGRhdGEuV2lkdGg7IC8v5a69XG4gICAgICAgIHRoaXMuaXRlbUhlaWdodCA9IGRhdGEuSGVpZ2h0OyAvL+mrmFxuICAgICAgICB0aGlzLkltZ0lkID0gZGF0YS5JbWdJZDsgLy/lr7nlupTnmoTlm77niYdJRFxuICAgICAgICB0aGlzLlRhZ1R5cGUgPSBkYXRhLlRhZ1R5cGU7ICAvL+WFg+e0oOacrOi6q+S6i+S7tlxuICAgICAgICB0aGlzLlRhZyA9IGRhdGEuVGFnOyAvL+etlOahiOWMulxuICAgICAgICB0aGlzLmluZGV4ID0gZGF0YS5JbmRleDsgLy9pbmRleOWxnuaAp1xuICAgICAgICB0aGlzLkRyaXZlVHlwZSA9IGRhdGEuRHJpdmVUeXBlOyAvL+WHuuWcuuWxnuaAp1xuICAgICAgICB0aGlzLkRlZlRleHQgPSBkYXRhLkRlZlRleHQ7IC8v5paH5a2XXG4gICAgICAgIHRoaXMuTWlycm9yWCA9IGRhdGEuTWlycm9yWDsgLy/lt6blj7PplZzlg49cbiAgICAgICAgdGhpcy5NaXJyb3JZID0gZGF0YS5NaXJyb3JZOyAvL+erluebtOmVnOWDj1xuICAgICAgICB0aGlzLlRyYW5zcGFyZW50ID0gZGF0YS5UcmFuc3BhcmVudCAvIDEwMDsgLy/pgI/mmI7luqYgMS0xMDBcbiAgICAgICAgdGhpcy5NZWRpYUlkID0gZGF0YS5NZWRpYUlkOyAvL+WFg+e0oOinhumikemTvuaOpVxuICAgICAgICB0aGlzLk1lZGlhTW9kZSA9IGRhdGEuTWVkaWFNb2RlICAvL+WFg+e0oOWkmuWqkuS9k+WHuueOsOeKtuaAgVxuICAgICAgICB0aGlzLk1lZGlhRGVsYXkgPSBkYXRhLk1lZGlhRGVsYXkgIC8v5YWD57Sg5pKt5pS+6Z+z5LmQ5bu26L+f5pe26Ze0XG4gICAgICAgIHRoaXMuTWVkaWFVcmwgPSBudWxsO1xuICAgICAgICAvLyB0aGlzLnNwZWMgPSBudWxsOyAvL+eJueaViFxuICAgICAgICB0aGlzLkFuZ2xlR3JvdXAgPSBkYXRhLkFuZ2xlR3JvdXAgOy8v5peL6L2s6KeS5bqm57uEXG4gICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZSA9IGRhdGEuSXNTdHVkZW50c0ludmlzaWJsZTsgIC8v5piv5ZCm6ICB5biI5Y+v6KeBXG4gICAgICAgIHRoaXMuYW5zd2VydGFnQXJyYXkgPSBbXTsgIC8v5a2Y5pS+562U5qGI5Yy655qE5qCH562+XG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXAgPSBudWxsO+OAgC8v5piv5ZCm5Zyo5YWD57Sg57uE5Lul5Y+KaW5kZXhcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7ICAgIFxuICAgICAgICB0aGlzLmluaXQoKTsgIFxuICAgIH1cbiAgIFxuICAgIGluaXQoKXsgICAgICAgXG4gICAgICAgICAvL+WwhnRoaXMuSW1nSWTlr7nlupTkvKDov4fmnaXnmoTotYTmupDot6/lvoQgICAgICAgICAgICAgICBcbiAgICAgICAgIHRoaXMudXJsID0gR00uSW1hZ2VMaWJyYXJ5W3RoaXMuSW1nSWRdLlVybDtcbiAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXJsKTtcbiAgICAgICAgIGlmKEdNLkltYWdlTGlicmFyeVt0aGlzLk1lZGlhSWRdKXtcbiAgICAgICAgICAgICB0aGlzLk1lZGlhVXJsID0gR00uSW1hZ2VMaWJyYXJ5W3RoaXMuTWVkaWFJZF0uVXJsO1xuICAgICAgICAgfSAgICBcbiAgICAgICAgIHRoaXMuY3JlYXRFbGVtZW50KCk7ICAgICBcbiAgICB9XG4gICAgY3JlYXRFbGVtZW50KCl7ICAgIFxuICAgICAgICAgLy/lm77niYfnmoTkvY3nva7lpKflsI/op5LluqZcbiAgICAgICAgIHRoaXMuc2tpbiA9ICB0aGlzLnVybDsgIFxuICAgICAgICAvLyAgY29uc29sZS5sb2coXCLlm77niYfnmoTliJ3lp4vkvY3nva5cIix0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgIHRoaXMubW91c2VFbmFibGVkID0gdHJ1ZTsgICAgXG4gICAgICAgICB0aGlzLnBvcyhOdW1iZXIodGhpcy5Qb3NpdGlvbi5zcGxpdCgnLCcpWzBdKSxOdW1iZXIodGhpcy5Qb3NpdGlvbi5zcGxpdCgnLCcpWzFdKSk7XG4gICAgICAgICB0aGlzLnNpemUodGhpcy5pdGVtV2lkdGgsdGhpcy5pdGVtSGVpZ2h0KTsgIFxuICAgICAgICAvLyAgY29uc29sZS5sb2coXCLlm77niYfnmoTkvY3nva7lpKflsI9cIix0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgIHRoaXMuYW5jaG9yWCA9IDAuNTsgdGhpcy5hbmNob3JZID0gMC41O1xuICAgICAgICAgdGhpcy5wb3ModGhpcy54ICsgdGhpcy53aWR0aC8yICwgdGhpcy55ICsgdGhpcy5oZWlnaHQvMik7XG4gICAgICAgIGlmKHRoaXMuUm90YXRpb24pe1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuUm90YXRpb247XG4gICAgICAgIH0gICBcblxuICAgICAgICBpZih0aGlzLk1pcnJvclkgJiYgdGhpcy5NaXJyb3JYKXtcbiAgICAgICAgICAgIHRoaXMuc2tldyh0aGlzLk1pcnJvclkgPT0gLTEgPyAxODAgOiAwLHRoaXMuTWlycm9yWCA9PSAtMSA/IDE4MCA6IDApO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuVHJhbnNwYXJlbnQpe1xuICAgICAgICAgICAgdGhpcy5hbHBoYSA9IHRoaXMuVHJhbnNwYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAvL+e7meWFg+e0oOa3u+WKoOeJueauiuWKqOaViFxuICAgIC8vIGFkZGVsZW1lbnRTcGVjaWFsKCl7ICAgIFxuICAgIC8vICAgICB0aGlzLnNwZWMgPSBuZXcgY3JlYXRlU2tlbGV0b24oXCJyZXMvYW5pbWF0ZS9maWdlckNoYW5nZVwiKTtcbiAgICAvLyAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnNwZWMpO1xuICAgIC8vICAgICB0aGlzLnNwZWMudmlzaWJsZSA9IGZhbHNlO1xuICAgIC8vICAgICB0aGlzLnNwZWMucGxheSgwLHRydWUpO1xuICAgIC8vICAgICB0aGlzLnNwZWMucG9zKHRoaXMud2lkdGgvMix0aGlzLmhlaWdodC8yKTtcbiAgICAvLyB9XG5cbiAgICBkaXNwb3NlKCl7XG4gICAgICAgIHRoaXMubmFtZSA9IG51bGw7IC8v5YWD57SgaWRcbiAgICAgICAgdGhpcy5uaWNrTmFtZSA9IG51bGw7IC8v5YWD57Sg5ZCN56ewXG4gICAgICAgIHRoaXMuQW5pbWF0aW9uID0gbnVsbDsgLy/liqjnlLsgIFxuICAgICAgICB0aGlzLkV2ZW50TGlzdCA9IG51bGw7ICAvL+WFg+e0oOW4puWHuiAgXG4gICAgICAgIHRoaXMuUG9zaXRpb24gPSBudWxsOyAvL+S9jee9rlxuICAgICAgICB0aGlzLlJvdGF0aW9uID0gbnVsbDsgLy/op5LluqZcbiAgICAgICAgdGhpcy5pdGVtV2lkdGggPSBudWxsOyAvL+WuvVxuICAgICAgICB0aGlzLml0ZW1IZWlnaHQgPSBudWxsOyAvL+mrmFxuICAgICAgICB0aGlzLkltZ0lkID0gbnVsbDsgLy/lr7nlupTnmoTlm77niYdJRFxuICAgICAgICB0aGlzLlRhZ1R5cGUgPSBudWxsOyAgLy/lhYPntKDmnKzouqvkuovku7ZcbiAgICAgICAgdGhpcy5UYWcgPSBudWxsOyAvL+etlOahiOWMulxuICAgICAgICB0aGlzLmluZGV4ID0gbnVsbDsgLy9pbmRleOWxnuaAp1xuICAgICAgICB0aGlzLkRyaXZlVHlwZSA9IG51bGw7IC8v5Ye65Zy65bGe5oCnXG4gICAgICAgIHRoaXMuTWlycm9yWCA9IG51bGw7IC8v5bem5Y+z6ZWc5YOPXG4gICAgICAgIHRoaXMuTWlycm9yWSA9IG51bGw7IC8v56uW55u06ZWc5YOPXG4gICAgICAgIHRoaXMuVHJhbnNwYXJlbnQgPSBudWxsOyAvL+mAj+aYjuW6piAxLTEwMFxuICAgICAgICB0aGlzLk1lZGlhSWQgPSBudWxsOyAvL+WFg+e0oOinhumikemTvuaOpVxuICAgICAgICB0aGlzLk1lZGlhTW9kZSA9IG51bGw7ICAvL+WFg+e0oOWkmuWqkuS9k+WHuueOsOeKtuaAgVxuICAgICAgICB0aGlzLk1lZGlhRGVsYXkgPSBudWxsO1xuICAgICAgICB0aGlzLk1lZGlhVXJsID0gbnVsbDsgXG4gICAgICAgIHRoaXMuU291cmNlID0gbnVsbDsvL+aVsOe7hOWGheeahOWvueixoVxuICAgICAgICB0aGlzLkFuZ2xlR3JvdXAgPSBudWxsOy8v5peL6L2s6KeS5bqm57uEXG4gICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZSA9IG51bGw7ICAvL+aYr+WQpuiAgeW4iOWPr+ingSAgICBcbiAgICAgICAgdGhpcy5hbnN3ZXJ0YWdBcnJheSA9IFtdOyAgLy/lrZjmlL7nrZTmoYjljLrnmoTmoIfnrb5cbiAgICAgICAgdGhpcy5pc0VsZW1lbnRHcm91cCA9IG51bGw744CALy/mmK/lkKblnKjlhYPntKDnu4Tku6Xlj4ppbmRleCBcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxuICAgIFxuXG59XG5cbi8vIEhhc0F1dG9Qcm9tcHQgIOaPkOekuumfsyDpu5jorqTkuI3mkq3mlL4gIGZhbHNlXG4vLyBcIlByb21wdFwiOiBcIjViMDI4YmI2NzMyMzVhMjEyMGQ1MjQ2OFwiLCAg5o+Q56S66Z+zXG4vLyBcIlRlYWNoZXJWaWRlb1wiOiBudWxsLCAgIOiusuW4iOinhumikVxuLy8gXCJDb3Vyc2VWaWRlb1wiOiBcIjViNGVmNTQ1ZjZhYTYxNDc1Zjc4NzQ0YlwiLCAg6K++5Lu26KeG6aKRXG4vLyBcIkhhc09wQW5pbWF0aW9uQXVkaW9cIjogdHJ1ZSwgIOi/h+WcuuWKqOeUu+aYr+WQpuaSreaUvum7mOiupOaYr2ZhbHNlXG4vLyDlhYPntKBcbi8vIFwiTWVkaWFJZFwiOiBudWxsLFxuLy8gXCJNaXJyb3JYXCI6IDEsIOawtOW5s+WPjei9rFxuLy8gXCJNaXJyb3JZXCI6IDEs5Z6C55u05Y+N6L2sXG4vLyBcIk1lZGlhTW9kZVwiOiAwLCAgICAgMOeCueWHuyAgMeWHuuWcuiAyICDlh7rlnLrngrnlh7vlubblrZhcbi8vIFwiTWVkaWFEZWxheVwiOiAwLjAsICDop4bpopHlu7bov5/mkq3mlL5cbi8vIFwiVHJhbnNwYXJlbnRcIjogMTAwICDpgI/mmI7luqYgMCAtMSBcbi8vIHRoaXMuY2FudmFzID0gTGF5YS5SZW5kZXIuY2FudmFzO1xuLy8gdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbi8vIHZhciBteV9ncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsMCwxMTM2KTsgLy/liJvlu7rkuIDkuKrnur/mgKfmuJDlj5hcbi8vIG15X2dyYWRpZW50LmFkZENvbG9yU3RvcCgwLFwiI0ZGMDAwMFwiKTtcbi8vIG15X2dyYWRpZW50LmFkZENvbG9yU3RvcCgxLFwiIzAwMDBGRlwiKTtcbi8vIGxldCBzcHJpdGUgPSBuZXcgTGF5YS5TcHJpdGUoKTtcbi8vIExheWEuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbi8vIHNwcml0ZS5ncmFwaGljcy5kcmF3UmVjdCgwLDAsNjQwLDExMzYsbXlfZ3JhZGllbnQpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9lbGVtZW50L3BpY3R1cmUuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBSUE7QUFDQTs7Ozs7O0FBSkE7Ozs7O0FBS0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOUJBO0FBK0JBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBckdBO0FBQ0E7QUF5R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvSEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./Course/src/mainscene/media/audioIcon.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 声音icon\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar audioIcon = function (_Laya$Image) {\n    _inherits(audioIcon, _Laya$Image);\n\n    function audioIcon(MediaMode, url, MediaDelay, MediaId) {\n        _classCallCheck(this, audioIcon);\n\n        var _this = _possibleConstructorReturn(this, (audioIcon.__proto__ || Object.getPrototypeOf(audioIcon)).call(this));\n\n        _this.MediaMode = MediaMode;\n        _this.MediaDelay = MediaDelay;\n        _this.url = url;\n        _this.MediaId = MediaId; //声音id\n        _this.sounduration = null;\n        _this.sounda = null;\n        _this.type = null; //0 元素音乐icon  1提示音\n        _this.playtype = null;\n        _this.sAudioicon = null;\n        _this.init();\n\n        return _this;\n    }\n\n    _createClass(audioIcon, [{\n        key: 'init',\n        value: function init() {\n            //只有sounlist存在 才可以拿到时间\n            if (GM.soundList) {\n                if (_init_module.messageCenter.soundoutPlay()) {\n                    this.sounduration = GM.soundList[this.MediaId].soundLength;\n                }\n            }\n\n            // 元素音乐icon\n            if (this.MediaMode != null) {\n                //  this.scale(1.2,1.2)\n                this.skin = 'res/medias/icon_music.png';\n                this.type = 0;\n                this.playtype = \"Element\";\n            } else {\n                // 提示音icon\n                if (GM.role === 0) {\n                    this.skin = \"res/medias/icon_tips_s.png\";\n                    this.right = 50;\n                    this.top = 50;\n                    this.size(40, 40);\n                    this.on(Laya.Event.CLICK, this, this.onClick.bind(this));\n                } else {\n                    this.sAudioicon = new audioPlayIconUI();\n                    this.right = 2;\n                    this.top = 2;\n                    this.size(200, 200);\n                    this.sAudioicon.on(Laya.Event.CLICK, this, this.onClick.bind(this));\n                    this.addChild(this.sAudioicon);\n                }\n\n                this.type = 1;\n                this.playtype = \"Prompt\";\n            }\n            _init_module.observer.subscribe(\"playSound\", this.playAudio.bind(this));\n        }\n\n        //元素播放方式 \n\n    }, {\n        key: 'constrolMediaMode',\n        value: function constrolMediaMode() {\n            //  0 点击  1播放 2  出场播放 并且点击也可以播放    \n            if (this.MediaMode === 1 || this.MediaMode === 2) {\n                console.log(\"console\", { text: \"出场自动播放\" });\n                //  stat 表示是自动或者出场播放   \n                this.playAudio(this.url, this.MediaId, this.MediaMode, \"stat\");\n            }\n            if (this.MediaMode === 0 || this.MediaMode === 2) {\n                this.visible = true;\n                this.on(Laya.Event.CLICK, this, this.onClick.bind(this));\n            }\n        }\n    }, {\n        key: 'onClick',\n        value: function onClick() {\n            _init_module.messageCenter.emit(\"optStart\", { type: this.MediaMode, id: this.MediaId, statu: \"open\", senderId: GM.senderId, url: this.url });\n            // messageCenter.emit(\"playsound\",{id:this.MediaId,type:\"sound\",isloop:false});\n            this.playAudio(this.url, this.MediaId, this.MediaMode);\n        }\n        // 提示音和本地播放\n\n    }, {\n        key: 'playAudio',\n        value: function playAudio(url, MediaId, MediaMode, stat) {\n            var _this2 = this;\n\n            if (this._parent) {\n                if (this._parent.TagType === 5) {\n                    this.visible = false;\n                }\n            }\n            if (this.sounda == null || this.sounda.isStopped) {\n                // 学生老师区分开  学生没有元素音频是能播放 \n                // MediaMode = null 是提示音 \n                if (MediaMode != null) {\n                    this.skin = 'res/medias/icon_music0.png';\n                    // this.disabled = true;          \n                } else {\n                    if (_room2.default.getInstance().audioItem.visible) {\n                        if (GM.role === 0) {\n                            this.skin = 'res/medias/icon_tips_n.png';\n                            //  RoomScene.getInstance().audioItem.disabled = true; \n                        } else {\n                            this.sAudioicon.audioPlay.play(0);\n                        }\n                    }\n                }\n                if (this.MediaDelay && stat) {\n                    Laya.timer.once(this.MediaDelay * 1000, this, function () {\n                        _this2.jujdefromplay(url, MediaId);\n                    });\n                } else {\n                    this.jujdefromplay(url, MediaId);\n                }\n            }\n        }\n        //播放声音\n\n    }, {\n        key: 'jujdefromplay',\n        value: function jujdefromplay(url, MediaId) {\n            var _this3 = this;\n\n            // 学生声音ipad和appple手机app播放\n            if (_init_module.messageCenter.soundoutPlay()) {\n                _init_module.messageCenter.emit(\"playsound\", { id: MediaId });\n                Laya.timer.once(this.sounduration * 1000, this, function () {\n                    _this3.sounda = \"appsound\";\n                    _this3.jujdeparentTagType();\n                });\n            } else {\n                this.sounda = Laya.SoundManager.playSound(url);\n                this.completeHandler();\n            }\n        }\n        //如果声音元素存在父元素并且是旁白 则展示下一个元素\n\n    }, {\n        key: 'jujdeparentTagType',\n        value: function jujdeparentTagType() {\n            if (this._parent) {\n                if (this._parent.TagType === 5) {\n                    var obj = void 0;\n                    if (this._parent.EventList.length > 0) {\n                        obj = this._parent.EventList[0];\n                    }\n                    _room2.default.getInstance().pagebox.showClearEventList(obj);\n                }\n            }\n            // 手机端声音播放\n\n            if (_room2.default.getInstance().audioItem && this.sAudioicon) {\n                this.sAudioicon.audioPlay.play(0);\n                this.sAudioicon.audioPlay.stop();\n            }\n        }\n\n        // 播放完成回调\n\n    }, {\n        key: 'completeHandler',\n        value: function completeHandler(type) {\n            var _this4 = this;\n\n            this.sounda.completeHandler = Laya.Handler.create(this, function () {\n                //声音播放完毕出现下一个元素\n                _this4.jujdeparentTagType();\n                if (_this4.type === 0) {\n                    _this4.skin = 'res/medias/icon_music.png';\n                    // this.disabled = false;             \n                } else if (_this4.type === 1) {\n                    if (_room2.default.getInstance().audioItem) {\n                        if (GM.role === 0) {\n                            if (_room2.default.getInstance().audioItem.visible) {\n                                _this4.skin = 'res/medias/icon_tips_s.png';\n                                // RoomScene.getInstance().audioItem.disabled = false;  \n                            }\n                        } else {\n                            if (_this4.sAudioicon.audioPlay) {\n                                _this4.sAudioicon.audioPlay.play(0);\n                                _this4.sAudioicon.audioPlay.stop();\n                            }\n                        }\n                    }\n                }\n            });\n        }\n    }, {\n        key: 'stopSound',\n        value: function stopSound() {\n            if (this.sounda) {\n                this.sounda.stop();\n                this.sounda = null;\n            }\n\n            this.dispose();\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            // observer.unsubscribe(\"stopAudio\"); \n            // observer.unsubscribe(\"optStart\"); \n            // this.removeChild(this.sAudioicon);\n            // this.sAudioicon = null;\n            this.sounda = null;\n            this.url = null;\n            this.destroy(true);\n        }\n    }]);\n\n    return audioIcon;\n}(Laya.Image);\n\nexports.default = audioIcon;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21haW5zY2VuZS9tZWRpYS9hdWRpb0ljb24uanM/MWMyZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOWjsOmfs2ljb25cbiAqL1xuaW1wb3J0IHsgb2JzZXJ2ZXIsbWVzc2FnZUNlbnRlcixzZXRWaWV3Q2VudGVyLHNjZW5lTWFuYWdlciB9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XG5pbXBvcnQgUm9vbVNjZW5lIGZyb20gJy4uL3Jvb20nXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBhdWRpb0ljb24gZXh0ZW5kcyBMYXlhLkltYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihNZWRpYU1vZGUsdXJsLE1lZGlhRGVsYXksTWVkaWFJZCkge1xuICAgICAgICBzdXBlcigpOyAgIFxuICAgICAgICB0aGlzLk1lZGlhTW9kZSA9IE1lZGlhTW9kZTtcbiAgICAgICAgdGhpcy5NZWRpYURlbGF5ID0gTWVkaWFEZWxheTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuTWVkaWFJZCA9IE1lZGlhSWQ7IC8v5aOw6Z+zaWRcbiAgICAgICAgdGhpcy5zb3VuZHVyYXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLnNvdW5kYSA9IG51bGw7XG4gICAgICAgIHRoaXMudHlwZSA9IG51bGw7ICAvLzAg5YWD57Sg6Z+z5LmQaWNvbiAgMeaPkOekuumfs1xuICAgICAgICB0aGlzLnBsYXl0eXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zQXVkaW9pY29uID0gbnVsbDsgIFxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICBcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICAvL+WPquaciXNvdW5saXN05a2Y5ZyoIOaJjeWPr+S7peaLv+WIsOaXtumXtFxuICAgICAgICBpZihHTS5zb3VuZExpc3Qpe1xuICAgICAgICAgICAgaWYobWVzc2FnZUNlbnRlci5zb3VuZG91dFBsYXkoKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZHVyYXRpb24gPSBHTS5zb3VuZExpc3RbdGhpcy5NZWRpYUlkXS5zb3VuZExlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIC8vIOWFg+e0oOmfs+S5kGljb25cbiAgICAgICAgaWYodGhpcy5NZWRpYU1vZGUgIT0gbnVsbCl7XG4gICAgICAgICAgICAvLyAgdGhpcy5zY2FsZSgxLjIsMS4yKVxuICAgICAgICAgICAgIHRoaXMuc2tpbiA9ICdyZXMvbWVkaWFzL2ljb25fbXVzaWMucG5nJztcbiAgICAgICAgICAgICB0aGlzLnR5cGUgPSAwO1xuICAgICAgICAgICAgIHRoaXMucGxheXR5cGUgPSBcIkVsZW1lbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy8g5o+Q56S66Z+zaWNvblxuICAgICAgICAgICAgaWYoR00ucm9sZSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5za2luID0gXCJyZXMvbWVkaWFzL2ljb25fdGlwc19zLnBuZ1wiO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQgPSA1MDtcbiAgICAgICAgICAgICAgICB0aGlzLnRvcCA9IDUwO1xuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSg0MCw0MCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsdGhpcy5vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnNBdWRpb2ljb24gPSBuZXcgYXVkaW9QbGF5SWNvblVJKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodCA9IDI7XG4gICAgICAgICAgICAgICAgdGhpcy50b3AgPSAyO1xuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSgyMDAsMjAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNBdWRpb2ljb24ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMub25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuc0F1ZGlvaWNvbik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAxO1xuICAgICAgICAgICAgdGhpcy5wbGF5dHlwZSA9IFwiUHJvbXB0XCI7XG4gICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZShcInBsYXlTb3VuZFwiLHRoaXMucGxheUF1ZGlvLmJpbmQodGhpcykpOyAgXG4gICAgICBcbiAgICB9XG4gICBcbiAgICAvL+WFg+e0oOaSreaUvuaWueW8jyBcbiAgICBjb25zdHJvbE1lZGlhTW9kZSgpe1xuICAgICAgICAvLyAgMCDngrnlh7sgIDHmkq3mlL4gMiAg5Ye65Zy65pKt5pS+IOW5tuS4lOeCueWHu+S5n+WPr+S7peaSreaUviAgICBcbiAgICAgICAgaWYodGhpcy5NZWRpYU1vZGUgPT09IDEgfHwgdGhpcy5NZWRpYU1vZGUgPT09IDIpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb25zb2xlXCIse3RleHQ6XCLlh7rlnLroh6rliqjmkq3mlL5cIn0pO1xuICAgICAgICAgICAgLy8gIHN0YXQg6KGo56S65piv6Ieq5Yqo5oiW6ICF5Ye65Zy65pKt5pS+ICAgXG4gICAgICAgICAgICB0aGlzLnBsYXlBdWRpbyh0aGlzLnVybCx0aGlzLk1lZGlhSWQsdGhpcy5NZWRpYU1vZGUsXCJzdGF0XCIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5NZWRpYU1vZGUgPT09IDAgfHwgdGhpcy5NZWRpYU1vZGUgPT09IDIpe1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMub25DbGljay5iaW5kKHRoaXMpKTsgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgIFxuICAgIH1cbiAgICBvbkNsaWNrKCl7ICAgICAgICAgICAgICBcbiAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwib3B0U3RhcnRcIix7dHlwZTp0aGlzLk1lZGlhTW9kZSxpZDp0aGlzLk1lZGlhSWQsc3RhdHU6XCJvcGVuXCIsc2VuZGVySWQ6R00uc2VuZGVySWQsdXJsOnRoaXMudXJsfSk7XG4gICAgICAgIC8vIG1lc3NhZ2VDZW50ZXIuZW1pdChcInBsYXlzb3VuZFwiLHtpZDp0aGlzLk1lZGlhSWQsdHlwZTpcInNvdW5kXCIsaXNsb29wOmZhbHNlfSk7XG4gICAgICAgIHRoaXMucGxheUF1ZGlvKHRoaXMudXJsLHRoaXMuTWVkaWFJZCx0aGlzLk1lZGlhTW9kZSk7XG4gICAgfVxuICAgIC8vIOaPkOekuumfs+WSjOacrOWcsOaSreaUvlxuICAgIHBsYXlBdWRpbyh1cmwsTWVkaWFJZCxNZWRpYU1vZGUsc3RhdCl7IFxuICAgICAgICBpZih0aGlzLl9wYXJlbnQpe1xuICAgICAgICAgICAgaWYodGhpcy5fcGFyZW50LlRhZ1R5cGUgPT09IDUpeyAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICAgICAgICAgXG4gICAgICAgIGlmKHRoaXMuc291bmRhID09IG51bGwgfHwgdGhpcy5zb3VuZGEuaXNTdG9wcGVkKXsgICAgXG4gICAgICAgICAgICAvLyDlrabnlJ/ogIHluIjljLrliIblvIAgIOWtpueUn+ayoeacieWFg+e0oOmfs+mikeaYr+iDveaSreaUviBcbiAgICAgICAgICAgIC8vIE1lZGlhTW9kZSA9IG51bGwg5piv5o+Q56S66Z+zIFxuICAgICAgICAgICAgaWYoTWVkaWFNb2RlICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpbiA9ICdyZXMvbWVkaWFzL2ljb25fbXVzaWMwLnBuZyc7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5kaXNhYmxlZCA9IHRydWU7ICAgICAgICAgIFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYXVkaW9JdGVtLnZpc2libGUpe1xuICAgICAgICAgICAgICAgICAgICBpZihHTS5yb2xlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNraW4gPSAncmVzL21lZGlhcy9pY29uX3RpcHNfbi5wbmcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmF1ZGlvSXRlbS5kaXNhYmxlZCA9IHRydWU7IFxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNBdWRpb2ljb24uYXVkaW9QbGF5LnBsYXkoMCk7ICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gICAgICAgXG4gICAgICAgICAgICBpZih0aGlzLk1lZGlhRGVsYXkgJiYgc3RhdCl7ICAgICAgICBcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UodGhpcy5NZWRpYURlbGF5KjEwMDAsdGhpcywoKT0+e1xuICAgICAgICAgICAgICAgICAgIHRoaXMuanVqZGVmcm9tcGxheSh1cmwsTWVkaWFJZCk7ICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgdGhpcy5qdWpkZWZyb21wbGF5KHVybCxNZWRpYUlkKTtcbiAgICAgICAgICAgIH0gICAgICAgXG4gICAgICAgIH1cblxuICAgIH1cbiAgICAvL+aSreaUvuWjsOmfs1xuICAgIGp1amRlZnJvbXBsYXkodXJsLE1lZGlhSWQpe1xuICAgICAgICAvLyDlrabnlJ/lo7Dpn7NpcGFk5ZKMYXBwcGxl5omL5py6YXBw5pKt5pS+XG4gICAgICAgIGlmKG1lc3NhZ2VDZW50ZXIuc291bmRvdXRQbGF5KCkpeyAgICAgXG4gICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcInBsYXlzb3VuZFwiLHtpZDpNZWRpYUlkfSk7XG4gICAgICAgICAgIExheWEudGltZXIub25jZSh0aGlzLnNvdW5kdXJhdGlvbioxMDAwLHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kYSA9IFwiYXBwc291bmRcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmp1amRlcGFyZW50VGFnVHlwZSgpO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7ICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuc291bmRhID0gTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKHVybCk7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlSGFuZGxlcigpOyAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy/lpoLmnpzlo7Dpn7PlhYPntKDlrZjlnKjniLblhYPntKDlubbkuJTmmK/ml4Hnmb0g5YiZ5bGV56S65LiL5LiA5Liq5YWD57SgXG4gICAganVqZGVwYXJlbnRUYWdUeXBlKCl7IFxuICAgICAgICBpZih0aGlzLl9wYXJlbnQpe1xuICAgICAgICAgICAgaWYodGhpcy5fcGFyZW50LlRhZ1R5cGUgPT09IDUpe1xuICAgICAgICAgICAgICAgIGxldCBvYmo7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5fcGFyZW50LkV2ZW50TGlzdC5sZW5ndGggPiAwICl7ICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IHRoaXMuX3BhcmVudC5FdmVudExpc3RbMF07ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gICAgICBcbiAgICAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnNob3dDbGVhckV2ZW50TGlzdChvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IFxuICAgICAgICAvLyDmiYvmnLrnq6/lo7Dpn7Pmkq3mlL5cbiAgICAgICAgICAgICAgIFxuICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hdWRpb0l0ZW0gJiYgdGhpcy5zQXVkaW9pY29uKXsgICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnNBdWRpb2ljb24uYXVkaW9QbGF5LnBsYXkoMCk7XG4gICAgICAgICAgICB0aGlzLnNBdWRpb2ljb24uYXVkaW9QbGF5LnN0b3AoKTsgICAgICAgICAgICAgICAgXG4gICAgICAgIH0gIFxuICAgICAgICAgICAgICAgICBcbiAgICB9XG4gIFxuICAgIC8vIOaSreaUvuWujOaIkOWbnuiwg1xuICAgIGNvbXBsZXRlSGFuZGxlcih0eXBlKXsgICAgIFxuICAgICAgICB0aGlzLnNvdW5kYS5jb21wbGV0ZUhhbmRsZXIgPSBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgLy/lo7Dpn7Pmkq3mlL7lrozmr5Xlh7rnjrDkuIvkuIDkuKrlhYPntKBcbiAgICAgICAgICAgdGhpcy5qdWpkZXBhcmVudFRhZ1R5cGUoKTsgICAgICAgICAgXG4gICAgICAgICAgIGlmKHRoaXMudHlwZSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5za2luID0gJ3Jlcy9tZWRpYXMvaWNvbl9tdXNpYy5wbmcnOyAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5kaXNhYmxlZCA9IGZhbHNlOyAgICAgICAgICAgICBcbiAgICAgICAgICAgfWVsc2UgaWYodGhpcy50eXBlID09PSAxKXtcbiAgICAgICAgICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hdWRpb0l0ZW0pe1xuICAgICAgICAgICAgICAgICAgICBpZihHTS5yb2xlID09PSAwKXsgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYXVkaW9JdGVtLnZpc2libGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpbiA9ICdyZXMvbWVkaWFzL2ljb25fdGlwc19zLnBuZyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYXVkaW9JdGVtLmRpc2FibGVkID0gZmFsc2U7ICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc0F1ZGlvaWNvbi5hdWRpb1BsYXkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNBdWRpb2ljb24uYXVkaW9QbGF5LnBsYXkoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc0F1ZGlvaWNvbi5hdWRpb1BsYXkuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pOyAgICBcbiAgICB9XG5cbiAgICBzdG9wU291bmQoKXtcbiAgICAgICAgaWYodGhpcy5zb3VuZGEpe1xuICAgICAgICAgICAgdGhpcy5zb3VuZGEuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5zb3VuZGEgPSBudWxsOyAgICAgIFxuICAgICAgICB9ICAgIFxuICAgICAgXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpOyAgIFxuICAgIH1cbiAgIFxuICAgIGRpc3Bvc2UoKXsgICAgIFxuICAgICAgICAvLyBvYnNlcnZlci51bnN1YnNjcmliZShcInN0b3BBdWRpb1wiKTsgXG4gICAgICAgIC8vIG9ic2VydmVyLnVuc3Vic2NyaWJlKFwib3B0U3RhcnRcIik7IFxuICAgICAgICAvLyB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuc0F1ZGlvaWNvbik7XG4gICAgICAgIC8vIHRoaXMuc0F1ZGlvaWNvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuc291bmRhID0gbnVsbDtcbiAgICAgICAgdGhpcy51cmwgPSBudWxsO1xuICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfSAgXG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9tZWRpYS9hdWRpb0ljb24uanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQUxBOzs7OztBQUtBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBYUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUEzTEE7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./Course/src/mainscene/alert/answerTips.js ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 老师点击答题提示\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar answerTips = function (_answerTipsUI) {\n    _inherits(answerTips, _answerTipsUI);\n\n    function answerTips() {\n        _classCallCheck(this, answerTips);\n\n        var _this = _possibleConstructorReturn(this, (answerTips.__proto__ || Object.getPrototypeOf(answerTips)).call(this));\n\n        _this.init();\n        return _this;\n    }\n\n    _createClass(answerTips, [{\n        key: 'init',\n        value: function init() {\n            var _this2 = this;\n\n            //关闭\n            this.closeBtn.on(Laya.Event.CLICK, this, function () {\n                _this2.myClose();\n            });\n            //全部开始答题\n            this.answerAll.on(Laya.Event.CLICK, this, function () {\n                _room2.default.getInstance().answerStartPanelButton(0);\n                _this2.myClose();\n            });\n            //答错开始答题\n            this.answerPart.on(Laya.Event.CLICK, this, function () {\n                //修改为在弹这个时就有做答错判断了。所以不需要走学生剔除了。\n                _room2.default.getInstance().answerStartPanelButton();\n                _this2.myClose();\n            });\n        }\n    }, {\n        key: 'registerAction',\n        value: function registerAction(_ref) {\n            var messageCenter = _ref.messageCenter,\n                observer = _ref.observer;\n\n            // 订阅弹层出现\n            observer.subscribe('answerTips', this.myShow.bind(this));\n        }\n    }, {\n        key: 'myShow',\n        value: function myShow(msg, confirmCallBack, cancelCallBack) {\n            if (msg.bb) {\n                this.answerPart.disabled = true;\n            } else {\n                this.answerPart.disabled = false;\n            }\n            this.popup();\n        }\n    }, {\n        key: 'myClose',\n        value: function myClose() {\n            this.close();\n        }\n    }]);\n\n    return answerTips;\n}(answerTipsUI);\n\nexports.default = answerTips;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9Db3Vyc2Uvc3JjL21haW5zY2VuZS9hbGVydC9hbnN3ZXJUaXBzLmpzP2U1NzYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDogIHluIjngrnlh7vnrZTpopjmj5DnpLpcbiAqL1xuaW1wb3J0IHsgb2JzZXJ2ZXIsbWVzc2FnZUNlbnRlcixzZXRWaWV3Q2VudGVyLHNjZW5lTWFuYWdlciB9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XG5pbXBvcnQgUm9vbVNjZW5lIGZyb20gJy4uL3Jvb20nO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgYW5zd2VyVGlwcyBleHRlbmRzIGFuc3dlclRpcHNVSSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7ICBcbiAgICAgICAgdGhpcy5pbml0KCk7ICAgIFxuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIC8v5YWz6ZetXG4gICAgICAgIHRoaXMuY2xvc2VCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57ICAgICAgIFxuICAgICAgICAgICAgdGhpcy5teUNsb3NlKCk7XG4gICAgICAgIH0pOyAgXG4gICAgICAgIC8v5YWo6YOo5byA5aeL562U6aKYXG4gICAgICAgIHRoaXMuYW5zd2VyQWxsLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+eyAgICAgXG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hbnN3ZXJTdGFydFBhbmVsQnV0dG9uKDApOyAgXG4gICAgICAgICAgICB0aGlzLm15Q2xvc2UoKTtcbiAgICAgICAgfSk7ICBcbiAgICAgICAgLy/nrZTplJnlvIDlp4vnrZTpophcbiAgICAgICAgdGhpcy5hbnN3ZXJQYXJ0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+eyAgICBcbiAgICAgICAgICAgIC8v5L+u5pS55Li65Zyo5by56L+Z5Liq5pe25bCx5pyJ5YGa562U6ZSZ5Yik5pat5LqG44CC5omA5Lul5LiN6ZyA6KaB6LWw5a2m55Sf5YmU6Zmk5LqG44CCXG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hbnN3ZXJTdGFydFBhbmVsQnV0dG9uKCk7ICBcbiAgICAgICAgICAgIHRoaXMubXlDbG9zZSgpO1xuICAgICAgICB9KTsgIFxuICAgIH1cblxuICAgIHJlZ2lzdGVyQWN0aW9uKHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXIgfSkge1xuICAgICAgICAvLyDorqLpmIXlvLnlsYLlh7rnjrBcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdhbnN3ZXJUaXBzJywgdGhpcy5teVNob3cuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgbXlTaG93KG1zZywgY29uZmlybUNhbGxCYWNrLCBjYW5jZWxDYWxsQmFjaykge1xuICAgICAgICBpZihtc2cuYmIpe1xuICAgICAgICAgICAgdGhpcy5hbnN3ZXJQYXJ0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhpcy5hbnN3ZXJQYXJ0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3B1cCgpO1xuICAgIH1cbiAgICBteUNsb3NlKCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgXG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9hbGVydC9hbnN3ZXJUaXBzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFMQTs7Ozs7QUFLQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7OztBQXZDQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./Course/src/mainscene/alert/flipJudgment.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 老师点击答题提示\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar flipJudgment = function (_flipJudgmentUI) {\n    _inherits(flipJudgment, _flipJudgmentUI);\n\n    function flipJudgment() {\n        _classCallCheck(this, flipJudgment);\n\n        var _this = _possibleConstructorReturn(this, (flipJudgment.__proto__ || Object.getPrototypeOf(flipJudgment)).call(this));\n\n        _this.init();\n        _this.func = null;\n        _this.type = null;\n        return _this;\n    }\n\n    _createClass(flipJudgment, [{\n        key: 'init',\n        value: function init() {\n            var _this2 = this;\n\n            //继续停留\n            this.stay.on(Laya.Event.CLICK, this, function () {\n                _this2.myClose();\n            });\n            //翻页\n            this.flip.on(Laya.Event.CLICK, this, function () {\n                _this2.func(_this2.type);\n                _this2.myClose();\n            });\n            this.nextBtn.on(Laya.Event.CLICK, this, function () {\n                _init_module.observer.publish('updateStep', { opt: 'next' });\n                _init_module.messageCenter.emit('updateStep', { senderId: GM.senderId, opt: 'next' });\n                _this2.myClose();\n            });\n        }\n    }, {\n        key: 'registerAction',\n        value: function registerAction(_ref) {\n            var messageCenter = _ref.messageCenter,\n                observer = _ref.observer;\n\n            // 订阅弹层出现\n            observer.subscribe('nextpage', this.myShow.bind(this));\n        }\n    }, {\n        key: 'myShow',\n        value: function myShow(msg, confirmCallBack, cancelCallBack) {\n\n            this.func = msg.func;\n            this.type = msg.type;\n            this.popup();\n        }\n    }, {\n        key: 'myClose',\n        value: function myClose() {\n            this.close();\n        }\n    }]);\n\n    return flipJudgment;\n}(flipJudgmentUI);\n\nexports.default = flipJudgment;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvYWxlcnQvZmxpcEp1ZGdtZW50LmpzPzI4Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDogIHluIjngrnlh7vnrZTpopjmj5DnpLpcbiAqL1xuaW1wb3J0IHsgb2JzZXJ2ZXIsbWVzc2FnZUNlbnRlcixzZXRWaWV3Q2VudGVyLHNjZW5lTWFuYWdlciB9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XG5pbXBvcnQgUm9vbVNjZW5lIGZyb20gJy4uL3Jvb20nO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZmxpcEp1ZGdtZW50IGV4dGVuZHMgZmxpcEp1ZGdtZW50VUkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpOyAgXG4gICAgICAgIHRoaXMuaW5pdCgpOyAgIFxuICAgICAgICB0aGlzLmZ1bmMgPSAgbnVsbDtcbiAgICAgICAgdGhpcy50eXBlID0gIG51bGw7XG4gICAgfVxuICAgIGluaXQoKXtcbiAgICAgICAgLy/nu6fnu63lgZznlZlcbiAgICAgICAgdGhpcy5zdGF5Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+eyAgICAgXG4gICAgICAgICAgICB0aGlzLm15Q2xvc2UoKTtcbiAgICAgICAgfSk7ICBcbiAgICAgICAgLy/nv7vpobVcbiAgICAgICAgdGhpcy5mbGlwLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+eyAgICBcbiAgICAgICAgICAgIHRoaXMuZnVuYyh0aGlzLnR5cGUpO1xuICAgICAgICAgICAgdGhpcy5teUNsb3NlKCk7XG4gICAgICAgIH0pOyAgXG4gICAgICAgIHRoaXMubmV4dEJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PnsgICAgXG4gICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgndXBkYXRlU3RlcCcse29wdDonbmV4dCd9KTsgIFxuICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdCgndXBkYXRlU3RlcCcse3NlbmRlcklkOkdNLnNlbmRlcklkLG9wdDonbmV4dCd9KTsgIFxuICAgICAgICAgICAgIHRoaXMubXlDbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJBY3Rpb24oeyBtZXNzYWdlQ2VudGVyLCBvYnNlcnZlciB9KSB7XG4gICAgICAgIC8vIOiuoumYheW8ueWxguWHuueOsFxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ25leHRwYWdlJywgdGhpcy5teVNob3cuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgbXlTaG93KG1zZywgY29uZmlybUNhbGxCYWNrLCBjYW5jZWxDYWxsQmFjaykge1xuXG4gICAgICAgIHRoaXMuZnVuYyA9IG1zZy5mdW5jO1xuICAgICAgICB0aGlzLnR5cGUgPSBtc2cudHlwZTtcbiAgICAgICAgdGhpcy5wb3B1cCgpO1xuICAgIH1cbiAgICBteUNsb3NlKCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgXG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9hbGVydC9mbGlwSnVkZ21lbnQuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQUxBOzs7OztBQUtBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7OztBQXBDQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./Course/src/mainscene/alert/netTip.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 断网提示\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar netTip = function (_netTipUI) {\n    _inherits(netTip, _netTipUI);\n\n    function netTip() {\n        _classCallCheck(this, netTip);\n\n        return _possibleConstructorReturn(this, (netTip.__proto__ || Object.getPrototypeOf(netTip)).call(this));\n    }\n\n    _createClass(netTip, [{\n        key: 'registerAction',\n        value: function registerAction(_ref) {\n            var messageCenter = _ref.messageCenter,\n                observer = _ref.observer;\n\n            // 订阅弹层出现\n            observer.subscribe('netTip', this.myShow.bind(this));\n        }\n    }, {\n        key: 'myShow',\n        value: function myShow(msg) {\n            if (msg.stat === \"open\") {\n                if (msg.senderId == GM.senderId) {\n                    this.popBg.skin = \"res/commonn/popteach.png\";\n                    this.popLabel.text = \"网络有点堵车\\n让我们稍歇片刻加速前进!\";\n                } else {\n                    if (GM.role === 0) {\n                        this.popBg.skin = \"res/commonn/popteach.png\";\n                        this.popLabel.text = \"学生稍稍掉线\\n让我们耐心地等等吧~\";\n                    } else {\n                        this.popBg.skin = \"res/commonn/popstud.png\";\n                        this.popLabel.text = \"老师稍稍掉线\\n让我们耐心地等等吧~\";\n                    }\n                }\n                this.popup();\n            } else {\n                this.close();\n            }\n        }\n    }]);\n\n    return netTip;\n}(netTipUI);\n\nexports.default = netTip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvYWxlcnQvbmV0VGlwLmpzPzk3MDgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDmlq3nvZHmj5DnpLpcbiAqL1xuaW1wb3J0IHsgb2JzZXJ2ZXIsbWVzc2FnZUNlbnRlcixzZXRWaWV3Q2VudGVyLHNjZW5lTWFuYWdlciB9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBuZXRUaXAgZXh0ZW5kcyBuZXRUaXBVSSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgXG4gICAgICAgICAgXG4gICAgfVxuIFxuICAgIHJlZ2lzdGVyQWN0aW9uKHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXIgfSkge1xuICAgICAgICAvLyDorqLpmIXlvLnlsYLlh7rnjrBcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCduZXRUaXAnLCB0aGlzLm15U2hvdy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBteVNob3cobXNnKSB7XG4gICAgICAgIGlmKG1zZy5zdGF0ID09PSBcIm9wZW5cIil7XG4gICAgICAgICAgICBpZihtc2cuc2VuZGVySWQgPT0gR00uc2VuZGVySWQpe1xuICAgICAgICAgICAgICAgIHRoaXMucG9wQmcuc2tpbiA9IFwicmVzL2NvbW1vbm4vcG9wdGVhY2gucG5nXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BMYWJlbC50ZXh0ID0gXCLnvZHnu5zmnInngrnloLXovaZcXG7orqnmiJHku6znqI3mrYfniYfliLvliqDpgJ/liY3ov5shXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGlmKEdNLnJvbGUgPT09IDApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcEJnLnNraW4gPSBcInJlcy9jb21tb25uL3BvcHRlYWNoLnBuZ1wiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcExhYmVsLnRleHQgPSBcIuWtpueUn+eojeeojeaOiee6v1xcbuiuqeaIkeS7rOiAkOW/g+WcsOetieetieWQp35cIjtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BCZy5za2luID0gXCJyZXMvY29tbW9ubi9wb3BzdHVkLnBuZ1wiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcExhYmVsLnRleHQgPSBcIuiAgeW4iOeojeeojeaOiee6v1xcbuiuqeaIkeS7rOiAkOW/g+WcsOetieetieWQp35cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgdGhpcy5wb3B1cCgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgIFxuICAgIH1cblxuXG4gICAgXG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9hbGVydC9uZXRUaXAuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTs7Ozs7QUFKQTs7Ozs7QUFJQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFJQTtBQUNBOzs7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFoQ0E7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/* no static exports found */
/* all exports used */
/*!************************************************!*\
  !*** ./Course/src/mainscene/alert/rankpage.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _laya = __webpack_require__(/*! ../../module/com/laya.custom */ 2);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 学生1v6答题结果等待页面 @param {*liujiaojiao}\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar rankView = function (_window$rankpageUI) {\n    _inherits(rankView, _window$rankpageUI);\n\n    function rankView() {\n        _classCallCheck(this, rankView);\n\n        return _possibleConstructorReturn(this, (rankView.__proto__ || Object.getPrototypeOf(rankView)).call(this));\n    }\n\n    _createClass(rankView, [{\n        key: 'registerAction',\n        value: function registerAction(_ref) {\n            var messageCenter = _ref.messageCenter,\n                observer = _ref.observer;\n\n            // 订阅弹层出现\n            // observer.subscribe('rank:open', this.myShow.bind(this));\n            // 随机的订阅弹层出现\n            observer.subscribe('rank:open', this.show.bind(this));\n            observer.subscribe('rank:close', this.myClose.bind(this));\n        }\n    }, {\n        key: 'showPop',\n        value: function showPop(msg) {\n            if (GM.classMode === \"1v1\" || GM.roleType === \"1\") {\n                // if(this.winani){\n                //     this.removeChild(this.winani);\n                //     this.winani.destroy();\n                //     this.winani = null;\n                // }\n                this.close();\n                return;\n            }\n            //if(RoomScene.getInstance().pagebox.isWined){\n            // this.winani.visible = false;\n            // this.winani.stop();\n            this.box.visible = true;\n            this.popup();\n            if (msg.showDialog == 0) {\n                this.ranText.text = \"\";\n            } else {\n                this.ranText.text = \"其他小朋友还没有完成答题哦，让我们耐心等待他们吧。\";\n            }\n\n            //默认金牌\n            if (msg.ranknum === 1) {\n                this.backGround.skin = \"res/rankpage/img_firstPage.png\";\n                this.term.skin = \"res/rankpage/word_first.png\";\n            } else if (msg.ranknum === 2) {\n                this.backGround.skin = \"res/rankpage/img_secondPage.png\";\n                this.term.skin = \"res/rankpage/word_second.png\";\n            } else if (msg.ranknum === 3) {\n                this.backGround.skin = \"res/rankpage/img_thirdPage.png\";\n                this.term.skin = \"res/rankpage/word_third.png\";\n            } else if (msg.ranknum > 3) {\n                this.backGround.skin = \"res/rankpage/img_secondPage.png\";\n                this.term.visible = false;\n            }\n\n            //}\n        }\n    }, {\n        key: 'show',\n        value: function show(msg, confirmCallBack, cancelCallBack) {\n            // if(msg.stuId  == GM.senderId || GM.role == 0){\n            //     this.show();   \n            // this.box.visible = false;\n            //     this.winani.visible = true;\n            //     // Laya.SoundManager.playSound('sound/Events/largeWin.mp3');       \n            //     this.winani.play(0, false);  \n\n            //1v6中老师传给学生弹层\n            Laya.timer.once(2000, this, this.showPop, [msg]);\n            // }\n        }\n\n        // 回答正确的随机动画\n\n    }, {\n        key: 'randomMyShow',\n        value: function randomMyShow(msg, confirmCallBack, cancelCallBack) {\n            if (msg.stuId == GM.senderId || GM.role == 0) {\n                // this.show();              \n                // // this.randomInit();\n                // this.box.visible = false;\n                // // this.winani.visible = true;\n                // // Laya.SoundManager.playSound('sound/Events/largeWin.mp3');       \n                // // this.winani.play(0, false);  \n\n                // //1v6中老师传给学生弹层\n                // let times;\n                // if(this.random === 1){\n                //     times = 3000;\n                // }else{\n                //     times = 2000;\n                // }\n                Laya.timer.once(2000, this, this.showPop, [msg]);\n            }\n        }\n    }, {\n        key: 'myClose',\n        value: function myClose(msg, confirmCallBack, cancelCallBack) {\n            if (msg.time != 0) {\n                Laya.timer.once(msg.time * 1000, this, this.clo);\n            } else {\n                this.clo();\n            }\n        }\n    }, {\n        key: 'clo',\n        value: function clo() {\n            Laya.timer.clear(this, this.showPop);\n            this.box.visible = false;\n            this.close();\n        }\n    }]);\n\n    return rankView;\n}(window.rankpageUI);\n\nexports.default = rankView;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvYWxlcnQvcmFua3BhZ2UuanM/N2VlZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOWtpueUnzF2NuetlOmimOe7k+aenOetieW+hemhtemdoiBAcGFyYW0geypsaXVqaWFvamlhb31cbiAqL1xuaW1wb3J0IHsgb2JzZXJ2ZXIsbWVzc2FnZUNlbnRlcixzZXRWaWV3Q2VudGVyLHNjZW5lTWFuYWdlciB9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XG5pbXBvcnQge2NyZWF0ZVNrZWxldG9ufSBmcm9tICcuLi8uLi9tb2R1bGUvY29tL2xheWEuY3VzdG9tJztcbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi4vcm9vbSdcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHJhbmtWaWV3IGV4dGVuZHMgd2luZG93LnJhbmtwYWdlVUkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpOyAgICAgICAgXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJBY3Rpb24oeyBtZXNzYWdlQ2VudGVyLCBvYnNlcnZlciB9KSB7XG4gICAgICAgIC8vIOiuoumYheW8ueWxguWHuueOsFxuICAgICAgICAvLyBvYnNlcnZlci5zdWJzY3JpYmUoJ3Jhbms6b3BlbicsIHRoaXMubXlTaG93LmJpbmQodGhpcykpO1xuICAgICAgICAvLyDpmo/mnLrnmoTorqLpmIXlvLnlsYLlh7rnjrBcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdyYW5rOm9wZW4nLCB0aGlzLnNob3cuYmluZCh0aGlzKSk7XG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgncmFuazpjbG9zZScsIHRoaXMubXlDbG9zZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBzaG93UG9wKG1zZyl7XG4gICAgICAgIGlmKEdNLmNsYXNzTW9kZSA9PT0gXCIxdjFcIiB8fCBHTS5yb2xlVHlwZSA9PT0gIFwiMVwiKXtcbiAgICAgICAgICAgIC8vIGlmKHRoaXMud2luYW5pKXtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMud2luYW5pKTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLndpbmFuaS5kZXN0cm95KCk7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy53aW5hbmkgPSBudWxsO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5pc1dpbmVkKXtcbiAgICAgICAgICAgIC8vIHRoaXMud2luYW5pLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRoaXMud2luYW5pLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuYm94LnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wb3B1cCgpOyBcbiAgICAgICAgICAgIGlmKG1zZy5zaG93RGlhbG9nID09IDApe1xuICAgICAgICAgICAgICAgIHRoaXMucmFuVGV4dC50ZXh0ID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5UZXh0LnRleHQgPSBcIuWFtuS7luWwj+aci+WPi+i/mOayoeacieWujOaIkOetlOmimOWTpu+8jOiuqeaIkeS7rOiAkOW/g+etieW+heS7luS7rOWQp+OAglwiO1xuICAgICAgICAgICAgfVxuICAgICAgIFxuICAgICAgICAgICAgLy/pu5jorqTph5HniYxcbiAgICAgICAgICAgIGlmKG1zZy5yYW5rbnVtID09PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tHcm91bmQuc2tpbiA9IFwicmVzL3JhbmtwYWdlL2ltZ19maXJzdFBhZ2UucG5nXCI7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXJtLnNraW4gPSBcInJlcy9yYW5rcGFnZS93b3JkX2ZpcnN0LnBuZ1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihtc2cucmFua251bSA9PT0gMiApe1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja0dyb3VuZC5za2luID0gXCJyZXMvcmFua3BhZ2UvaW1nX3NlY29uZFBhZ2UucG5nXCI7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXJtLnNraW4gPSBcInJlcy9yYW5rcGFnZS93b3JkX3NlY29uZC5wbmdcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYobXNnLnJhbmtudW0gPT09IDMpe1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja0dyb3VuZC5za2luID0gXCJyZXMvcmFua3BhZ2UvaW1nX3RoaXJkUGFnZS5wbmdcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnRlcm0uc2tpbiA9IFwicmVzL3JhbmtwYWdlL3dvcmRfdGhpcmQucG5nXCI7XG4gICAgICAgICAgICB9ZWxzZSBpZihtc2cucmFua251bSA+IDMpe1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja0dyb3VuZC5za2luID0gXCJyZXMvcmFua3BhZ2UvaW1nX3NlY29uZFBhZ2UucG5nXCI7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXJtLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAvL31cbiAgICB9XG4gICAgc2hvdyhtc2csIGNvbmZpcm1DYWxsQmFjaywgY2FuY2VsQ2FsbEJhY2spIHtcbiAgICAgICAgLy8gaWYobXNnLnN0dUlkICA9PSBHTS5zZW5kZXJJZCB8fCBHTS5yb2xlID09IDApe1xuICAgICAgICAvLyAgICAgdGhpcy5zaG93KCk7ICAgXG4gICAgICAgICAgICAvLyB0aGlzLmJveC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIC8vICAgICB0aGlzLndpbmFuaS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgLy8gICAgIC8vIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvRXZlbnRzL2xhcmdlV2luLm1wMycpOyAgICAgICBcbiAgICAgICAgLy8gICAgIHRoaXMud2luYW5pLnBsYXkoMCwgZmFsc2UpOyAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vMXY25Lit6ICB5biI5Lyg57uZ5a2m55Sf5by55bGCXG4gICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMjAwMCx0aGlzLHRoaXMuc2hvd1BvcCxbbXNnXSk7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICAvLyDlm57nrZTmraPnoa7nmoTpmo/mnLrliqjnlLtcbiAgICByYW5kb21NeVNob3cobXNnLCBjb25maXJtQ2FsbEJhY2ssIGNhbmNlbENhbGxCYWNrKSB7XG4gICAgICAgIGlmKG1zZy5zdHVJZCAgPT0gR00uc2VuZGVySWQgfHwgR00ucm9sZSA9PSAwKXsgXG4gICAgICAgICAgICAvLyB0aGlzLnNob3coKTsgICAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gLy8gdGhpcy5yYW5kb21Jbml0KCk7XG4gICAgICAgICAgICAvLyB0aGlzLmJveC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyAvLyB0aGlzLndpbmFuaS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIC8vIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvRXZlbnRzL2xhcmdlV2luLm1wMycpOyAgICAgICBcbiAgICAgICAgICAgIC8vIC8vIHRoaXMud2luYW5pLnBsYXkoMCwgZmFsc2UpOyAgXG4gICAgICAgICAgIFxuICAgICAgICAgICAgLy8gLy8xdjbkuK3ogIHluIjkvKDnu5nlrabnlJ/lvLnlsYJcbiAgICAgICAgICAgIC8vIGxldCB0aW1lcztcbiAgICAgICAgICAgIC8vIGlmKHRoaXMucmFuZG9tID09PSAxKXtcbiAgICAgICAgICAgIC8vICAgICB0aW1lcyA9IDMwMDA7XG4gICAgICAgICAgICAvLyB9ZWxzZXtcbiAgICAgICAgICAgIC8vICAgICB0aW1lcyA9IDIwMDA7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMjAwMCx0aGlzLHRoaXMuc2hvd1BvcCxbbXNnXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBteUNsb3NlKG1zZywgY29uZmlybUNhbGxCYWNrLCBjYW5jZWxDYWxsQmFjaykge1xuICAgICAgICBpZihtc2cudGltZSAhPSAwKXtcbiAgICAgICAgICAgIExheWEudGltZXIub25jZShtc2cudGltZSAqIDEwMDAsIHRoaXMsIHRoaXMuY2xvKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhpcy5jbG8oKTtcbiAgICAgICAgfVxuICAgICAgIFxuICAgIH1cbiAgICBjbG8oKXtcbiAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMuc2hvd1BvcCk7XG4gICAgICAgIHRoaXMuYm94LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIFxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvYWxlcnQvcmFua3BhZ2UuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFOQTs7Ozs7QUFNQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUNBOzs7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUF2R0E7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/* no static exports found */
/* all exports used */
/*!***********************************************!*\
  !*** ./Course/src/mainscene/alert/techTip.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 答题提示\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar techTip = function (_techtipUI) {\n    _inherits(techTip, _techtipUI);\n\n    function techTip() {\n        _classCallCheck(this, techTip);\n\n        var _this = _possibleConstructorReturn(this, (techTip.__proto__ || Object.getPrototypeOf(techTip)).call(this));\n\n        _this.init();\n        return _this;\n    }\n\n    _createClass(techTip, [{\n        key: 'init',\n        value: function init() {\n            var _this2 = this;\n\n            this.closeBtn.on(Laya.Event.CLICK, this, function () {\n                _this2.close();\n            });\n        }\n    }, {\n        key: 'registerAction',\n        value: function registerAction(_ref) {\n            var messageCenter = _ref.messageCenter,\n                observer = _ref.observer;\n\n\n            // 订阅弹层出现\n            observer.subscribe('techtip', this.myShow.bind(this));\n        }\n    }, {\n        key: 'myShow',\n        value: function myShow(msg, confirmCallBack, cancelCallBack) {\n            this.popup();\n            Laya.timer.once(2500, this, this.myClose);\n        }\n    }, {\n        key: 'myClose',\n        value: function myClose() {\n            this.close();\n            Laya.timer.clear(this, this.myClose);\n        }\n    }]);\n\n    return techTip;\n}(techtipUI);\n\nexports.default = techTip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvYWxlcnQvdGVjaFRpcC5qcz8xM2VlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog562U6aKY5o+Q56S6XG4gKi9cbmltcG9ydCB7IG9ic2VydmVyLG1lc3NhZ2VDZW50ZXIsc2V0Vmlld0NlbnRlcixzY2VuZU1hbmFnZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgdGVjaFRpcCBleHRlbmRzIHRlY2h0aXBVSSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7IFxuICAgICAgICB0aGlzLmluaXQoKTsgXG4gICAgfVxuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy5jbG9zZUJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcbiAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KTsgICAgICAgXG4gICAgfVxuIFxuICAgIHJlZ2lzdGVyQWN0aW9uKHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXIgfSkge1xuICAgICAgICBcbiAgICAgICAgLy8g6K6i6ZiF5by55bGC5Ye6546wXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgndGVjaHRpcCcsIHRoaXMubXlTaG93LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIG15U2hvdyhtc2csIGNvbmZpcm1DYWxsQmFjaywgY2FuY2VsQ2FsbEJhY2spIHtcbiAgICAgICAgIHRoaXMucG9wdXAoKTtcbiAgICAgICAgIExheWEudGltZXIub25jZSgyNTAwLCB0aGlzLCB0aGlzLm15Q2xvc2UpO1xuICAgIH1cbiAgICBteUNsb3NlKCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5teUNsb3NlKTtcbiAgICB9XG5cbiAgICBcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvbWFpbnNjZW5lL2FsZXJ0L3RlY2hUaXAuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTs7Ozs7QUFKQTs7Ozs7QUFJQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBeEJBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./Course/src/mainscene/alert/tips.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 断网提示\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar MessageDialog = function (_tipsUI) {\n    _inherits(MessageDialog, _tipsUI);\n\n    function MessageDialog() {\n        _classCallCheck(this, MessageDialog);\n\n        var _this = _possibleConstructorReturn(this, (MessageDialog.__proto__ || Object.getPrototypeOf(MessageDialog)).call(this));\n\n        _this.confirmCallBack = null;\n        _this.cancelCallBack = null;\n\n        return _this;\n    }\n\n    _createClass(MessageDialog, [{\n        key: 'registerAction',\n        value: function registerAction(_ref) {\n            var messageCenter = _ref.messageCenter,\n                observer = _ref.observer;\n\n            // 订阅弹层出现\n            observer.subscribe('common::tips', this.myShow.bind(this));\n        }\n    }, {\n        key: 'myShow',\n        value: function myShow(msg, confirmCallBack, cancelCallBack) {\n            this.popup();\n        }\n    }, {\n        key: 'myClose',\n        value: function myClose() {\n            this.close();\n            Laya.timer.clear(this, this.myClose);\n        }\n    }]);\n\n    return MessageDialog;\n}(tipsUI);\n\nexports.default = MessageDialog;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvYWxlcnQvdGlwcy5qcz9lOGE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5pat572R5o+Q56S6XG4gKi9cbmltcG9ydCB7IG9ic2VydmVyLG1lc3NhZ2VDZW50ZXIsc2V0Vmlld0NlbnRlcixzY2VuZU1hbmFnZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZURpYWxvZyBleHRlbmRzIHRpcHNVSSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlybUNhbGxCYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW5jZWxDYWxsQmFjayA9IG51bGw7XG4gICAgICAgXG4gICAgfVxuIFxuICAgIHJlZ2lzdGVyQWN0aW9uKHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXIgfSkge1xuICAgICAgICAvLyDorqLpmIXlvLnlsYLlh7rnjrBcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdjb21tb246OnRpcHMnLCB0aGlzLm15U2hvdy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBteVNob3cobXNnLCBjb25maXJtQ2FsbEJhY2ssIGNhbmNlbENhbGxCYWNrKSB7XG4gICAgICAgIHRoaXMucG9wdXAoKTtcbiAgICB9XG4gICAgbXlDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMubXlDbG9zZSk7XG4gICAgfVxuXG4gICAgXG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9hbGVydC90aXBzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBO0FBQ0E7Ozs7O0FBSkE7Ozs7O0FBSUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUtBO0FBQ0E7OztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBbkJBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./Course/src/mainscene/element/afterReport.js ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 课后报告\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar afterReport = function (_afterReportUI) {\n    _inherits(afterReport, _afterReportUI);\n\n    function afterReport() {\n        _classCallCheck(this, afterReport);\n\n        var _this = _possibleConstructorReturn(this, (afterReport.__proto__ || Object.getPrototypeOf(afterReport)).call(this));\n\n        _this.studentAnswerList = []; //答题list\n        _this.reportList = null;\n        _this.rolebox = null; //学生视角box\n        _this.roleBtnArr = []; //学生视角button\n        _this.init();\n        return _this;\n    }\n\n    _createClass(afterReport, [{\n        key: 'registerAction',\n        value: function registerAction(_ref) {\n            var messageCenter = _ref.messageCenter,\n                observer = _ref.observer;\n\n            // 订阅弹层出现\n            observer.subscribe(\"getReport\", this.getReportHandler.bind(this));\n            observer.subscribe(\"closeReport\", this.myClose.bind(this));\n        }\n    }, {\n        key: 'init',\n        value: function init(data) {\n            var _this2 = this;\n\n            if (GM.classMode === \"1v6\") {\n                //添加学生视角box\n                this.rolebox = new Laya.Sprite();\n                this.addChild(this.rolebox);\n                this.rolebox.pos(10, 235);\n                this.rolebox.size(40, 300);\n            }\n\n            // 知识点list  \n            this.nickName.text = \"\";\n            this.level.text = \"\";\n            this.knowledgeList0.array = [];\n            this.knowledgeList0.vScrollBarSkin = \"\";\n            this.knowledgeList1.array = [];\n            this.knowledgeList1.vScrollBarSkin = \"\";\n            this.anserList.vScrollBarSkin = \"res/commonn/vscroll.png\";\n            this.anserList.vScrollBar.width = 15;\n            this.backBtn.visible = false;\n            if (GM.AJAX && GM.IsToken) {\n                if (GM.AJAX.name || GM.AJAX.level_1) {\n                    this.reTitle.text = GM.AJAX.name;\n                    this.level.text = GM.AJAX.level_1;\n                }\n                // 知识点总结  \n                if (GM.AJAX.keywords) {\n                    this.knowledgeAll.text = GM.AJAX.keywords.replace(/,/g, \"  \");\n                }\n\n                if (GM.AJAX.topicExtensions || GM.AJAX.topics) {\n                    this.knowledgeListHandler(GM.AJAX.topicExtensions, 0);\n                    this.knowledgeListHandler(GM.AJAX.topics, 1);\n                }\n            }\n            if (GM.role === 0) {\n                this.backBtn.visible = true;\n                this.backBtn.on(Laya.Event.CLICK, this, function () {\n                    _init_module.messageCenter.emit(\"optClose\", { senderId: GM.senderId });\n                    _this2.myClose();\n                });\n            }\n        }\n\n        //获取课后报告数据 \n\n    }, {\n        key: 'getReportHandler',\n        value: function getReportHandler(data) {\n            this.popup();\n            // 存放所有学生课后报告数据\n            this.reportList = data;\n            //给老师添加切换视角按钮\n            if (GM.classMode === \"1v6\" && GM.role === 0) {\n                this.addStudentroleBtn();\n            }\n            if (Object.keys(data).length > 0) {\n                this.norecode.visible = false;\n                this.head.visible = true;\n                this.levimg.visible = true;\n                console.log(\"课后报告\", data);\n                //根据学生ID存储自己的课后报告数据\n                //老师随机展示 传入不同学生的id\n                console.log(\"当前所有学生\", _room2.default.getInstance().stuIDs);\n                if (GM.role === 1) {\n                    this.reportDataHandler(data, GM.senderId);\n                } else {\n                    var randomitemId = Object.keys(this.reportList)[0];\n                    this.reportDataHandler(data, randomitemId);\n                    this.InitGreen(randomitemId);\n                }\n            } else {\n                this.norecode.visible = true;\n                this.head.visible = false;\n                this.levimg.visible = false;\n            }\n        }\n\n        //添加1v6学生视角按钮\n\n    }, {\n        key: 'addStudentroleBtn',\n        value: function addStudentroleBtn() {\n            var list = Object.keys(this.reportList);\n            if (list.length > 0) {\n                for (var i = 0; i < list.length; i++) {\n                    var sp = new roleIconUI();\n                    sp.txtNum.text = i + 1;\n                    sp.studentId = list[i];\n                    sp.x = 4;\n                    sp.y = 56 * i;\n                    this.roleBtnArr.push(sp);\n                    this.rolebox.addChild(sp);\n                    sp.on(Laya.Event.CLICK, this, this.roleBtnEvent.bind(this), [sp, i]);\n                }\n            }\n        }\n\n        //初始化按钮变绿\n\n    }, {\n        key: 'InitGreen',\n        value: function InitGreen(id) {\n            for (var i in this.roleBtnArr) {\n                if (id === this.roleBtnArr[i].studentId) {\n                    this.roleBtnArr[i].bg.skin = \"res/reports/icon_number1.png\";\n                }\n            }\n        }\n\n        //给1v6学生视角icon绑定事件\n\n    }, {\n        key: 'roleBtnEvent',\n        value: function roleBtnEvent(item, index) {\n            for (var i in this.roleBtnArr) {\n                this.roleBtnArr[i].bg.skin = \"res/reports/icon_number.png\";\n            }\n            item.bg.skin = \"res/reports/icon_number1.png\";\n\n            this.reportDataHandler(this.reportList, item.studentId);\n        }\n\n        // 根据id处理不同的学生数据\n\n    }, {\n        key: 'reportDataHandler',\n        value: function reportDataHandler(data, senderId) {\n            //先清空之前的数据\n            this.studentAnswerList = [];\n            this.anserList.removeChildren();\n            var myreport = void 0;\n            for (var i in data) {\n                myreport = data[senderId];\n            }\n\n            for (var j in myreport) {\n                this.proloadHandler(myreport[j]);\n            }\n\n            this.anserListHandler();\n        }\n\n        //处理课后报告每页数据 ，取完成度最高的\n\n    }, {\n        key: 'proloadHandler',\n        value: function proloadHandler(list) {\n            this.nickName.text = list[0].nickName;\n            var pageName = void 0;\n            // 将数组第一个元素的值赋给max  \n            var max = list[0].proload;\n            var time = list[0].usertime;\n            for (var i = 0; i < list.length; i++) {\n                pageName = list[i].pageName;\n                // 如果元素当前值大于max,就把这个当前值赋值给max\n                if (list[i].proload > max) {\n                    max = list[i].proload;\n                    time = list[i].usertime;\n                }\n            }\n            var item = {\n                usertime: time,\n                proload: max,\n                title: pageName\n\n            };\n            this.studentAnswerList.push(item);\n        }\n\n        //答题list添加panel\n\n    }, {\n        key: 'anserListHandler',\n        value: function anserListHandler() {\n            for (var i in this.studentAnswerList) {\n                var pan = new reportPanel(this.studentAnswerList[i]);\n                pan.x = 0;\n                pan.y = 90 * i;\n                this.anserList.addChild(pan);\n            }\n        }\n\n        //处理知识点list  \n\n    }, {\n        key: 'knowledgeListHandler',\n        value: function knowledgeListHandler(res, listType) {\n            var result = [];\n            res.forEach(function (item, index) {\n                result.push({\n                    kPoint: item\n                });\n            });\n\n            if (listType === 0) {\n                this.knowledgeList0.array = result;\n            } else if (listType === 1) {\n                this.knowledgeList1.array = result;\n            }\n        }\n\n        //删除课后报告切换but\n\n    }, {\n        key: 'roleBtnArrDis',\n        value: function roleBtnArrDis() {\n            for (var i = 0; i < this.roleBtnArr.length; i++) {\n                this.removeChild(this.roleBtnArr[i]);\n                this.roleBtnArr[i].destroy();\n            }\n        }\n    }, {\n        key: 'myClose',\n        value: function myClose() {\n            this.roleBtnArrDis();\n            this.studentAnswerList = [];\n            this.anserList.removeChildren();\n            this.close();\n        }\n    }]);\n\n    return afterReport;\n}(afterReportUI);\n\n/**\n * 答题完成度面板\n */\n\n\nexports.default = afterReport;\n\nvar reportPanel = function (_reportPanelUI) {\n    _inherits(reportPanel, _reportPanelUI);\n\n    function reportPanel(data) {\n        _classCallCheck(this, reportPanel);\n\n        var _this3 = _possibleConstructorReturn(this, (reportPanel.__proto__ || Object.getPrototypeOf(reportPanel)).call(this));\n\n        _this3.init(data);\n        return _this3;\n    }\n\n    _createClass(reportPanel, [{\n        key: 'init',\n        value: function init(data) {\n            if (data.title != null) {\n                this.quesTitle.text = data.title;\n            } else {\n                this.quesTitle.text = \"闯关题\";\n            }\n\n            if (data.usertime > 0) {\n                this.userTime.text = this.formatSeconds(data.usertime);\n            } else {\n                this.userTime.text = \"多练练~\";\n            }\n\n            console.log(\"课后报告每题目\", data);\n            // 进度条默认50%  大于50% 正常显示  错误默认50%\n            if (data.proload > 0.5) {\n                this.proload.width = 317 * data.proload;\n                this.pre.text = parseInt(data.proload * 100) + \"%\";\n            } else {\n                this.proload.width = 158.5;\n                this.pre.text = \"50%\";\n            }\n        }\n    }, {\n        key: 'formatSeconds',\n        value: function formatSeconds(value) {\n            var secondTime = parseInt(value); // 秒\n            var minuteTime = 0; // 分\n            var hourTime = 0; // 小时\n            if (secondTime > 60) {\n                //如果秒数大于60，将秒数转换成整数\n                //获取分钟，除以60取整数，得到整数分钟\n                minuteTime = parseInt(secondTime / 60);\n                //获取秒数，秒数取佘，得到整数秒数\n                secondTime = parseInt(secondTime % 60);\n                //如果分钟大于60，将分钟转换成小时\n                if (minuteTime > 60) {\n                    //获取小时，获取分钟除以60，得到整数小时\n                    hourTime = parseInt(minuteTime / 60);\n                    //获取小时后取佘的分，获取分钟除以60取佘的分\n                    minuteTime = parseInt(minuteTime % 60);\n                }\n            }\n            var result = \"\" + parseInt(secondTime) + \"秒\";\n\n            if (minuteTime > 0) {\n                result = \"\" + parseInt(minuteTime) + \"分\" + result;\n            }\n            if (hourTime > 0) {\n                result = \"\" + parseInt(hourTime) + \"小时\" + result;\n            }\n            return result;\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            this.destory();\n        }\n    }]);\n\n    return reportPanel;\n}(reportPanelUI);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9hZnRlclJlcG9ydC5qcz85MmNhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog6K++5ZCO5oql5ZGKXG4gKi9cbmltcG9ydCB7IG9ic2VydmVyLG1lc3NhZ2VDZW50ZXIsc2V0Vmlld0NlbnRlcixzY2VuZU1hbmFnZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xuaW1wb3J0IFJvb21TY2VuZSBmcm9tICcuLi9yb29tJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGFmdGVyUmVwb3J0IGV4dGVuZHMgYWZ0ZXJSZXBvcnRVSSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R1ZGVudEFuc3dlckxpc3QgPSBbXTsgLy/nrZTpophsaXN0XG4gICAgICAgIHRoaXMucmVwb3J0TGlzdCA9IG51bGw7XG4gICAgICAgIHRoaXMucm9sZWJveCA9IG51bGw7IC8v5a2m55Sf6KeG6KeSYm94XG4gICAgICAgIHRoaXMucm9sZUJ0bkFyciA9IFtdOyAvL+WtpueUn+inhuinkmJ1dHRvblxuICAgICAgICB0aGlzLmluaXQoKTsgICAgIFxuICAgIH1cbiAgICByZWdpc3RlckFjdGlvbih7IG1lc3NhZ2VDZW50ZXIsIG9ic2VydmVyIH0pIHtcbiAgICAgICAgLy8g6K6i6ZiF5by55bGC5Ye6546wXG4gICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoXCJnZXRSZXBvcnRcIix0aGlzLmdldFJlcG9ydEhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoXCJjbG9zZVJlcG9ydFwiLHRoaXMubXlDbG9zZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBpbml0KGRhdGEpeyAgIFxuICAgICAgICBpZihHTS5jbGFzc01vZGUgPT09IFwiMXY2XCIpe1xuICAgICAgICAgICAgLy/mt7vliqDlrabnlJ/op4bop5Jib3hcbiAgICAgICAgICAgIHRoaXMucm9sZWJveCA9IG5ldyBMYXlhLlNwcml0ZSgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnJvbGVib3gpO1xuICAgICAgICAgICAgdGhpcy5yb2xlYm94LnBvcygxMCwyMzUpO1xuICAgICAgICAgICAgdGhpcy5yb2xlYm94LnNpemUoNDAsMzAwKTsgIFxuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgLy8g55+l6K+G54K5bGlzdCAgXG4gICAgICAgIHRoaXMubmlja05hbWUudGV4dCA9IFwiXCI7XG4gICAgICAgIHRoaXMubGV2ZWwudGV4dCA9IFwiXCI7IFxuICAgICAgICB0aGlzLmtub3dsZWRnZUxpc3QwLmFycmF5ID0gW107ICBcbiAgICAgICAgdGhpcy5rbm93bGVkZ2VMaXN0MC52U2Nyb2xsQmFyU2tpbiA9IFwiXCI7IFxuICAgICAgICB0aGlzLmtub3dsZWRnZUxpc3QxLmFycmF5ID0gW107ICBcbiAgICAgICAgdGhpcy5rbm93bGVkZ2VMaXN0MS52U2Nyb2xsQmFyU2tpbiA9IFwiXCI7IFxuICAgICAgICB0aGlzLmFuc2VyTGlzdC52U2Nyb2xsQmFyU2tpbj0gXCJyZXMvY29tbW9ubi92c2Nyb2xsLnBuZ1wiO1xuICAgICAgICB0aGlzLmFuc2VyTGlzdC52U2Nyb2xsQmFyLndpZHRoID0gMTU7XG4gICAgICAgIHRoaXMuYmFja0J0bi52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGlmKEdNLkFKQVggJiYgR00uSXNUb2tlbil7XG4gICAgICAgICAgICBpZihHTS5BSkFYLm5hbWUgfHwgR00uQUpBWC5sZXZlbF8xKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlVGl0bGUudGV4dCA9IEdNLkFKQVgubmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsLnRleHQgPSAgR00uQUpBWC5sZXZlbF8xO1xuICAgICAgICAgICAgfSAgICAgICAgIFxuICAgICAgICAgICAgLy8g55+l6K+G54K55oC757uTICBcbiAgICAgICAgICAgIGlmKEdNLkFKQVgua2V5d29yZHMpe1xuICAgICAgICAgICAgICAgIHRoaXMua25vd2xlZGdlQWxsLnRleHQgPSBHTS5BSkFYLmtleXdvcmRzLnJlcGxhY2UoLywvZywgXCIgIFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoR00uQUpBWC50b3BpY0V4dGVuc2lvbnMgfHwgR00uQUpBWC50b3BpY3Mpe1xuICAgICAgICAgICAgICAgIHRoaXMua25vd2xlZGdlTGlzdEhhbmRsZXIoR00uQUpBWC50b3BpY0V4dGVuc2lvbnMsMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5rbm93bGVkZ2VMaXN0SGFuZGxlcihHTS5BSkFYLnRvcGljcywxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgICAgIFxuICAgICAgICBpZihHTS5yb2xlID09PSAwKXtcbiAgICAgICAgICAgICB0aGlzLmJhY2tCdG4udmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgdGhpcy5iYWNrQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcIm9wdENsb3NlXCIse3NlbmRlcklkOkdNLnNlbmRlcklkfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5teUNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgIFxuICAgIC8v6I635Y+W6K++5ZCO5oql5ZGK5pWw5o2uIFxuICAgIGdldFJlcG9ydEhhbmRsZXIoZGF0YSl7XG4gICAgICAgIHRoaXMucG9wdXAoKTtcbiAgICAgICAgLy8g5a2Y5pS+5omA5pyJ5a2m55Sf6K++5ZCO5oql5ZGK5pWw5o2uXG4gICAgICAgIHRoaXMucmVwb3J0TGlzdCA9IGRhdGE7ICAgIFxuICAgICAgICAvL+e7meiAgeW4iOa3u+WKoOWIh+aNouinhuinkuaMiemSrlxuICAgICAgICBpZihHTS5jbGFzc01vZGUgPT09IFwiMXY2XCIgJiYgR00ucm9sZSA9PT0gMCl7XG4gICAgICAgICAgICB0aGlzLmFkZFN0dWRlbnRyb2xlQnRuKCk7ICBcbiAgICAgICAgfVxuICAgICAgICBpZihPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGg+MCl7XG4gICAgICAgICAgICB0aGlzLm5vcmVjb2RlLnZpc2libGUgPSBmYWxzZTsgIFxuICAgICAgICAgICAgdGhpcy5oZWFkLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sZXZpbWcudmlzaWJsZSA9IHRydWU7ICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuivvuWQjuaKpeWRilwiLGRhdGEpO1xuICAgICAgICAgICAgLy/moLnmja7lrabnlJ9JROWtmOWCqOiHquW3seeahOivvuWQjuaKpeWRiuaVsOaNrlxuICAgICAgICAgICAgLy/ogIHluIjpmo/mnLrlsZXnpLog5Lyg5YWl5LiN5ZCM5a2m55Sf55qEaWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5b2T5YmN5omA5pyJ5a2m55SfXCIsUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuc3R1SURzKTsgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKEdNLnJvbGUgPT09IDEpe1xuICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0RGF0YUhhbmRsZXIoZGF0YSxHTS5zZW5kZXJJZCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZG9taXRlbUlkID0gT2JqZWN0LmtleXModGhpcy5yZXBvcnRMaXN0KVswXVxuICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0RGF0YUhhbmRsZXIoZGF0YSxyYW5kb21pdGVtSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuSW5pdEdyZWVuKHJhbmRvbWl0ZW1JZCk7ICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSAgICAgICAgICBcbiAgICAgICAgICAgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5ub3JlY29kZS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaGVhZC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmxldmltZy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH0gICAgXG4gICAgfVxuXG4gICAgLy/mt7vliqAxdjblrabnlJ/op4bop5LmjInpkq5cbiAgICBhZGRTdHVkZW50cm9sZUJ0bigpe1xuICAgICAgICBsZXQgbGlzdCA9IE9iamVjdC5rZXlzKHRoaXMucmVwb3J0TGlzdCk7XG4gICAgICAgIGlmKGxpc3QubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpPGxpc3QubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICAgICAgbGV0IHNwID0gbmV3IHJvbGVJY29uVUkoKTsgICAgICAgXG4gICAgICAgICAgICAgICAgc3AudHh0TnVtLnRleHQgPSBpKzE7XG4gICAgICAgICAgICAgICAgc3Auc3R1ZGVudElkID0gbGlzdFtpXTtcbiAgICAgICAgICAgICAgICBzcC54ID0gNDtcbiAgICAgICAgICAgICAgICBzcC55ID0gNTYqaTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGVCdG5BcnIucHVzaChzcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yb2xlYm94LmFkZENoaWxkKHNwKTsgICAgICAgICBcbiAgICAgICAgICAgICAgICBzcC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsdGhpcy5yb2xlQnRuRXZlbnQuYmluZCh0aGlzKSxbc3AsaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL+WIneWni+WMluaMiemSruWPmOe7v1xuICAgIEluaXRHcmVlbihpZCl7ICAgIFxuICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5yb2xlQnRuQXJyKXtcbiAgICAgICAgICAgIGlmKGlkID09PSB0aGlzLnJvbGVCdG5BcnJbaV0uc3R1ZGVudElkICl7XG4gICAgICAgICAgICAgICAgdGhpcy5yb2xlQnRuQXJyW2ldLmJnLnNraW4gPSAgXCJyZXMvcmVwb3J0cy9pY29uX251bWJlcjEucG5nXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICAgXG4gICAgfVxuICAgXG4gICAgLy/nu5kxdjblrabnlJ/op4bop5JpY29u57uR5a6a5LqL5Lu2XG4gICAgcm9sZUJ0bkV2ZW50KGl0ZW0saW5kZXgpe1xuICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5yb2xlQnRuQXJyKXtcbiAgICAgICAgICAgIHRoaXMucm9sZUJ0bkFycltpXS5iZy5za2luID0gXCJyZXMvcmVwb3J0cy9pY29uX251bWJlci5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBpdGVtLmJnLnNraW4gPSBcInJlcy9yZXBvcnRzL2ljb25fbnVtYmVyMS5wbmdcIjtcbiAgICAgICAgICBcbiAgICAgICAgdGhpcy5yZXBvcnREYXRhSGFuZGxlcih0aGlzLnJlcG9ydExpc3QsaXRlbS5zdHVkZW50SWQpOyAgIFxuICAgIH1cblxuICAgIC8vIOagueaNrmlk5aSE55CG5LiN5ZCM55qE5a2m55Sf5pWw5o2uXG4gICAgcmVwb3J0RGF0YUhhbmRsZXIoZGF0YSxzZW5kZXJJZCl7XG4gICAgICAgIC8v5YWI5riF56m65LmL5YmN55qE5pWw5o2uXG4gICAgICAgIHRoaXMuc3R1ZGVudEFuc3dlckxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5hbnNlckxpc3QucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgICAgbGV0IG15cmVwb3J0O1xuICAgICAgICBmb3IobGV0IGkgaW4gZGF0YSl7XG4gICAgICAgICAgICBteXJlcG9ydCA9IGRhdGFbc2VuZGVySWRdOyAgICAgICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcihsZXQgaiBpbiBteXJlcG9ydCl7ICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnByb2xvYWRIYW5kbGVyKG15cmVwb3J0W2pdKTtcbiAgICAgICAgfSBcblxuICAgICAgICB0aGlzLmFuc2VyTGlzdEhhbmRsZXIoKTsgICAgXG4gICAgfVxuXG4gICAgLy/lpITnkIbor77lkI7miqXlkYrmr4/pobXmlbDmja4g77yM5Y+W5a6M5oiQ5bqm5pyA6auY55qEXG4gICAgcHJvbG9hZEhhbmRsZXIobGlzdCl7XG4gICAgICAgIHRoaXMubmlja05hbWUudGV4dCA9IGxpc3RbMF0ubmlja05hbWU7XG4gICAgICAgIGxldCBwYWdlTmFtZTtcbiAgICAgICAgLy8g5bCG5pWw57uE56ys5LiA5Liq5YWD57Sg55qE5YC86LWL57uZbWF4ICBcbiAgICAgICAgbGV0IG1heCA9IGxpc3RbMF0ucHJvbG9hZDtcbiAgICAgICAgbGV0IHRpbWUgPSBsaXN0WzBdLnVzZXJ0aW1lO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICBwYWdlTmFtZSA9IGxpc3RbaV0ucGFnZU5hbWU7XG4gICAgICAgICAgICAvLyDlpoLmnpzlhYPntKDlvZPliY3lgLzlpKfkuo5tYXgs5bCx5oqK6L+Z5Liq5b2T5YmN5YC86LWL5YC857uZbWF4XG4gICAgICAgICAgICBpZiAobGlzdFtpXS5wcm9sb2FkID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gbGlzdFtpXS5wcm9sb2FkO1xuICAgICAgICAgICAgICAgIHRpbWUgPSBsaXN0W2ldLnVzZXJ0aW1lO1xuICAgICAgICAgICAgfSAgXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGl0ZW0gPSB7XG4gICAgICAgICAgICB1c2VydGltZTp0aW1lLFxuICAgICAgICAgICAgcHJvbG9hZDptYXgsXG4gICAgICAgICAgICB0aXRsZTpwYWdlTmFtZVxuXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdHVkZW50QW5zd2VyTGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgICBcbiAgICB9XG5cbiAgICAvL+etlOmimGxpc3Tmt7vliqBwYW5lbFxuICAgIGFuc2VyTGlzdEhhbmRsZXIoKXtcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuc3R1ZGVudEFuc3dlckxpc3Qpe1xuICAgICAgICAgICAgbGV0IHBhbiA9IG5ldyByZXBvcnRQYW5lbCh0aGlzLnN0dWRlbnRBbnN3ZXJMaXN0W2ldKTsgICBcbiAgICAgICAgICAgIHBhbi54ID0gMDtcbiAgICAgICAgICAgIHBhbi55ID0gOTAqaTtcbiAgICAgICAgICAgIHRoaXMuYW5zZXJMaXN0LmFkZENoaWxkKHBhbik7XG4gICAgICAgIH0gICAgICAgIFxuICAgIH1cblxuICAgIC8v5aSE55CG55+l6K+G54K5bGlzdCAgXG4gICAga25vd2xlZGdlTGlzdEhhbmRsZXIocmVzLGxpc3RUeXBlKXsgICAgXHRcblx0XHRsZXQgcmVzdWx0ID0gW107XG5cdFx0cmVzLmZvckVhY2goKGl0ZW0saW5kZXgpID0+IHsgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrUG9pbnQgOiBpdGVtLCAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7ICAgICAgICAgXHRcdFxuXHRcdH0pOyAgIFxuICAgICAgICBcbiAgICAgICAgaWYobGlzdFR5cGUgPT09IDApe1xuICAgICAgICAgICAgdGhpcy5rbm93bGVkZ2VMaXN0MC5hcnJheSA9IHJlc3VsdDtcbiAgICAgICAgfWVsc2UgaWYobGlzdFR5cGUgPT09IDEpe1xuICAgICAgICAgICAgdGhpcy5rbm93bGVkZ2VMaXN0MS5hcnJheSA9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8v5Yig6Zmk6K++5ZCO5oql5ZGK5YiH5o2iYnV0XG4gICAgcm9sZUJ0bkFyckRpcygpe1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpPHRoaXMucm9sZUJ0bkFyci5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5yb2xlQnRuQXJyW2ldKTtcbiAgICAgICAgICAgIHRoaXMucm9sZUJ0bkFycltpXS5kZXN0cm95KCk7ICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbXlDbG9zZSgpe1xuICAgICAgICB0aGlzLnJvbGVCdG5BcnJEaXMoKTtcbiAgICAgICAgdGhpcy5zdHVkZW50QW5zd2VyTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmFuc2VyTGlzdC5yZW1vdmVDaGlsZHJlbigpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIOetlOmimOWujOaIkOW6pumdouadv1xuICovXG5jbGFzcyByZXBvcnRQYW5lbCBleHRlbmRzIHJlcG9ydFBhbmVsVUl7XG4gICAgY29uc3RydWN0b3IoZGF0YSl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdChkYXRhKTtcbiAgICB9XG5cbiAgICBpbml0KGRhdGEpe1xuICAgICAgICBpZihkYXRhLnRpdGxlICE9IG51bGwpe1xuICAgICAgICAgICAgdGhpcy5xdWVzVGl0bGUudGV4dCA9IGRhdGEudGl0bGU7IFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMucXVlc1RpdGxlLnRleHQgPSBcIumXr+WFs+mimFwiO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgaWYoZGF0YS51c2VydGltZSA+IDApe1xuICAgICAgICAgICAgIHRoaXMudXNlclRpbWUudGV4dCA9IHRoaXMuZm9ybWF0U2Vjb25kcyhkYXRhLnVzZXJ0aW1lKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLnVzZXJUaW1lLnRleHQgPSBcIuWkmue7g+e7g35cIjtcbiAgICAgICAgfVxuICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhcIuivvuWQjuaKpeWRiuavj+mimOebrlwiLGRhdGEpXG4gICAgICAgIC8vIOi/m+W6puadoem7mOiupDUwJSAg5aSn5LqONTAlIOato+W4uOaYvuekuiAg6ZSZ6K+v6buY6K6kNTAlXG4gICAgICAgIGlmKGRhdGEucHJvbG9hZCA+IDAuNSl7XG4gICAgICAgICAgICB0aGlzLnByb2xvYWQud2lkdGggPSAzMTcqZGF0YS5wcm9sb2FkO1xuICAgICAgICAgICAgdGhpcy5wcmUudGV4dCA9IHBhcnNlSW50KGRhdGEucHJvbG9hZCoxMDApICsgXCIlXCI7XG5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLnByb2xvYWQud2lkdGggPSAxNTguNTtcbiAgICAgICAgICAgIHRoaXMucHJlLnRleHQgPVwiNTAlXCI7ICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9ybWF0U2Vjb25kcyh2YWx1ZSkge1xuICAgICAgICB2YXIgc2Vjb25kVGltZSA9IHBhcnNlSW50KHZhbHVlKTsvLyDnp5JcbiAgICAgICAgdmFyIG1pbnV0ZVRpbWUgPSAwOy8vIOWIhlxuICAgICAgICB2YXIgaG91clRpbWUgPSAwOy8vIOWwj+aXtlxuICAgICAgICBpZihzZWNvbmRUaW1lID4gNjApIHsvL+WmguaenOenkuaVsOWkp+S6jjYw77yM5bCG56eS5pWw6L2s5o2i5oiQ5pW05pWwXG4gICAgICAgICAgICAvL+iOt+WPluWIhumSn++8jOmZpOS7pTYw5Y+W5pW05pWw77yM5b6X5Yiw5pW05pWw5YiG6ZKfXG4gICAgICAgICAgICBtaW51dGVUaW1lID0gcGFyc2VJbnQoc2Vjb25kVGltZSAvIDYwKTtcbiAgICAgICAgICAgIC8v6I635Y+W56eS5pWw77yM56eS5pWw5Y+W5L2Y77yM5b6X5Yiw5pW05pWw56eS5pWwXG4gICAgICAgICAgICBzZWNvbmRUaW1lID0gcGFyc2VJbnQoc2Vjb25kVGltZSAlIDYwKTtcbiAgICAgICAgICAgIC8v5aaC5p6c5YiG6ZKf5aSn5LqONjDvvIzlsIbliIbpkp/ovazmjaLmiJDlsI/ml7ZcbiAgICAgICAgICAgIGlmKG1pbnV0ZVRpbWUgPiA2MCkge1xuICAgICAgICAgICAgICAgIC8v6I635Y+W5bCP5pe277yM6I635Y+W5YiG6ZKf6Zmk5LulNjDvvIzlvpfliLDmlbTmlbDlsI/ml7ZcbiAgICAgICAgICAgICAgICBob3VyVGltZSA9IHBhcnNlSW50KG1pbnV0ZVRpbWUgLyA2MCk7XG4gICAgICAgICAgICAgICAgLy/ojrflj5blsI/ml7blkI7lj5bkvZjnmoTliIbvvIzojrflj5bliIbpkp/pmaTku6U2MOWPluS9mOeahOWIhlxuICAgICAgICAgICAgICAgIG1pbnV0ZVRpbWUgPSBwYXJzZUludChtaW51dGVUaW1lICUgNjApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBcIlwiICsgcGFyc2VJbnQoc2Vjb25kVGltZSkgKyBcIuenklwiO1xuXG4gICAgICAgIGlmKG1pbnV0ZVRpbWUgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBcIlwiICsgcGFyc2VJbnQobWludXRlVGltZSkgKyBcIuWIhlwiICsgcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGlmKGhvdXJUaW1lID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gXCJcIiArIHBhcnNlSW50KGhvdXJUaW1lKSArIFwi5bCP5pe2XCIgKyByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBkaXNwb3NlKCl7XG4gICAgICAgIHRoaXMuZGVzdG9yeSgpO1xuICAgIH1cblxuXG4gICAgXG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9hZnRlclJlcG9ydC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7O0FBTEE7Ozs7O0FBS0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFPQTtBQUNBOzs7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQWhOQTtBQUNBO0FBa05BOzs7OztBQW5OQTtBQUNBO0FBcU5BOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUE3REEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/* no static exports found */
/* all exports used */
/*!***************************!*\
  !*** ./Course/src/app.js ***!
  \***************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _resource = __webpack_require__(/*! ./resource */ 4);\n\nvar _init_module = __webpack_require__(/*! ./module/init_module */ 0);\n\nvar _loading = __webpack_require__(/*! ./mainscene/loading */ 3);\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nvar _room = __webpack_require__(/*! ./mainscene/room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _afterReport = __webpack_require__(/*! ./mainscene/element/afterReport */ 15);\n\nvar _afterReport2 = _interopRequireDefault(_afterReport);\n\nvar _tips = __webpack_require__(/*! ./mainscene/alert/tips */ 14);\n\nvar _tips2 = _interopRequireDefault(_tips);\n\nvar _rankpage = __webpack_require__(/*! ./mainscene/alert/rankpage */ 12);\n\nvar _rankpage2 = _interopRequireDefault(_rankpage);\n\nvar _answerTips = __webpack_require__(/*! ./mainscene/alert/answerTips */ 9);\n\nvar _answerTips2 = _interopRequireDefault(_answerTips);\n\nvar _netTip = __webpack_require__(/*! ./mainscene/alert/netTip */ 11);\n\nvar _netTip2 = _interopRequireDefault(_netTip);\n\nvar _techTip = __webpack_require__(/*! ./mainscene/alert/techTip */ 13);\n\nvar _techTip2 = _interopRequireDefault(_techTip);\n\nvar _flipJudgment = __webpack_require__(/*! ./mainscene/alert/flipJudgment */ 10);\n\nvar _flipJudgment2 = _interopRequireDefault(_flipJudgment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /*\n                                                                                                                                                                                                    入口文件 @param {*liujiaojiao}\n                                                                                                                                                                                                    */\n\n//io模块 && 顶层观察者，各模块间可以通过观察者来通信 && 场景管理器\n\n\n// import {GETJSON} from './data';\nvar IMAGE = Laya.Loader.IMAGE;\nvar ATLAS = Laya.Loader.ATLAS;\nvar SOUND = Laya.Loader.SOUND;\n\n/**\n * 初始化基本配置\n */\n{\n    // Laya3D.init(1200, 900, true);\n    Laya.init(1200, 900, Laya.WebGL); //配置宽高以及启用webgl(如果浏览器支持)\n    if (GM.From === 0) {\n        Laya.URL.version = _resource.GAME_VERSION; // 版本号\n        Laya.Stat.show();\n    }\n    // Laya.Stat.show();    \n    Laya.stage.scaleMode = Laya.Stage.SCALE_FIXED_WIDTH; // 设置适配模式\n    Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL; // 设置适配模式\n    Laya.stage.alignH = Laya.Stage.ALIGN_CENTER; // 设置适配模式\n    Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE; // 设置适配模式\n    Laya.stage.bgColor = \"#ffffff\"; // 设置bgColor\n    Laya.URL.basePath = GM.CDNURL; //设置basepath \n    Laya.UIConfig.popupBgAlpha = 0;\n    //背景音乐失去焦点后 继续播,一定要放在loading的页面前。。。不然soundManager中的事件会将_isActive改为false\n    Laya.SoundManager.autoStopMusic = false;\n    Laya.SoundManager.musicVolume = 0.25;\n    Laya.SoundManager.soundVolume = 1;\n}\n\n/**\n *  loading页优先加载并渲染\n */\n{\n    // console.log([...LIBRARY.LoadingLIBRARY, ...LIBRARY.Common]);\n    Laya.loader.load([].concat(_toConsumableArray(_resource.LIBRARY.LoadingLIBRARY), _toConsumableArray(_resource.LIBRARY.Common)), Laya.Handler.create(undefined, function () {\n        _init_module.messageCenter.emit(\"startLoad\");\n        if (GM.From === 0) {\n            resourceHandle();\n        } else {\n            _init_module.messageCenter.emitAjax(\"library\");\n            _init_module.messageCenter.registerAction(\"library\", resourceHandle);\n        }\n\n        // loading场景\n        _init_module.sceneManager.loadScene(_loading2.default.getInstance());\n        // 浏览器窗口大小变化\n        Laya.stage.on(Laya.Event.RESIZE, undefined, _init_module.setViewCenter);\n        // 绑定消息\n        _init_module.messageCenter.initAction();\n        new _tips2.default().registerAction({ messageCenter: _init_module.messageCenter, observer: _init_module.observer });\n        new _netTip2.default().registerAction({ messageCenter: _init_module.messageCenter, observer: _init_module.observer });\n        if (Laya.Browser.onIPhone || Laya.Browser.onAndroid) {\n            document.addEventListener(\"message\", onMessage, false);\n        } else {\n            window.addEventListener(\"message\", onMessage, false);\n        }\n\n        //socket连接和断开的监听\n        _init_module.observer.subscribe(\"socket\", function (data) {\n            if (data === 'on') {\n                console.log(\"socket重连成功\");\n                _init_module.observer.publish(\"countDownTimeStat\", 'on');\n                //socket 连接成功\n                _init_module.messageCenter.socketOnOperation();\n                _init_module.observer.publish(\"netTip\", 'close');\n                //防止有排名弹层存在。关闭一下\n                _init_module.observer.publish('rank:close', { time: 0 });\n            } else if (data === 'off') {\n                console.log(\"socket连接断开\");\n                _init_module.observer.publish(\"countDownTimeStat\", 'off');\n                //socket 连接失败\n                _init_module.messageCenter.socketOffWait();\n                _init_module.observer.publish(\"netTip\", 'open');\n            }\n        });\n        _init_module.observer.subscribe(\"ack\", function (data) {\n            console.log(\"有回应，发送下一条数据\");\n            _init_module.messageCenter.ackOperation();\n        });\n\n        // 原生安卓和ios的调用的\n        window.postMessageIpad = function (e) {\n            var message = JSON.parse(e);\n            if (GM.role === 1) {\n                postMessageStudent(message.cmd, message.data);\n            } else if (GM.role === 0) {\n                postMessageTeach(message.cmd, message.data);\n            }\n            //  console.log(message);\n            return message;\n        };\n        //判断是否为安卓ipad以及\n    }), null, false);\n}\n\n/**\n * socket监听回调\n */\nfunction onMessage(e) {\n    // console.log(\"接受数据\",e); \n    if (e.source && e.origin && e.data === \"first\") {\n        GM.rootWindow = e.source;\n        GM.rootURL = e.origin;\n        GM.isFrameInWeb = true;\n        e.source.postMessage('getMessage', e.origin);\n    } else {\n        var message = JSON.parse(e.data);\n        // 如果是老师不监听翻页步骤事件  监听学生的答题事件\n        // 学生不监听answerFinsh答题事件 \n        // 老师学生需要同时监听getpage和getstep 重连需要\n        if (GM.role === 1) {\n            postMessageStudent(message.cmd, message.data);\n        } else if (GM.role === 0) {\n            postMessageTeach(message.cmd, message.data);\n        }\n    }\n}\n\n/**\n * 监听所有的外部事件，并且通知其他模块进行相应的操作\n */\n\n/**\n * 老师\n */\nfunction postMessageTeach(cmd, data) {\n    switch (cmd) {\n        case \"getPage\":\n            _init_module.observer.publish('Page', data);\n            break;\n\n        case \"getStep\":\n            _init_module.observer.publish('getStep', data);\n            break;\n\n        case \"answerFinish\":\n            _init_module.observer.publish('answerFinish', data.list);\n            break;\n        case \"canvas\":\n            _init_module.observer.publish('canvasStat', data);\n            break;\n        case \"mouseclick\":\n            if (GM.classMode === \"1v1\") {\n                _init_module.observer.publish('mouseclick', data);\n            }\n            break;\n        //鼠标移动监听\n        // case \"mousemove\":\n        //     if(GM.classMode === \"1v1\" && data.senderId != GM.senderId){\n        //         observer.publish('mousemove',data);\n        //     }\n        // break;\n        case \"socket\":\n            _init_module.observer.publish('socket', data);\n            break;\n        case \"ack\":\n            //排除鼠标点击传送的ack\n            if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) != 'object') {\n                data = JSON.parse(data);\n            }\n            if (data.cmd != \"mouseclick\" || data.cmd != \"sendAnswer\" || data.cmd != \"reanswer\") {\n                _init_module.observer.publish('ack', data);\n            }\n            break;\n        case \"joinClass\":\n            //0是进入 1是离开\n            if (GM.classMode === \"1v1\") {\n                _init_module.observer.publish(\"netTip\", 'close');\n                _init_module.observer.publish(\"countDownTimeStat\", 'on');\n            }\n            _init_module.messageCenter.emit(\"getStudents\", { senderId: GM.senderId });\n            _init_module.messageCenter.emit(\"getUserList\", { senderId: GM.senderId });\n            break;\n        case \"leaveClass\":\n            if (GM.classMode === \"1v1\") {\n                _init_module.observer.publish(\"netTip\", { stat: 'open', senderId: data.senderId });\n                _init_module.observer.publish(\"countDownTimeStat\", 'off');\n            }\n\n            _init_module.observer.publish('stuIdChange', { res: [data], type: 1 });\n            break;\n        case \"rankView\":\n            if (GM.classMode === \"1v1\") {\n                if (data.stat === \"Open\") {\n                    _init_module.observer.publish(\"winwin\");\n                }\n            } else {\n                //开启状态 。并且是 。老师发过来的\n                if (data.stat === \"Open\" && data.stuId == GM.senderId) {\n                    _init_module.observer.publish(\"winwin\");\n                }\n            }\n            break;\n        //排除学生\n        case \"getUserList\":\n            var temparr = [];\n            for (var i in data.list) {\n                if (data.list[i].c == 1 && data.list[i].role != \"student\") {\n                    temparr.push(data.list[i]);\n                }\n            }\n            //  发布旁听生 type 0 进入 1 是离开\n            _init_module.observer.publish('stuIdChange', { res: temparr, type: 0, role: \"observer\" });\n            break;\n\n        case \"getStudents\":\n            //进入Room后主动请求一次\n            //  只有学生\n            _init_module.observer.publish('stuIdChange', { res: data.list, type: 0, role: \"student\" });\n            break;\n        case \"bulletView\":\n            //子弹面板切页接受数据\n            _init_module.observer.publish(\"bulletView\", data);\n            break;\n        case \"getReport\":\n            //课后报告\n            _init_module.observer.publish(\"getReport\", data);\n            break;\n        case \"optStart\":\n            //声音\n            if (data.type === \"Prompt\" && data.senderId != GM.senderId) {\n                _init_module.observer.publish(\"playSound\", data.url, data.id, data.type);\n            }\n\n            break;\n        case \"getAnswerList\":\n            _init_module.observer.publish(\"getAnswerList\", data);\n            break;\n        case \"changeRole\":\n            _init_module.observer.publish(\"changeRole\", data);\n            break;\n        case \"getAnswerState\":\n            _init_module.observer.publish(\"getAnswerState\", data);\n            break;\n\n        case \"Eerror\":\n            console.log(\"Eerror\", data);\n            break;\n    }\n}\n\n/**\n * 学生\n */\nfunction postMessageStudent(cmd, data) {\n    switch (cmd) {\n        case \"getPage\":\n            _init_module.observer.publish('Page', data);\n            break;\n        case \"setPage\":\n            _init_module.observer.publish('Page', data);\n            break;\n        case \"updateStep\":\n            _init_module.observer.publish('updateStep', data);\n            break;\n        case \"getStep\":\n            _init_module.observer.publish('getStep', data);\n            break;\n        case \"answerStart\":\n            _init_module.observer.publish('answerStart', data);\n            break;\n        case \"answerPause\":\n            if (data.endingType) {\n                return;\n            }\n            _init_module.observer.publish('answerStart', data);\n            break;\n        case \"answerFinish\":\n            _init_module.observer.publish('answerFinish', data.list);\n            break;\n        case \"mouseclick\":\n            if (data.role == 0) {\n                _init_module.observer.publish('mouseclick', data);\n            }\n            break;\n        //鼠标移动监听\n        case \"mousemove\":\n            if (data.role == 0) {\n                _init_module.observer.publish('mousemove', data);\n            }\n            break;\n        case \"socket\":\n            _init_module.observer.publish('socket', data);\n            break;\n        case \"ack\":\n            if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) != 'object') {\n                data = JSON.parse(data);\n            }\n            if (data.cmd != \"mouseclick\" || data.cmd != \"sendAnswer\" || data.cmd != \"reanswer\") {\n                _init_module.observer.publish('ack', data);\n            }\n            break;\n        case \"rankView\":\n            if (data.stat === \"Open\") {\n                if (GM.classMode === \"1v1\" && data.ranknum === 0) {\n                    _init_module.observer.publish(\"winwin\");\n                } else {\n                    if (data.stuId == GM.senderId) {\n                        _init_module.observer.publish(\"winwin\");\n                        _init_module.observer.publish('rank:open', data);\n                    }\n                }\n            } else {\n                _init_module.observer.publish('rank:close', data);\n            }\n\n            break;\n\n        case \"joinClass\":\n            //0是进入 1是离开\n            if (GM.classMode === \"1v1\") {\n                _init_module.observer.publish(\"countDownTimeStat\", 'on');\n            }\n            if (data.role == \"teacher\") {\n                _init_module.observer.publish(\"netTip\", 'close');\n            }\n            break;\n        case \"leaveClass\":\n            if (GM.classMode === \"1v1\") {\n                _init_module.observer.publish(\"countDownTimeStat\", 'off');\n            }\n            if (data.role == \"teacher\") {\n                //老师掉线，如果在答题阶段，学生自动结束答题\n                if (_room2.default.getInstance().countUI && !_room2.default.getInstance().answering) {\n\n                    _room2.default.getInstance().countUI.countFinsh(1); //传入参数，就不会弹时间到了弹层\n                }\n                _init_module.observer.publish(\"netTip\", { stat: 'open', senderId: data.senderId });\n            }\n            break;\n        case \"getReport\":\n            //课后报告\n            _init_module.observer.publish(\"getReport\", data);\n            break;\n        case \"optClose\":\n            //课后报告\n            _init_module.observer.publish(\"closeReport\");\n            break;\n        case \"optStart\":\n            //声音\n            if (data.type === \"bgMusic\") {\n                _init_module.observer.publish(\"bgMusic\", data);\n            } else {\n                _init_module.observer.publish(\"playSound\", data.url, data.id, data.type);\n            }\n            break;\n        case \"getAnswerList\":\n            _init_module.observer.publish(\"getAnswerList\", data);\n            break;\n        case \"getAnswerState\":\n            _init_module.observer.publish(\"getAnswerState\", data);\n            break;\n        case \"soundList\":\n            GM.soundFlag = true;\n            for (var i in data) {\n                GM.soundList[data[i].id] = data[i];\n            };\n            _init_module.messageCenter.emit(\"soundsuccess\", data);\n            break;\n        case \"soundLoad\":\n            if (!GM.soundFlag) {\n                // messageCenter.emit(\"console\",data);       \n                _init_module.observer.publish(\"soundLoad\", data);\n            }\n            break;\n    }\n}\n\n/**\n * 存储资源\n */\nfunction resourceHandle(data) {\n    console.log(data);\n    var pagelist = void 0,\n        imageresoure = void 0,\n        imageTemp = void 0;\n    var ImageLibrary = [];\n    var soundList = [];\n    if (data) {\n        if (GM.location === \"location\") {\n            GM.AJAX = data.data; //存放ajax接口数据  \n            pagelist = data.data.pageList; //本地测试正式服接口使用 \n            imageresoure = data.data.library.materials; //本地测试正式服接口使用 \n        } else {\n            //s端传入的是字符串 需要转换\n            var tempdata = JSON.parse(data.data);\n            GM.AJAX = tempdata.msg.data; //存放ajax接口数据  \n            pagelist = tempdata.msg.data.pageList;\n            imageresoure = tempdata.msg.data.library.materials;\n        }\n    } else {\n        // alert(\"data数据为空，走Naughty\");\n        pagelist = window.GETJSON.pageList;\n        imageresoure = window.GETJSON.library.materials;\n    }\n    //根据PageNum排序\n    GM.LIBRARY = pagelist.sort(compare('PageNum'));\n    for (var i = 0; i < imageresoure.length; i++) {\n        if (GM.From === 0) {\n            if (imageresoure[i].SourceType == 0) {\n                console.log(imageresoure[i]);\n                if (imageresoure[i].width > 0) {\n                    imageresoure[i].url = imageresoure[i].url + \"?imageView/2/w/\" + parseInt(imageresoure[i].width * 0.75) + \"/h/\" + parseInt(imageresoure[i].height * 0.75);\n                }\n\n                imageTemp = { url: imageresoure[i].url, type: IMAGE };\n            } else if (imageresoure[i].SourceType == 1) {\n                imageTemp = { url: imageresoure[i].url, type: SOUND };\n                ImageLibrary.push(imageTemp);\n            }\n            if (imageresoure[i].type != \"dragonBone\") {\n                GM.ImageLibrary[imageresoure[i]._id] = { Url: imageresoure[i].url, type: imageresoure[i].type };\n            } else {\n                GM.ImageLibrary[imageresoure[i]._id] = { Url: imageresoure[i].url, type: imageresoure[i].type, jsonFileUrl: imageresoure[i].jsonFileUrl, width: imageresoure[i].width, height: imageresoure[i].height };\n            }\n        } else {\n            if (imageresoure[i].type == \"image\") {\n                imageresoure[i].Url = imageresoure[i].Url + \"?imageView/2/w/\" + parseInt(imageresoure[i].width * 0.75) + \"/h/\" + parseInt(imageresoure[i].height * 0.75);\n                imageTemp = { url: imageresoure[i].Url, type: IMAGE };\n                ImageLibrary.push(imageTemp);\n            } else if (imageresoure[i].type == \"audio\") {\n                if (_init_module.messageCenter.soundoutPlay()) {\n                    soundList.push({ id: imageresoure[i]._id, url: imageresoure[i].Url });\n                } else {\n                    imageTemp = { url: imageresoure[i].Url, type: SOUND };\n                    ImageLibrary.push(imageTemp);\n                }\n            }\n            if (imageresoure[i].type != \"dragonBone\") {\n                GM.ImageLibrary[imageresoure[i]._id] = { Url: imageresoure[i].Url, type: imageresoure[i].type };\n            } else {\n                GM.ImageLibrary[imageresoure[i]._id] = { Url: imageresoure[i].Url, type: imageresoure[i].type, jsonFileUrl: imageresoure[i].jsonFileUrl, width: imageresoure[i].width, height: imageresoure[i].height };\n            }\n        }\n    }\n    //ios pad以及手机发送声音\n    if (_init_module.messageCenter.soundoutPlay()) {\n        _init_module.messageCenter.emit(\"soundList\", soundList);\n    }\n\n    loadImages([].concat(ImageLibrary, _toConsumableArray(_resource.LIBRARY.RoomLIBRARY)));\n}\n\n/**\n * 元素比较\n */\nfunction compare(property) {\n    return function (a, b) {\n        var value1 = a[property];\n        var value2 = b[property];\n        return value1 - value2;\n    };\n}\n\n/**\n * 资源加载\n */\nfunction loadImages(IMAGERESOURCE) {\n    var _this = this;\n\n    // 资源加载完毕后\n    var onLoaded = function onLoaded() {\n        console.warn('大厅&房间————资源加载完成');\n        // 初始化公共提示      \n        new _flipJudgment2.default().registerAction({ messageCenter: _init_module.messageCenter, observer: _init_module.observer });\n        new _rankpage2.default().registerAction({ messageCenter: _init_module.messageCenter, observer: _init_module.observer });\n        new _answerTips2.default().registerAction({ messageCenter: _init_module.messageCenter, observer: _init_module.observer });\n        new _afterReport2.default().registerAction({ messageCenter: _init_module.messageCenter, observer: _init_module.observer });\n        new _techTip2.default().registerAction({ messageCenter: _init_module.messageCenter, observer: _init_module.observer });\n\n        Laya.timer.loop(1, _this, loadroomScene);\n    };\n    var loadView = _loading2.default.getInstance();\n    // 加载资源\n    Laya.loader.load(IMAGERESOURCE, Laya.Handler.create(this, onLoaded), Laya.Handler.create(loadView, loadView.loadImages, null, false));\n}\n\n/**\n * 进入room\n */\nfunction loadroomScene() {\n    //判断是否外部播放\n    if (_init_module.messageCenter.soundoutPlay()) {\n        if (GM.soundFlag) {\n            //缓冲白屏幕     \n            _loading2.default.getInstance().ProgressBar.width += 1;\n            if (_loading2.default.getInstance().ProgressBar.width - 100 > 0) {\n                _loading2.default.getInstance().Cat.x = _loading2.default.getInstance().ProgressBar.width - 30;\n            }\n            if (_loading2.default.getInstance().ProgressBar.width >= 770) {\n                Laya.timer.clear(this, loadroomScene);\n                _loading2.default.getInstance().ProgressBar.width = 770;\n                _loading2.default.getInstance().Cat.x = 700;\n                _init_module.sceneManager.loadScene(_room2.default.getInstance(_init_module.messageCenter));\n            }\n        }\n    } else {\n        _init_module.sceneManager.loadScene(_room2.default.getInstance(_init_module.messageCenter));\n        Laya.timer.clear(this, loadroomScene);\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9hcHAuanM/ZjliNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxu5YWl5Y+j5paH5Lu2IEBwYXJhbSB7KmxpdWppYW9qaWFvfVxuKi9cblxuaW1wb3J0IHtMSUJSQVJZLCBHQU1FX1ZFUlNJT059IGZyb20gJy4vcmVzb3VyY2UnO1xuXG4vL2lv5qih5Z2XICYmIOmhtuWxguinguWvn+iAhe+8jOWQhOaooeWdl+mXtOWPr+S7pemAmui/h+inguWvn+iAheadpemAmuS/oSAmJiDlnLrmma/nrqHnkIblmahcbmltcG9ydCB7IG1lc3NhZ2VDZW50ZXIsIG9ic2VydmVyLCBzY2VuZU1hbmFnZXIsIHNldFZpZXdDZW50ZXIgfSBmcm9tICcuL21vZHVsZS9pbml0X21vZHVsZSc7XG5pbXBvcnQgTG9hZGluZ1NjZW5lIGZyb20gJy4vbWFpbnNjZW5lL2xvYWRpbmcnO1xuaW1wb3J0IFJvb21TY2VuZSBmcm9tICcuL21haW5zY2VuZS9yb29tJztcbmltcG9ydCBhZnRlclJlcG9ydCBmcm9tICcuL21haW5zY2VuZS9lbGVtZW50L2FmdGVyUmVwb3J0JztcbmltcG9ydCBNZXNzYWdlRGlhbG9nIGZyb20gJy4vbWFpbnNjZW5lL2FsZXJ0L3RpcHMnO1xuaW1wb3J0IFJhbmtWaWV3IGZyb20gJy4vbWFpbnNjZW5lL2FsZXJ0L3JhbmtwYWdlJztcbmltcG9ydCBhbnN3ZXJUaXBzIGZyb20gJy4vbWFpbnNjZW5lL2FsZXJ0L2Fuc3dlclRpcHMnOyAgICAgIFxuaW1wb3J0IG5ldFRpcCBmcm9tICcuL21haW5zY2VuZS9hbGVydC9uZXRUaXAnO1xuaW1wb3J0IHRlY2hUaXAgZnJvbSAnLi9tYWluc2NlbmUvYWxlcnQvdGVjaFRpcCc7XG5pbXBvcnQgZmxpcEp1ZGdtZW50IGZyb20gJy4vbWFpbnNjZW5lL2FsZXJ0L2ZsaXBKdWRnbWVudCc7XG4vLyBpbXBvcnQge0dFVEpTT059IGZyb20gJy4vZGF0YSc7XG5sZXQgSU1BR0UgPSBMYXlhLkxvYWRlci5JTUFHRTtcbmxldCBBVExBUyA9IExheWEuTG9hZGVyLkFUTEFTO1xubGV0IFNPVU5EID0gTGF5YS5Mb2FkZXIuU09VTkQ7XG5cbi8qKlxuICog5Yid5aeL5YyW5Z+65pys6YWN572uXG4gKi9cbnsgICBcbiAgICAvLyBMYXlhM0QuaW5pdCgxMjAwLCA5MDAsIHRydWUpO1xuICAgIExheWEuaW5pdCgxMjAwLCA5MDAsTGF5YS5XZWJHTCk7Ly/phY3nva7lrr3pq5jku6Xlj4rlkK/nlKh3ZWJnbCjlpoLmnpzmtY/op4jlmajmlK/mjIEpXG4gICAgaWYoR00uRnJvbSA9PT0gMCl7ICAgICAgXG4gICAgICAgIExheWEuVVJMLnZlcnNpb24gPSBHQU1FX1ZFUlNJT047IC8vIOeJiOacrOWPt1xuICAgICAgICBMYXlhLlN0YXQuc2hvdygpO1xuICAgIH0gICBcbiAgICAvLyBMYXlhLlN0YXQuc2hvdygpOyAgICBcbiAgICBMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IExheWEuU3RhZ2UuU0NBTEVfRklYRURfV0lEVEg7IC8vIOiuvue9rumAgumFjeaooeW8j1xuICAgIExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IExheWEuU3RhZ2UuU0NSRUVOX0hPUklaT05UQUw7Ly8g6K6+572u6YCC6YWN5qih5byPXG4gICAgTGF5YS5zdGFnZS5hbGlnbkggPSBMYXlhLlN0YWdlLkFMSUdOX0NFTlRFUjsvLyDorr7nva7pgILphY3mqKHlvI9cbiAgICBMYXlhLnN0YWdlLmFsaWduViA9IExheWEuU3RhZ2UuQUxJR05fTUlERExFOy8vIOiuvue9rumAgumFjeaooeW8j1xuICAgIExheWEuc3RhZ2UuYmdDb2xvciA9IFwiI2ZmZmZmZlwiOy8vIOiuvue9rmJnQ29sb3JcbiAgICBMYXlhLlVSTC5iYXNlUGF0aCA9IEdNLkNETlVSTDsgIC8v6K6+572uYmFzZXBhdGggXG4gICAgTGF5YS5VSUNvbmZpZy5wb3B1cEJnQWxwaGEgPSAwO1xuICAgIC8v6IOM5pmv6Z+z5LmQ5aSx5Y6754Sm54K55ZCOIOe7p+e7reaSrSzkuIDlrpropoHmlL7lnKhsb2FkaW5n55qE6aG16Z2i5YmN44CC44CC44CC5LiN54S2c291bmRNYW5hZ2Vy5Lit55qE5LqL5Lu25Lya5bCGX2lzQWN0aXZl5pS55Li6ZmFsc2VcbiAgICBMYXlhLlNvdW5kTWFuYWdlci5hdXRvU3RvcE11c2ljID0gZmFsc2U7XG4gICAgTGF5YS5Tb3VuZE1hbmFnZXIubXVzaWNWb2x1bWUgPSAwLjI1O1xuICAgIExheWEuU291bmRNYW5hZ2VyLnNvdW5kVm9sdW1lID0gMTsgICAgXG59XG5cbi8qKlxuICogIGxvYWRpbmfpobXkvJjlhYjliqDovb3lubbmuLLmn5NcbiAqLyBcbnsgXG4gICAgLy8gY29uc29sZS5sb2coWy4uLkxJQlJBUlkuTG9hZGluZ0xJQlJBUlksIC4uLkxJQlJBUlkuQ29tbW9uXSk7XG4gICAgTGF5YS5sb2FkZXIubG9hZChbLi4uTElCUkFSWS5Mb2FkaW5nTElCUkFSWSwgLi4uTElCUkFSWS5Db21tb25dLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHsgIFxuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJzdGFydExvYWRcIik7XG4gICAgICAgIGlmKEdNLkZyb20gPT09IDApe1xuICAgICAgICAgICAgcmVzb3VyY2VIYW5kbGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0QWpheChcImxpYnJhcnlcIik7XG4gICAgICAgICAgICBtZXNzYWdlQ2VudGVyLnJlZ2lzdGVyQWN0aW9uKFwibGlicmFyeVwiLHJlc291cmNlSGFuZGxlKTsgXG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIGxvYWRpbmflnLrmma9cbiAgICAgICAgc2NlbmVNYW5hZ2VyLmxvYWRTY2VuZShMb2FkaW5nU2NlbmUuZ2V0SW5zdGFuY2UoKSk7ICAgICBcbiAgICAgICAgLy8g5rWP6KeI5Zmo56qX5Y+j5aSn5bCP5Y+Y5YyWXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SRVNJWkUsIHRoaXMsc2V0Vmlld0NlbnRlcik7XG4gICAgICAgIC8vIOe7keWumua2iOaBr1xuICAgICAgICBtZXNzYWdlQ2VudGVyLmluaXRBY3Rpb24oKTsgXG4gICAgICAgIG5ldyBNZXNzYWdlRGlhbG9nKCkucmVnaXN0ZXJBY3Rpb24oe21lc3NhZ2VDZW50ZXIsIG9ic2VydmVyfSk7XG4gICAgICAgIG5ldyBuZXRUaXAoKS5yZWdpc3RlckFjdGlvbih7bWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9KTtcbiAgICAgICAgaWYoTGF5YS5Ccm93c2VyLm9uSVBob25lIHx8IExheWEuQnJvd3Nlci5vbkFuZHJvaWQpe1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixvbk1lc3NhZ2UsZmFsc2UpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG9uTWVzc2FnZSxmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3NvY2tldOi/nuaOpeWSjOaWreW8gOeahOebkeWQrFxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoXCJzb2NrZXRcIixmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKGRhdGEgPT09ICdvbicpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic29ja2V06YeN6L+e5oiQ5YqfXCIpO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJjb3VudERvd25UaW1lU3RhdFwiLCdvbicpO1xuICAgICAgICAgICAgICAgIC8vc29ja2V0IOi/nuaOpeaIkOWKn1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuc29ja2V0T25PcGVyYXRpb24oKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwibmV0VGlwXCIsJ2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgLy/pmLLmraLmnInmjpLlkI3lvLnlsYLlrZjlnKjjgILlhbPpl63kuIDkuItcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdyYW5rOmNsb3NlJyx7dGltZSA6IDB9KTtcbiAgICAgICAgICAgIH1lbHNlIGlmKGRhdGEgPT09ICdvZmYnKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNvY2tldOi/nuaOpeaWreW8gFwiKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiY291bnREb3duVGltZVN0YXRcIiwnb2ZmJyk7XG4gICAgICAgICAgICAgICAgLy9zb2NrZXQg6L+e5o6l5aSx6LSlXG4gICAgICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5zb2NrZXRPZmZXYWl0KCk7ICAgICAgICBcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwibmV0VGlwXCIsJ29wZW4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKFwiYWNrXCIsZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuacieWbnuW6lO+8jOWPkemAgeS4i+S4gOadoeaVsOaNrlwiKTtcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuYWNrT3BlcmF0aW9uKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOWOn+eUn+WuieWNk+WSjGlvc+eahOiwg+eUqOeahFxuICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2VJcGFkID0gZnVuY3Rpb24oZSl7ICAgICAgIFxuICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gSlNPTi5wYXJzZShlKTsgICAgICAgICAgXG4gICAgICAgICAgICAgICBpZihHTS5yb2xlID09PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VTdHVkZW50KG1lc3NhZ2UuY21kLG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgICAgICB9ZWxzZSBpZihHTS5yb2xlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VUZWFjaChtZXNzYWdlLmNtZCxtZXNzYWdlLmRhdGEpXG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH07XG4gICAgICAgIC8v5Yik5pat5piv5ZCm5Li65a6J5Y2TaXBhZOS7peWPilxuICAgICAgIFxuICAgIH0pLG51bGwsZmFsc2UpO1xufVxuXG4vKipcbiAqIHNvY2tldOebkeWQrOWbnuiwg1xuICovXG5mdW5jdGlvbiBvbk1lc3NhZ2UoZSl7XG4gICAgLy8gY29uc29sZS5sb2coXCLmjqXlj5fmlbDmja5cIixlKTsgXG4gICAgaWYoZS5zb3VyY2UgJiYgZS5vcmlnaW4gJiYgKGUuZGF0YSA9PT0gXCJmaXJzdFwiKSApe1xuICAgICAgICBHTS5yb290V2luZG93ID0gZS5zb3VyY2U7XG4gICAgICAgIEdNLnJvb3RVUkwgPSBlLm9yaWdpbjtcbiAgICAgICAgR00uaXNGcmFtZUluV2ViID0gdHJ1ZTsgXG4gICAgICAgIGUuc291cmNlLnBvc3RNZXNzYWdlKCdnZXRNZXNzYWdlJyxlLm9yaWdpbik7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAgIHZhciBtZXNzYWdlID0gSlNPTi5wYXJzZShlLmRhdGEpO1xuICAgICAgICAvLyDlpoLmnpzmmK/ogIHluIjkuI3nm5HlkKznv7vpobXmraXpqqTkuovku7YgIOebkeWQrOWtpueUn+eahOetlOmimOS6i+S7tlxuICAgICAgICAvLyDlrabnlJ/kuI3nm5HlkKxhbnN3ZXJGaW5zaOetlOmimOS6i+S7tiBcbiAgICAgICAgLy8g6ICB5biI5a2m55Sf6ZyA6KaB5ZCM5pe255uR5ZCsZ2V0cGFnZeWSjGdldHN0ZXAg6YeN6L+e6ZyA6KaBXG4gICAgICAgIGlmKEdNLnJvbGUgPT09IDEpe1xuICAgICAgICAgICAgcG9zdE1lc3NhZ2VTdHVkZW50KG1lc3NhZ2UuY21kLG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1lbHNlIGlmKEdNLnJvbGUgPT09IDApeyAgICAgICAgICBcbiAgICAgICAgICAgIHBvc3RNZXNzYWdlVGVhY2gobWVzc2FnZS5jbWQsbWVzc2FnZS5kYXRhKTsgICAgICAgIFxuICAgICAgICB9ICAgICAgICBcbiAgICB9ICAgIFxufVxuXG4vKipcbiAqIOebkeWQrOaJgOacieeahOWklumDqOS6i+S7tu+8jOW5tuS4lOmAmuefpeWFtuS7luaooeWdl+i/m+ihjOebuOW6lOeahOaTjeS9nFxuICovICAgICAgICBcblxuLyoqXG4gKiDogIHluIhcbiAqL1xuZnVuY3Rpb24gcG9zdE1lc3NhZ2VUZWFjaChjbWQsZGF0YSl7XG4gICAgIHN3aXRjaChjbWQpe1xuICAgICAgICBjYXNlIFwiZ2V0UGFnZVwiOlxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnUGFnZScsZGF0YSk7ICAgICAgICAgXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIFxuICAgICAgICBjYXNlIFwiZ2V0U3RlcFwiOlxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnZ2V0U3RlcCcsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiYW5zd2VyRmluaXNoXCI6XG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdhbnN3ZXJGaW5pc2gnLGRhdGEubGlzdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNhbnZhc1wiOlxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnY2FudmFzU3RhdCcsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1vdXNlY2xpY2tcIjpcbiAgICAgICAgICAgIGlmKEdNLmNsYXNzTW9kZSA9PT0gXCIxdjFcIil7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnbW91c2VjbGljaycsZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLy/pvKDmoIfnp7vliqjnm5HlkKxcbiAgICAgICAgLy8gY2FzZSBcIm1vdXNlbW92ZVwiOlxuICAgICAgICAvLyAgICAgaWYoR00uY2xhc3NNb2RlID09PSBcIjF2MVwiICYmIGRhdGEuc2VuZGVySWQgIT0gR00uc2VuZGVySWQpe1xuICAgICAgICAvLyAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ21vdXNlbW92ZScsZGF0YSk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIGJyZWFrO1xuICAgICAgICBjYXNlIFwic29ja2V0XCI6XG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdzb2NrZXQnLGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhY2tcIjpcbiAgICAgICAgICAgIC8v5o6S6Zmk6byg5qCH54K55Ye75Lyg6YCB55qEYWNrXG4gICAgICAgICAgICBpZih0eXBlb2YgZGF0YSAhPSAnb2JqZWN0Jyl7XG4gICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihkYXRhLmNtZCAhPSBcIm1vdXNlY2xpY2tcIiB8fCBkYXRhLmNtZCAhPSBcInNlbmRBbnN3ZXJcIiAgfHwgZGF0YS5jbWQgIT0gXCJyZWFuc3dlclwiICl7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnYWNrJyxkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiam9pbkNsYXNzXCI6IC8vMOaYr+i/m+WFpSAx5piv56a75byAXG4gICAgICAgICAgICBpZihHTS5jbGFzc01vZGUgPT09IFwiMXYxXCIpe1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJuZXRUaXBcIiwnY2xvc2UnKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiY291bnREb3duVGltZVN0YXRcIiwnb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcImdldFN0dWRlbnRzXCIse3NlbmRlcklkOkdNLnNlbmRlcklkfSk7XG4gICAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJnZXRVc2VyTGlzdFwiLHtzZW5kZXJJZDpHTS5zZW5kZXJJZH0pOyAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGVhdmVDbGFzc1wiOlxuICAgICAgICAgICAgaWYoR00uY2xhc3NNb2RlID09PSBcIjF2MVwiKXtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwibmV0VGlwXCIsIHtzdGF0IDonb3BlbicgLCBzZW5kZXJJZCA6IGRhdGEuc2VuZGVySWR9KTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiY291bnREb3duVGltZVN0YXRcIiwnb2ZmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ3N0dUlkQ2hhbmdlJyx7cmVzIDogW2RhdGFdICx0eXBlIDogMX0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyYW5rVmlld1wiOlxuICAgICAgICAgICAgaWYoR00uY2xhc3NNb2RlID09PSBcIjF2MVwiKXtcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN0YXQgPT09IFwiT3BlblwiKXsgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwid2lud2luXCIpOyAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAvL+W8gOWQr+eKtuaAgSDjgILlubbkuJTmmK8g44CC6ICB5biI5Y+R6L+H5p2l55qEXG4gICAgICAgICAgICAgICAgIGlmKGRhdGEuc3RhdCA9PT0gXCJPcGVuXCIgJibjgIBkYXRhLnN0dUlkID09IEdNLnNlbmRlcklkKXsgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwid2lud2luXCIpOyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8v5o6S6Zmk5a2m55SfXG4gICAgICAgIGNhc2UgXCJnZXRVc2VyTGlzdFwiOiBcbiAgICAgICAgICAgIGxldCB0ZW1wYXJyID0gW107XG4gICAgICAgICAgICBmb3IobGV0IGkgaW4gZGF0YS5saXN0KXtcbiAgICAgICAgICAgICAgICBpZihkYXRhLmxpc3RbaV0uYyA9PSAxICYmIGRhdGEubGlzdFtpXS5yb2xlICE9IFwic3R1ZGVudFwiKXtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGFyci5wdXNoKGRhdGEubGlzdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gIOWPkeW4g+aXgeWQrOeUnyB0eXBlIDAg6L+b5YWlIDEg5piv56a75byAXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdzdHVJZENoYW5nZScse3JlcyA6IHRlbXBhcnIgLHR5cGUgOiAwLHJvbGU6XCJvYnNlcnZlclwifSk7IFxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImdldFN0dWRlbnRzXCI6IC8v6L+b5YWlUm9vbeWQjuS4u+WKqOivt+axguS4gOasoVxuICAgICAgICAgICAgLy8gIOWPquacieWtpueUn1xuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnc3R1SWRDaGFuZ2UnLHtyZXMgOiBkYXRhLmxpc3QgLHR5cGUgOiAwLHJvbGU6XCJzdHVkZW50XCJ9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYnVsbGV0Vmlld1wiOiAvL+WtkOW8uemdouadv+WIh+mhteaOpeWPl+aVsOaNrlxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcImJ1bGxldFZpZXdcIixkYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZ2V0UmVwb3J0XCI6IC8v6K++5ZCO5oql5ZGKXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiZ2V0UmVwb3J0XCIsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9wdFN0YXJ0XCI6IC8v5aOw6Z+zXG4gICAgICAgICAgICBpZihkYXRhLnR5cGUgPT09IFwiUHJvbXB0XCIgJibjgIBkYXRhLnNlbmRlcklkICE9IEdNLnNlbmRlcklkKXtcbiAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcInBsYXlTb3VuZFwiLGRhdGEudXJsLGRhdGEuaWQsZGF0YS50eXBlKTtcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImdldEFuc3dlckxpc3RcIjpcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJnZXRBbnN3ZXJMaXN0XCIsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNoYW5nZVJvbGVcIjpcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJjaGFuZ2VSb2xlXCIsZGF0YSk7XG4gICAgICAgICAgICBicmVhazsgICAgXG4gICAgICAgIGNhc2UgXCJnZXRBbnN3ZXJTdGF0ZVwiOlxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcImdldEFuc3dlclN0YXRlXCIsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgIFxuICAgICAgICBjYXNlIFwiRWVycm9yXCI6XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVlcnJvclwiLGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7ICAgIFxuICAgICB9XG59XG5cbi8qKlxuICog5a2m55SfXG4gKi9cbmZ1bmN0aW9uIHBvc3RNZXNzYWdlU3R1ZGVudChjbWQsZGF0YSl7XG4gICAgIHN3aXRjaChjbWQpe1xuICAgICAgICBjYXNlIFwiZ2V0UGFnZVwiOlxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnUGFnZScsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNldFBhZ2VcIjpcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ1BhZ2UnLGRhdGEpOyAgIFxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ1cGRhdGVTdGVwXCI6XG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCd1cGRhdGVTdGVwJyxkYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZ2V0U3RlcFwiOlxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnZ2V0U3RlcCcsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFuc3dlclN0YXJ0XCI6XG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdhbnN3ZXJTdGFydCcsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFuc3dlclBhdXNlXCI6XG4gICAgICAgICAgICBpZihkYXRhLmVuZGluZ1R5cGUpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2Fuc3dlclN0YXJ0JyxkYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYW5zd2VyRmluaXNoXCI6XG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdhbnN3ZXJGaW5pc2gnLGRhdGEubGlzdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1vdXNlY2xpY2tcIjpcbiAgICAgICAgICAgIGlmKGRhdGEucm9sZSA9PSAwKXtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdtb3VzZWNsaWNrJyxkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIC8v6byg5qCH56e75Yqo55uR5ZCsXG4gICAgICAgIGNhc2UgXCJtb3VzZW1vdmVcIjpcbiAgICAgICAgICAgIGlmKGRhdGEucm9sZSA9PSAwKXtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdtb3VzZW1vdmUnLGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNvY2tldFwiOlxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnc29ja2V0JyxkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhY2tcIjpcbiAgICAgICAgICAgaWYodHlwZW9mIGRhdGEgIT0gJ29iamVjdCcpe1xuICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGF0YS5jbWQgIT0gXCJtb3VzZWNsaWNrXCIgfHwgZGF0YS5jbWQgIT0gXCJzZW5kQW5zd2VyXCIgIHx8IGRhdGEuY21kICE9IFwicmVhbnN3ZXJcIiApe1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2FjaycsZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmFua1ZpZXdcIjpcbiAgICAgICAgICAgIGlmKGRhdGEuc3RhdCA9PT0gXCJPcGVuXCIpe1xuICAgICAgICAgICAgICAgIGlmKEdNLmNsYXNzTW9kZSA9PT0gXCIxdjFcIiAmJiBkYXRhLnJhbmtudW0gPT09IDAgKXtcbiAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJ3aW53aW5cIik7IFxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0dUlkICA9PSBHTS5zZW5kZXJJZCl7IFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcIndpbndpblwiKTsgIFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgncmFuazpvcGVuJyxkYXRhKTsgXG4gICAgICAgICAgICAgICAgICAgIH0gICAgXG4gICAgICAgICAgICAgICAgfSAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdyYW5rOmNsb3NlJyxkYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiam9pbkNsYXNzXCI6IC8vMOaYr+i/m+WFpSAx5piv56a75byAXG4gICAgICAgICAgICBpZihHTS5jbGFzc01vZGUgPT09IFwiMXYxXCIpe1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJjb3VudERvd25UaW1lU3RhdFwiLCdvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGF0YS5yb2xlID09IFwidGVhY2hlclwiKXtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwibmV0VGlwXCIsJ2Nsb3NlJyk7ICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxlYXZlQ2xhc3NcIjpcbiAgICAgICAgICAgIGlmKEdNLmNsYXNzTW9kZSA9PT0gXCIxdjFcIil7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcImNvdW50RG93blRpbWVTdGF0XCIsJ29mZicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGF0YS5yb2xlID09IFwidGVhY2hlclwiKXtcbiAgICAgICAgICAgICAgICAvL+iAgeW4iOaOiee6v++8jOWmguaenOWcqOetlOmimOmYtuaute+8jOWtpueUn+iHquWKqOe7k+adn+etlOmimFxuICAgICAgICAgICAgICAgIGlmKFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmNvdW50VUkgJiYgIVJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmFuc3dlcmluZyl7XG5cbiAgICAgICAgICAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmNvdW50VUkuY291bnRGaW5zaCgxKTsvL+S8oOWFpeWPguaVsO+8jOWwseS4jeS8muW8ueaXtumXtOWIsOS6huW8ueWxglxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwibmV0VGlwXCIsICB7c3RhdCA6J29wZW4nICwgc2VuZGVySWQgOiBkYXRhLnNlbmRlcklkfSk7ICAgICAgICAgXG4gICAgICAgICAgICB9ICAgICAgICAgICBcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJnZXRSZXBvcnRcIjogLy/or77lkI7miqXlkYpcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJnZXRSZXBvcnRcIixkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvcHRDbG9zZVwiOiAvL+ivvuWQjuaKpeWRilxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcImNsb3NlUmVwb3J0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9wdFN0YXJ0XCI6IC8v5aOw6Z+zXG4gICAgICAgICAgICBpZihkYXRhLnR5cGUgPT09IFwiYmdNdXNpY1wiKXtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiYmdNdXNpY1wiLGRhdGEpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcInBsYXlTb3VuZFwiLGRhdGEudXJsLGRhdGEuaWQsZGF0YS50eXBlKTtcbiAgICAgICAgICAgIH0gICAgICAgICAgIFxuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImdldEFuc3dlckxpc3RcIjpcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJnZXRBbnN3ZXJMaXN0XCIsZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImdldEFuc3dlclN0YXRlXCI6XG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiZ2V0QW5zd2VyU3RhdGVcIixkYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic291bmRMaXN0XCI6XG4gICAgICAgICAgICBHTS5zb3VuZEZsYWcgPSB0cnVlOyAgICAgICAgIFxuICAgICAgICAgICAgZm9yKGxldCBpIGluIGRhdGEpe1xuICAgICAgICAgICAgICAgICBHTS5zb3VuZExpc3RbZGF0YVtpXS5pZF0gPSBkYXRhW2ldO1xuICAgICAgICAgICAgfTsgICAgICAgXG4gICAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJzb3VuZHN1Y2Nlc3NcIixkYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic291bmRMb2FkXCI6XG4gICAgICAgICAgICBpZighR00uc291bmRGbGFnKXtcbiAgICAgICAgICAgICAgICAvLyBtZXNzYWdlQ2VudGVyLmVtaXQoXCJjb25zb2xlXCIsZGF0YSk7ICAgICAgIFxuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJzb3VuZExvYWRcIixkYXRhKTtcbiAgICAgICAgICAgIH0gICAgICBcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cblxuLyoqXG4gKiDlrZjlgqjotYTmupBcbiAqL1xuZnVuY3Rpb24gcmVzb3VyY2VIYW5kbGUoZGF0YSl7XG4gICAgY29uc29sZS5sb2coZGF0YSk7ICAgICAgIFxuICAgIGxldCBwYWdlbGlzdCxpbWFnZXJlc291cmUsaW1hZ2VUZW1wO1xuICAgIGxldCBJbWFnZUxpYnJhcnkgPSBbXTsgICBcbiAgICBsZXQgc291bmRMaXN0ID0gW107XG4gICAgaWYoZGF0YSl7ICAgICAgIFxuICAgICAgICAgICBpZihHTS5sb2NhdGlvbiA9PT0gXCJsb2NhdGlvblwiKXtcbiAgICAgICAgICAgICAgICBHTS5BSkFYID0gZGF0YS5kYXRhICAvL+WtmOaUvmFqYXjmjqXlj6PmlbDmja4gIFxuICAgICAgICAgICAgICAgIHBhZ2VsaXN0ID0gZGF0YS5kYXRhLnBhZ2VMaXN0OyAgIC8v5pys5Zyw5rWL6K+V5q2j5byP5pyN5o6l5Y+j5L2/55SoIFxuICAgICAgICAgICAgICAgIGltYWdlcmVzb3VyZSA9IGRhdGEuZGF0YS5saWJyYXJ5Lm1hdGVyaWFsczsvL+acrOWcsOa1i+ivleato+W8j+acjeaOpeWPo+S9v+eUqCBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIC8vc+err+S8oOWFpeeahOaYr+Wtl+espuS4siDpnIDopoHovazmjaJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcGRhdGEgPSBKU09OLnBhcnNlKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgR00uQUpBWCA9IHRlbXBkYXRhLm1zZy5kYXRhICAvL+WtmOaUvmFqYXjmjqXlj6PmlbDmja4gIFxuICAgICAgICAgICAgICAgIHBhZ2VsaXN0ID0gdGVtcGRhdGEubXNnLmRhdGEucGFnZUxpc3Q7ICAgICBcbiAgICAgICAgICAgICAgICBpbWFnZXJlc291cmUgPSB0ZW1wZGF0YS5tc2cuZGF0YS5saWJyYXJ5Lm1hdGVyaWFscztcbiAgICAgICAgICAgIH0gICAgXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAgIC8vIGFsZXJ0KFwiZGF0YeaVsOaNruS4uuepuu+8jOi1sE5hdWdodHlcIik7XG4gICAgICAgIHBhZ2VsaXN0ID0gd2luZG93LkdFVEpTT04ucGFnZUxpc3Q7ICAgICBcbiAgICAgICAgaW1hZ2VyZXNvdXJlID0gd2luZG93LkdFVEpTT04ubGlicmFyeS5tYXRlcmlhbHM7XG4gICAgfVxuICAgIC8v5qC55o2uUGFnZU51beaOkuW6j1xuICAgIEdNLkxJQlJBUlkgPSBwYWdlbGlzdC5zb3J0KGNvbXBhcmUoJ1BhZ2VOdW0nKSk7ICAgICBcbiAgICBmb3IobGV0IGk9IDA7IGk8IGltYWdlcmVzb3VyZS5sZW5ndGg7IGkrKyl7ICBcbiAgICAgICAgaWYoR00uRnJvbSA9PT0gMCl7XG4gICAgICAgICAgICBpZihpbWFnZXJlc291cmVbaV0uU291cmNlVHlwZSA9PSAwKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbWFnZXJlc291cmVbaV0pO1xuICAgICAgICAgICAgICAgIGlmKGltYWdlcmVzb3VyZVtpXS53aWR0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgaW1hZ2VyZXNvdXJlW2ldLnVybCA9IGltYWdlcmVzb3VyZVtpXS51cmwgKyBcIj9pbWFnZVZpZXcvMi93L1wiK3BhcnNlSW50KGltYWdlcmVzb3VyZVtpXS53aWR0aCowLjc1KStcIi9oL1wiKyBwYXJzZUludChpbWFnZXJlc291cmVbaV0uaGVpZ2h0KjAuNzUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGltYWdlVGVtcCA9IHt1cmw6IGltYWdlcmVzb3VyZVtpXS51cmwgLHR5cGU6IElNQUdFfTtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfWVsc2UgaWYoaW1hZ2VyZXNvdXJlW2ldLlNvdXJjZVR5cGUgPT0gMSl7XG4gICAgICAgICAgICAgICAgaW1hZ2VUZW1wID0ge3VybDogaW1hZ2VyZXNvdXJlW2ldLnVybCx0eXBlOiBTT1VORH07ICAgICAgXG4gICAgICAgICAgICAgICAgSW1hZ2VMaWJyYXJ5LnB1c2goaW1hZ2VUZW1wKTsgICAgICAgXG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgaWYoaW1hZ2VyZXNvdXJlW2ldLnR5cGUhPVwiZHJhZ29uQm9uZVwiKXtcbiAgICAgICAgICAgICAgICBHTS5JbWFnZUxpYnJhcnlbaW1hZ2VyZXNvdXJlW2ldLl9pZF0gPSB7VXJsOmltYWdlcmVzb3VyZVtpXS51cmwsdHlwZTppbWFnZXJlc291cmVbaV0udHlwZX1cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIEdNLkltYWdlTGlicmFyeVtpbWFnZXJlc291cmVbaV0uX2lkXSA9IHtVcmw6aW1hZ2VyZXNvdXJlW2ldLnVybCx0eXBlOmltYWdlcmVzb3VyZVtpXS50eXBlLGpzb25GaWxlVXJsOmltYWdlcmVzb3VyZVtpXS5qc29uRmlsZVVybCAsd2lkdGggOmltYWdlcmVzb3VyZVtpXS53aWR0aCAsIGhlaWdodCA6aW1hZ2VyZXNvdXJlW2ldLmhlaWdodH07IFxuICAgICAgICAgICAgfSAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBpZihpbWFnZXJlc291cmVbaV0udHlwZSA9PSBcImltYWdlXCIpeyAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaW1hZ2VyZXNvdXJlW2ldLlVybCA9IGltYWdlcmVzb3VyZVtpXS5VcmwgKyBcIj9pbWFnZVZpZXcvMi93L1wiK3BhcnNlSW50KGltYWdlcmVzb3VyZVtpXS53aWR0aCowLjc1KStcIi9oL1wiKyBwYXJzZUludChpbWFnZXJlc291cmVbaV0uaGVpZ2h0KjAuNzUpO1xuICAgICAgICAgICAgICAgIGltYWdlVGVtcCA9IHt1cmw6IGltYWdlcmVzb3VyZVtpXS5VcmwsdHlwZTogSU1BR0V9OyAgIFxuICAgICAgICAgICAgICAgIEltYWdlTGlicmFyeS5wdXNoKGltYWdlVGVtcCk7ICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihpbWFnZXJlc291cmVbaV0udHlwZSA9PSBcImF1ZGlvXCIpe1xuICAgICAgICAgICAgICAgIGlmKG1lc3NhZ2VDZW50ZXIuc291bmRvdXRQbGF5KCkpe1xuICAgICAgICAgICAgICAgICAgICBzb3VuZExpc3QucHVzaCh7aWQ6aW1hZ2VyZXNvdXJlW2ldLl9pZCx1cmw6aW1hZ2VyZXNvdXJlW2ldLlVybH0pXG4gICAgICAgICAgICAgICAgfWVsc2V7ICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VUZW1wID0ge3VybDogaW1hZ2VyZXNvdXJlW2ldLlVybCx0eXBlOiBTT1VORH07ICBcbiAgICAgICAgICAgICAgICAgICAgSW1hZ2VMaWJyYXJ5LnB1c2goaW1hZ2VUZW1wKTsgICAgICBcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgaWYoaW1hZ2VyZXNvdXJlW2ldLnR5cGUhPVwiZHJhZ29uQm9uZVwiKXtcbiAgICAgICAgICAgICAgICBHTS5JbWFnZUxpYnJhcnlbaW1hZ2VyZXNvdXJlW2ldLl9pZF0gPSB7VXJsOmltYWdlcmVzb3VyZVtpXS5VcmwsdHlwZTppbWFnZXJlc291cmVbaV0udHlwZX1cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIEdNLkltYWdlTGlicmFyeVtpbWFnZXJlc291cmVbaV0uX2lkXSA9IHtVcmw6aW1hZ2VyZXNvdXJlW2ldLlVybCx0eXBlOmltYWdlcmVzb3VyZVtpXS50eXBlLGpzb25GaWxlVXJsOmltYWdlcmVzb3VyZVtpXS5qc29uRmlsZVVybCx3aWR0aDppbWFnZXJlc291cmVbaV0ud2lkdGgsaGVpZ2h0OmltYWdlcmVzb3VyZVtpXS5oZWlnaHR9OyBcbiAgICAgICAgICAgIH0gICAgICBcbiAgICAgICAgfSAgICAgICAgICAgICAgXG4gICAgfSAgIFxuICAgIC8vaW9zIHBhZOS7peWPiuaJi+acuuWPkemAgeWjsOmfs1xuICAgIGlmKG1lc3NhZ2VDZW50ZXIuc291bmRvdXRQbGF5KCkpe1xuICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwic291bmRMaXN0XCIsc291bmRMaXN0KTtcbiAgICB9XG4gICAgXG4gICAgbG9hZEltYWdlcyhbLi4uSW1hZ2VMaWJyYXJ5LCAuLi5MSUJSQVJZLlJvb21MSUJSQVJZXSk7ICBcbn1cblxuLyoqXG4gKiDlhYPntKDmr5TovoNcbiAqLyBcbmZ1bmN0aW9uIGNvbXBhcmUocHJvcGVydHkpe1xuICAgIHJldHVybiBmdW5jdGlvbihhLGIpe1xuICAgICAgICB2YXIgdmFsdWUxID0gYVtwcm9wZXJ0eV07XG4gICAgICAgIHZhciB2YWx1ZTIgPSBiW3Byb3BlcnR5XTtcbiAgICAgICAgcmV0dXJuIHZhbHVlMSAtIHZhbHVlMjtcbiAgICB9XG59XG5cbi8qKlxuICog6LWE5rqQ5Yqg6L29XG4gKi9cbmZ1bmN0aW9uIGxvYWRJbWFnZXMoSU1BR0VSRVNPVVJDRSl7XG4gICAgLy8g6LWE5rqQ5Yqg6L295a6M5q+V5ZCOXG4gICAgbGV0IG9uTG9hZGVkID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+Wkp+WOhSbmiL/pl7TigJTigJTigJTigJTotYTmupDliqDovb3lrozmiJAnKTtcbiAgICAgICAgLy8g5Yid5aeL5YyW5YWs5YWx5o+Q56S6ICAgICAgXG4gICAgICAgIG5ldyBmbGlwSnVkZ21lbnQoKS5yZWdpc3RlckFjdGlvbih7bWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9KTtcbiAgICAgICAgbmV3IFJhbmtWaWV3KCkucmVnaXN0ZXJBY3Rpb24oe21lc3NhZ2VDZW50ZXIsIG9ic2VydmVyfSk7XG4gICAgICAgIG5ldyBhbnN3ZXJUaXBzKCkucmVnaXN0ZXJBY3Rpb24oe21lc3NhZ2VDZW50ZXIsIG9ic2VydmVyfSk7XG4gICAgICAgIG5ldyBhZnRlclJlcG9ydCgpLnJlZ2lzdGVyQWN0aW9uKHttZXNzYWdlQ2VudGVyLCBvYnNlcnZlcn0pO1xuICAgICAgICBuZXcgdGVjaFRpcCgpLnJlZ2lzdGVyQWN0aW9uKHttZXNzYWdlQ2VudGVyLCBvYnNlcnZlcn0pO1xuICAgICAgICBcbiAgICAgICAgTGF5YS50aW1lci5sb29wKDEsdGhpcyxsb2Fkcm9vbVNjZW5lKTsgICAgICBcbiAgICB9XG4gICAgdmFyIGxvYWRWaWV3ID0gTG9hZGluZ1NjZW5lLmdldEluc3RhbmNlKCk7ICAgIFxuICAgIC8vIOWKoOi9vei1hOa6kFxuICAgICBMYXlhLmxvYWRlci5sb2FkKFxuICAgICAgICBJTUFHRVJFU09VUkNFLFxuICAgICAgICBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIG9uTG9hZGVkKSAsXG4gICAgICAgIExheWEuSGFuZGxlci5jcmVhdGUobG9hZFZpZXcsIGxvYWRWaWV3LmxvYWRJbWFnZXMsIG51bGwsIGZhbHNlKVxuICAgICk7XG59XG5cbi8qKlxuICog6L+b5YWlcm9vbVxuICovXG5mdW5jdGlvbiBsb2Fkcm9vbVNjZW5lKCl7ICBcbiAgICAvL+WIpOaWreaYr+WQpuWklumDqOaSreaUvlxuICAgIGlmKG1lc3NhZ2VDZW50ZXIuc291bmRvdXRQbGF5KCkpeyAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYoR00uc291bmRGbGFnKXsgICAgIFxuICAgICAgICAgIC8v57yT5Yay55m95bGP5bmVICAgICBcbiAgICAgICAgICBMb2FkaW5nU2NlbmUuZ2V0SW5zdGFuY2UoKS5Qcm9ncmVzc0Jhci53aWR0aCs9MTtcbiAgICAgICAgICAgaWYoTG9hZGluZ1NjZW5lLmdldEluc3RhbmNlKCkuUHJvZ3Jlc3NCYXIud2lkdGggLSAxMDAgPiAwICl7XG4gICAgICAgICAgICAgICAgTG9hZGluZ1NjZW5lLmdldEluc3RhbmNlKCkuQ2F0LnggPSBMb2FkaW5nU2NlbmUuZ2V0SW5zdGFuY2UoKS5Qcm9ncmVzc0Jhci53aWR0aC0zMCA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgaWYoTG9hZGluZ1NjZW5lLmdldEluc3RhbmNlKCkuUHJvZ3Jlc3NCYXIud2lkdGg+PTc3MCl7XG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLGxvYWRyb29tU2NlbmUpOyAgXG4gICAgICAgICAgICAgICAgTG9hZGluZ1NjZW5lLmdldEluc3RhbmNlKCkuUHJvZ3Jlc3NCYXIud2lkdGggPSA3NzA7XG4gICAgICAgICAgICAgICAgTG9hZGluZ1NjZW5lLmdldEluc3RhbmNlKCkuQ2F0LnggPSA3MDA7XG4gICAgICAgICAgICAgICAgc2NlbmVNYW5hZ2VyLmxvYWRTY2VuZShSb29tU2NlbmUuZ2V0SW5zdGFuY2UobWVzc2FnZUNlbnRlcikpOyAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgfSAgICAgICBcbiAgICAgICAgfSAgICAgXG4gICAgfWVsc2V7XG4gICAgICAgIHNjZW5lTWFuYWdlci5sb2FkU2NlbmUoUm9vbVNjZW5lLmdldEluc3RhbmNlKG1lc3NhZ2VDZW50ZXIpKTtcbiAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLGxvYWRyb29tU2NlbmUpO1xuICAgIH1cbiAgICAgXG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvYXBwLmpzIl0sIm1hcHBpbmdzIjoiOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQWpCQTs7OztBQU1BO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNHQTtBQTZHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEhBO0FBc0hBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./Course/src/mainscene/Events/mousePass.js ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _laya = __webpack_require__(/*! ../../module/com/laya.custom */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 鼠标传递\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n//io模块 && 顶层观察者，各模块间可以通过观察者来通信 && 场景管理器\n\n\nvar mousePass = function (_Laya$Sprite) {\n    _inherits(mousePass, _Laya$Sprite);\n\n    function mousePass() {\n        _classCallCheck(this, mousePass);\n\n        //鼠标点击位置发送\n        var _this = _possibleConstructorReturn(this, (mousePass.__proto__ || Object.getPrototypeOf(mousePass)).call(this));\n\n        _init_module.observer.subscribe('mouseclick', _this.mouseClick.bind(_this));\n        //添加交互小手和波浪\n        _this.waves = new _laya.createSkeleton(\"res/animate/skeleton\");\n        _this.figer = new _laya.createSkeleton(\"res/animate/figerChange\");\n        _this.addChildren(_this.waves, _this.figer);\n        _this.waves.visible = false;\n        _this.figer.visible = false;\n        return _this;\n    }\n    /**\n     * 发送点击指令 自身播放自身的点击特效动画\n     */\n\n\n    _createClass(mousePass, [{\n        key: 'sendMouseclick',\n        value: function sendMouseclick() {\n            this.mouseClick();\n            for (var i in _room2.default.getInstance().pagebox.itemDic) {\n                if (_room2.default.getInstance().pagebox.itemDic[i].hitTestPoint(Laya.stage.mouseX, Laya.stage.mouseY) && (_room2.default.getInstance().pagebox.itemDic[i].TagType == 1 || _room2.default.getInstance().pagebox.itemDic[i].TagType == 4)) {\n                    //不往下执行\n                    return;\n                }\n            }\n            //GM.role 0 为老师 判断一下\n            _init_module.messageCenter.emit(\"mouseclick\", { sendId: GM.senderId, role: GM.role, x: Laya.stage.mouseX, y: Laya.stage.mouseY });\n        }\n        /**\n         * 交互双方点击不同特效\n         */\n\n    }, {\n        key: 'mouseClick',\n        value: function mouseClick(data) {\n            if (data) {\n                if (data.senderId != GM.senderId) {\n                    if (GM.role == 0) {\n                        //播放小手特效               \n                        this.figer.pos(data.x + 20, data.y + 60);\n                        this.figer.play(0, true);\n                        this.figer.visible = true;\n                        Laya.timer.clear(this, this.visibleFiger);\n                        Laya.timer.once(1000, this, this.visibleFiger);\n                    } else {\n                        //播放波纹               \n                        this.waves.pos(data.x, data.y);\n                        this.waves.play(0, true);\n                        this.waves.visible = true;\n                        Laya.timer.clear(this, this.visibleWave);\n                        Laya.timer.once(1000, this, this.visibleWave);\n                    }\n                }\n            } else {\n                //播放特殊波浪特效\n                console.log(\"播放特殊波浪特效\");\n                this.waves.x = Laya.stage.mouseX;\n                this.waves.y = Laya.stage.mouseY;\n                this.waves.visible = true;\n                this.waves.play(0, true);\n                Laya.timer.clear(this, this.visibleWave);\n                Laya.timer.once(1000, this, this.visibleWave);\n            }\n        }\n        //隐藏波浪\n\n    }, {\n        key: 'visibleWave',\n        value: function visibleWave() {\n            if (this.waves) {\n                this.waves.stop(0, true);\n                this.waves.visible = false;\n            }\n        }\n\n        //隐藏小手\n\n    }, {\n        key: 'visibleFiger',\n        value: function visibleFiger() {\n            if (this.figer) {\n                this.figer.stop(0, true);\n                this.figer.visible = false;\n            }\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            _init_module.observer.unsubscribe(\"mouseclick\");\n            this.removeSelf();\n            this.destroy();\n        }\n    }]);\n\n    return mousePass;\n}(Laya.Sprite);\n\nexports.default = mousePass;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvRXZlbnRzL21vdXNlUGFzcy5qcz9jMzcwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog6byg5qCH5Lyg6YCSXG4gKi9cbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi4vcm9vbSdcbi8vaW/mqKHlnZcgJiYg6aG25bGC6KeC5a+f6ICF77yM5ZCE5qih5Z2X6Ze05Y+v5Lul6YCa6L+H6KeC5a+f6ICF5p2l6YCa5L+hICYmIOWcuuaZr+euoeeQhuWZqFxuaW1wb3J0IHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXIsIHNjZW5lTWFuYWdlciwgc2V0Vmlld0NlbnRlciB9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XG5pbXBvcnQgeyBjcmVhdGVTa2VsZXRvbiB9IGZyb20gJy4uLy4uL21vZHVsZS9jb20vbGF5YS5jdXN0b20nXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBtb3VzZVBhc3MgZXh0ZW5kcyBMYXlhLlNwcml0ZXtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvL+m8oOagh+eCueWHu+S9jee9ruWPkemAgVxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ21vdXNlY2xpY2snLHRoaXMubW91c2VDbGljay5iaW5kKHRoaXMpKVxuICAgICAgICAvL+a3u+WKoOS6pOS6kuWwj+aJi+WSjOazoua1qlxuICAgICAgICB0aGlzLndhdmVzID0gbmV3IGNyZWF0ZVNrZWxldG9uKFwicmVzL2FuaW1hdGUvc2tlbGV0b25cIik7XG4gICAgICAgIHRoaXMuZmlnZXIgPSBuZXcgY3JlYXRlU2tlbGV0b24oXCJyZXMvYW5pbWF0ZS9maWdlckNoYW5nZVwiKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZHJlbih0aGlzLndhdmVzLHRoaXMuZmlnZXIpO1xuICAgICAgICB0aGlzLndhdmVzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5maWdlci52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWPkemAgeeCueWHu+aMh+S7pCDoh6rouqvmkq3mlL7oh6rouqvnmoTngrnlh7vnibnmlYjliqjnlLtcbiAgICAgKi9cbiAgICAgc2VuZE1vdXNlY2xpY2soKXsgIFxuICAgICAgICB0aGlzLm1vdXNlQ2xpY2soKTtcbiAgICAgICAgZm9yKGxldCBpIGluICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94Lml0ZW1EaWMpeyAgXG4gICAgICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94Lml0ZW1EaWNbaV0uaGl0VGVzdFBvaW50KExheWEuc3RhZ2UubW91c2VYLExheWEuc3RhZ2UubW91c2VZKSAmJiAoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5pdGVtRGljW2ldLlRhZ1R5cGUgPT0gMSB8fCBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94Lml0ZW1EaWNbaV0uVGFnVHlwZSA9PSA0KSl7XG4gICAgICAgICAgICAgICAgLy/kuI3lvoDkuIvmiafooYxcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgICAgIC8vR00ucm9sZSAwIOS4uuiAgeW4iCDliKTmlq3kuIDkuItcbiAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwibW91c2VjbGlja1wiLHtzZW5kSWQ6R00uc2VuZGVySWQsIHJvbGUgOiBHTS5yb2xlICx4OkxheWEuc3RhZ2UubW91c2VYICwgeTpMYXlhLnN0YWdlLm1vdXNlWX0pO1xuICAgICB9XG4gICAgLyoqXG4gICAgICog5Lqk5LqS5Y+M5pa554K55Ye75LiN5ZCM54m55pWIXG4gICAgICovXG4gICAgIG1vdXNlQ2xpY2soZGF0YSl7IFxuICAgICAgICAgaWYoZGF0YSl7XG4gICAgICAgICAgICAgaWYoZGF0YS5zZW5kZXJJZCAhPSBHTS5zZW5kZXJJZCl7ICAgIFxuICAgICAgICAgICAgICAgICBpZihHTS5yb2xlID09IDApe1xuICAgICAgICAgICAgICAgICAgICAvL+aSreaUvuWwj+aJi+eJueaViCAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZ2VyLnBvcyhkYXRhLngrMjAsZGF0YS55KzYwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWdlci5wbGF5KDAsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlnZXIudmlzaWJsZSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMudmlzaWJsZUZpZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDEwMDAsdGhpcyx0aGlzLnZpc2libGVGaWdlcik7XG4gICAgICAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAvL+aSreaUvuazoue6uSAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhdmVzLnBvcyhkYXRhLngsZGF0YS55KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXZlcy5wbGF5KDAsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2F2ZXMudmlzaWJsZSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMudmlzaWJsZVdhdmUpO1xuICAgICAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMTAwMCx0aGlzLHRoaXMudmlzaWJsZVdhdmUpO1xuICAgICAgICAgICAgICAgICB9ICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy/mkq3mlL7nibnmrorms6LmtarnibnmlYhcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pKt5pS+54m55q6K5rOi5rWq54m55pWIXCIpXG4gICAgICAgICAgICAgdGhpcy53YXZlcy54ID0gTGF5YS5zdGFnZS5tb3VzZVg7XG4gICAgICAgICAgICAgdGhpcy53YXZlcy55ID0gTGF5YS5zdGFnZS5tb3VzZVk7ICAgIFxuICAgICAgICAgICAgIHRoaXMud2F2ZXMudmlzaWJsZSA9IHRydWU7ICBcbiAgICAgICAgICAgICB0aGlzLndhdmVzLnBsYXkoMCx0cnVlKTtcbiAgICAgICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy52aXNpYmxlV2F2ZSk7XG4gICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDEwMDAsdGhpcyx0aGlzLnZpc2libGVXYXZlKTtcbiAgICAgICAgIH1cblxuICAgICB9XG4gICAgIC8v6ZqQ6JeP5rOi5rWqXG4gICAgIHZpc2libGVXYXZlKCl7XG4gICAgICAgICBpZih0aGlzLndhdmVzKXtcbiAgICAgICAgICAgIHRoaXMud2F2ZXMuc3RvcCgwLHRydWUpO1xuICAgICAgICAgICAgdGhpcy53YXZlcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgfVxuXG4gICAgLy/pmpDol4/lsI/miYtcbiAgICB2aXNpYmxlRmlnZXIoKXtcbiAgICAgICAgaWYodGhpcy5maWdlcil7XG4gICAgICAgICAgICB0aGlzLmZpZ2VyLnN0b3AoMCx0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZmlnZXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKXtcbiAgICAgICAgb2JzZXJ2ZXIudW5zdWJzY3JpYmUoXCJtb3VzZWNsaWNrXCIpOyBcbiAgICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH1cbn1cblxuXG5cbiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvRXZlbnRzL21vdXNlUGFzcy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFDQTtBQUNBO0FBQUE7QUFDQTs7Ozs7OztBQVBBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFVQTtBQUNBOzs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQWhGQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./Course/src/mainscene/animat/anmation.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 动画Animation\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n// Gradual  //渐进\n// Zoom     //缩放\n// Bounce   //弹跳\n// Included //划入\n// FloatIn  //浮入\n// const AntType = {\n//     0:Gradual,\n//     1:Zoom,\n//     2:Bounce,\n//     3:Included,\n//     4:FloatIn\n//     5:擦除  0 1 2 3\n// }\n// // IcdType 出现方式 \n// const IcdType = {\n//     {0:left},\n//     {1:right},\n//     {2:top},\n//     {3:bottom}\n// }\n// // ZoomType缩放方式\n// const ZoomType = {\n//     {0:Self},\n//     {1:Center}\n// }\n// 滑入起始点\n\n\nvar Animation = function (_Laya$Sprite) {\n    _inherits(Animation, _Laya$Sprite);\n\n    function Animation(item, _Animation) {\n        _classCallCheck(this, Animation);\n\n        var _this = _possibleConstructorReturn(this, (Animation.__proto__ || Object.getPrototypeOf(Animation)).call(this));\n\n        _this.item = item;\n        _this.name = item.name;\n        _this.postionX = _this.item.x;\n        _this.postionY = _this.item.y;\n        _this.AntType = _Animation.AntType;\n        _this.IcdType = _Animation.IcdType;\n        _this.ZoomType = _Animation.ZoomType;\n        _this.Timer = _Animation.Timer * 1000;\n        _this.maskTime = _Animation.Timer;\n        _this.FloatInType = null; //浮入动画\n        _this.mask = null; //擦除遮罩\n        _this.MatlabType = [];\n        _this.itemalpha = 0;\n        _this.itemani = item.find(\"spineani\");\n        _this.init();\n        return _this;\n    }\n\n    _createClass(Animation, [{\n        key: 'init',\n        value: function init() {\n            // 监听关闭mask\n            _init_module.observer.subscribe('closeMask', this.destroyMask.bind(this));\n            _init_module.observer.subscribe('clearanimation', this.clearanimation.bind(this));\n            // 时长大于0  无需动画\n            if (this.Timer > 0) {\n                switch (this.AntType) {\n                    case 0:\n                        this.GradualTween();\n                        break;\n                    case 1:\n                        this.zoomTween();\n                        break;\n                    case 2:\n                        this.BounceTween();\n                        break;\n                    case 3:\n                        this.Included();\n                        break;\n                    case 4:\n                        this.FloatIn();\n                        break;\n                    case 5:\n                        this.Matlabsky();\n                        break;\n\n                }\n            }\n        }\n\n        // Gradual渐进\n\n    }, {\n        key: 'GradualTween',\n        value: function GradualTween() {\n            var _this2 = this;\n\n            // console.log(\"渐进\");         \n            var itemRotation = 0;\n            console.log(this.item.rotation);\n            if (this.name === \"shun\" || this.name === \"ni\") {\n                if (this.name === \"shun\") {\n                    itemRotation = 360;\n                } else if (this.name === \"ni\") {\n                    itemRotation = -360;\n                }\n                this.Timer = 3000;\n                this.item.anchorY = 0.9;\n                this.item.y = this.item.y + this.item.height / 2 * 0.8;\n                Laya.Tween.from(this.item, { rotation: 0 }, this.Timer / 6, Laya.Ease.backIn, Laya.Handler.create(this, function () {\n                    Laya.Tween.to(_this2.item, { rotation: itemRotation }, _this2.Timer / 2, Laya.Ease.linearIn, null, 0, true);\n                }));\n            } else {\n                this.item.alpha = 0;\n                Laya.Tween.to(this.item, { alpha: 0 }, this.Timer / 2, Laya.Ease.backIn, Laya.Handler.create(this, function () {\n                    Laya.Tween.to(_this2.item, { alpha: _this2.item.Transparent ? _this2.item.Transparent : 1 }, _this2.Timer / 2, Laya.Ease.linearIn, null);\n                }), false);\n            }\n        }\n\n        //zoom缩放\n\n    }, {\n        key: 'zoomTween',\n        value: function zoomTween() {\n            var _this3 = this;\n\n            // a.从对象中心 缩放。即以该元素为中心点从小到大出现\n            // b.从课件中心 缩放。即该元素以舞台为中心点从小到大出现，最终处于指定位置\n            //  console.log(\"缩放\");   \n            var zoomOriginx = this.postionX;\n            var zoomOriginY = this.postionY;\n            if (this.itemani && this.item.child === null) {\n                zoomOriginx = this.itemani.x + this.itemani.width / 2;\n                zoomOriginY = this.itemani.y;\n            }\n            this.ztype = [{ scaleX: 0, scaleY: 0, x: zoomOriginx, y: zoomOriginY }, { scaleX: 0, scaleY: 0, x: Laya.stage.width / 2, y: Laya.stage.height / 2 }];\n\n            if (this.itemani && this.item.child === null) {\n                Laya.Tween.from(this.itemani, this.ztype[this.ZoomType], this.Timer, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                    Laya.Tween.to(_this3.itemani, { scaleX: 1, scaleY: 1, x: _this3.itemani.x, y: _this3.itemani.y }, _this3.Timer, Laya.Ease.linearIn, null, 0, true);\n                }), 0, true);\n            } else {\n                Laya.Tween.from(this.item, this.ztype[this.ZoomType], this.Timer, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                    Laya.Tween.to(_this3.item, { scaleX: 1, scaleY: 1, x: _this3.postionX, y: _this3.postionY }, _this3.Timer, Laya.Ease.linearIn, null, 0, true);\n                }), 0, true);\n            }\n        }\n\n        //  Bounce   //弹跳原有的高度加60  到100\n\n    }, {\n        key: 'BounceTween',\n        value: function BounceTween() {\n            var _this4 = this;\n\n            // console.log(\"弹跳\");     \n            var delay = this.Timer / 4;\n            Laya.Tween.to(this.item, { y: this.item.y - 60 }, delay, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                Laya.Tween.to(_this4.item, { y: _this4.postionY }, delay, Laya.Ease.linearIn, Laya.Handler.create(_this4, function () {\n                    Laya.Tween.to(_this4.item, { y: _this4.item.y - 30 }, delay, Laya.Ease.linearIn, Laya.Handler.create(_this4, function () {\n                        Laya.Tween.to(_this4.item, { y: _this4.postionY }, delay, Laya.Ease.linearIn, null, 0, true);\n                    }), 0, true);\n                }), 0, true);\n            }), 0, true);\n        }\n\n        //  Included 滑入\n\n    }, {\n        key: 'Included',\n        value: function Included() {\n            var _this5 = this;\n\n            var IncludedType = [{ x: -1200 }, { x: 1200 }, { y: -900 }, { y: 900 }];\n\n            var originX = Number(this.item.Position.split(',')[0]) + this.item.itemWidth / 2;\n            var originY = Number(this.item.Position.split(',')[1]) + this.item.itemHeight / 2;\n            console.log(this.postionX);\n            Laya.Tween.from(this.item, IncludedType[this.IcdType], this.Timer / 2, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                Laya.Tween.to(_this5.item, { x: originX, y: originY }, _this5.Timer / 2, Laya.Ease.linearIn, null, 0, true);\n            }), 0, true);\n\n            // 0左 1 右  \n            // console.log(\"划入\");           \n        }\n\n        // FloatIn  浮入\n\n    }, {\n        key: 'FloatIn',\n        value: function FloatIn() {\n            var _this6 = this;\n\n            // console.log(\"浮入\");        \n            this.FloatInType = [{ x: this.item.x - 100, alpha: 0 }, { x: this.item.x + 100, alpha: 0 }, { y: this.item.y - 100, alpha: 0 }, { y: this.item.y + 100, alpha: 0 }];\n            var originX = Number(this.item.Position.split(',')[0]) + this.item.itemWidth / 2;\n            var originY = Number(this.item.Position.split(',')[1]) + this.item.itemHeight / 2;\n            Laya.Tween.from(this.item, this.FloatInType[this.IcdType], this.Timer / 2, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                Laya.Tween.to(_this6.item, { x: originX, y: originY, alpha: 1 }, _this6.Timer / 2, Laya.Ease.linearIn, null, 0, true);\n            }), 0, true);\n        }\n        // 擦除动画\n\n    }, {\n        key: 'Matlabsky',\n        value: function Matlabsky() {\n            var mask = new Laya.Sprite();\n            this.MatlabType = [{ x: -this.item.width, y: 0, maskX: 5, maskY: 0 }, { x: this.item.width, y: 0, maskX: -5, maskY: 0 }, { x: 0, y: -this.item.height, maskX: 0, maskY: -5 }, { x: 0, y: this.item.height, maskX: 0, maskY: 5 }];\n            mask.graphics.drawRect(this.MatlabType[this.IcdType].x, this.MatlabType[this.IcdType].y, this.item.width, this.item.height, \"ff0000\");\n            // test数据\n            // this.IcdType = 2;\n            // if(this.IcdType === 0){\n            //     mask.graphics.drawRect(-this.item.width,0,this.item.width,this.item.height,\"ff0000\");\n            // }else if(this.IcdType === 1){\n            //     mask.graphics.drawRect(this.item.width,0,this.item.width,this.item.height,\"ff0000\");\n            // }\n            // else if(this.IcdType === 2){\n            //     mask.graphics.drawRect(0,-this.item.height,this.item.width,this.item.height,\"ff0000\");\n            // }\n            // else if(this.IcdType === 3){\n            //     mask.graphics.drawRect(0,this.item.height,this.item.width,this.item.height,\"ff0000\");\n            // }\n\n            this.item.mask = mask;\n            this.item.alpha = 0.2;\n            Laya.timer.loop(1, this, this.MaskPostion, [mask]);\n        }\n    }, {\n        key: 'MaskPostion',\n        value: function MaskPostion(mask) {\n            // console.log(\"擦除方式\",this.IcdType);\n            this.itemalpha += 0.2;\n            this.item.alpha = 1;\n\n            // 0左边 1右边 2上 3下\n            // console.log(this.item.width,this.maskTime);\n            var le = this.item.width / this.Timer;\n            console.log(le);\n            switch (this.IcdType) {\n                case 0:\n                    le = this.item.width / this.Timer * this.item.width / 10;\n                    mask.x += le;\n                    if (mask.x >= this.item.width) {\n                        this.closeMask();\n                    }\n                    break;\n                case 1:\n                    le = this.item.width / this.Timer * this.item.width / 10;\n                    mask.x -= le;\n                    if (mask.x <= -this.item.width) {\n                        this.closeMask();\n                    }\n                    break;\n                case 2:\n                    le = this.item.height / this.Timer * this.item.height / 10;\n                    mask.y += le;\n                    if (mask.y >= this.item.height) {\n                        this.closeMask();\n                    }\n                    break;\n                case 3:\n                    le = this.item.height / this.Timer * this.item.height / 10;\n                    mask.y -= le;\n                    if (mask.y <= -this.item.height) {\n                        this.closeMask();\n                    }\n                    break;\n\n            }\n            // console.log(this.IcdType,mask.x,this.item.width)\n            // mask.x<=-this.item.width 右\n            // mask.x>=this.item.width 左\n            // mask.y>=this.item.height 上\n            // mask.y<=-this.item.height 下\n        }\n    }, {\n        key: 'closeMask',\n        value: function closeMask() {\n            Laya.timer.clear(this, this.MaskPostion);\n            this.item.mask = null;\n            this.item.alpha = 1;\n        }\n    }, {\n        key: 'destroyMask',\n        value: function destroyMask() {\n            Laya.timer.clear(this, this.MaskPostion);\n            this.mask = null;\n            this.item = null;\n        }\n    }, {\n        key: 'clearanimation',\n        value: function clearanimation() {\n            Laya.Tween.clearAll(this.item);\n        }\n    }]);\n\n    return Animation;\n}(Laya.Sprite);\n\nexports.default = Animation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvYW5pbWF0L2FubWF0aW9uLmpzPzA2N2QiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDliqjnlLtBbmltYXRpb25cbiAqL1xuLy8gR3JhZHVhbCAgLy/muJDov5tcbi8vIFpvb20gICAgIC8v57yp5pS+XG4vLyBCb3VuY2UgICAvL+W8uei3s1xuLy8gSW5jbHVkZWQgLy/liJLlhaVcbi8vIEZsb2F0SW4gIC8v5rWu5YWlXG4vLyBjb25zdCBBbnRUeXBlID0ge1xuLy8gICAgIDA6R3JhZHVhbCxcbi8vICAgICAxOlpvb20sXG4vLyAgICAgMjpCb3VuY2UsXG4vLyAgICAgMzpJbmNsdWRlZCxcbi8vICAgICA0OkZsb2F0SW5cbi8vICAgICA1OuaTpumZpCAgMCAxIDIgM1xuLy8gfVxuLy8gLy8gSWNkVHlwZSDlh7rnjrDmlrnlvI8gXG4vLyBjb25zdCBJY2RUeXBlID0ge1xuLy8gICAgIHswOmxlZnR9LFxuLy8gICAgIHsxOnJpZ2h0fSxcbi8vICAgICB7Mjp0b3B9LFxuLy8gICAgIHszOmJvdHRvbX1cbi8vIH1cbi8vIC8vIFpvb21UeXBl57yp5pS+5pa55byPXG4vLyBjb25zdCBab29tVHlwZSA9IHtcbi8vICAgICB7MDpTZWxmfSxcbi8vICAgICB7MTpDZW50ZXJ9XG4vLyB9XG4vLyDmu5HlhaXotbflp4vngrlcblxuXG5cbmltcG9ydCB7IG9ic2VydmVyLG1lc3NhZ2VDZW50ZXIsc2V0Vmlld0NlbnRlcixzY2VuZU1hbmFnZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5pbWF0aW9uIGV4dGVuZHMgTGF5YS5TcHJpdGV7XG4gICAgIGNvbnN0cnVjdG9yKGl0ZW0sQW5pbWF0aW9uKXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICAgICAgdGhpcy5uYW1lID0gaXRlbS5uYW1lO1xuICAgICAgICB0aGlzLnBvc3Rpb25YID0gdGhpcy5pdGVtLng7XG4gICAgICAgIHRoaXMucG9zdGlvblkgPSB0aGlzLml0ZW0ueTtcbiAgICAgICAgdGhpcy5BbnRUeXBlID0gQW5pbWF0aW9uLkFudFR5cGU7XG4gICAgICAgIHRoaXMuSWNkVHlwZSA9IEFuaW1hdGlvbi5JY2RUeXBlO1xuICAgICAgICB0aGlzLlpvb21UeXBlID0gQW5pbWF0aW9uLlpvb21UeXBlO1xuICAgICAgICB0aGlzLlRpbWVyID0gQW5pbWF0aW9uLlRpbWVyKjEwMDA7XG4gICAgICAgIHRoaXMubWFza1RpbWUgPSBBbmltYXRpb24uVGltZXI7XG4gICAgICAgIHRoaXMuRmxvYXRJblR5cGUgPSBudWxsOyAvL+a1ruWFpeWKqOeUu1xuICAgICAgICB0aGlzLm1hc2sgPSBudWxsOyAvL+aTpumZpOmBrue9qVxuICAgICAgICB0aGlzLk1hdGxhYlR5cGUgPSBbXTtcbiAgICAgICAgdGhpcy5pdGVtYWxwaGEgPSAwO1xuICAgICAgICB0aGlzLml0ZW1hbmkgPSBpdGVtLmZpbmQoXCJzcGluZWFuaVwiKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpe1xuICAgICAgIC8vIOebkeWQrOWFs+mXrW1hc2tcbiAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ2Nsb3NlTWFzaycsIHRoaXMuZGVzdHJveU1hc2suYmluZCh0aGlzKSk7ICBcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdjbGVhcmFuaW1hdGlvbicsIHRoaXMuY2xlYXJhbmltYXRpb24uYmluZCh0aGlzKSk7ICBcbiAgICAgICAvLyDml7bplb/lpKfkuo4wICDml6DpnIDliqjnlLtcbiAgICAgICBpZih0aGlzLlRpbWVyID4gMCApe1xuICAgICAgICAgICAgc3dpdGNoKHRoaXMuQW50VHlwZSl7ICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLkdyYWR1YWxUd2VlbigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9vbVR3ZWVuKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Cb3VuY2VUd2VlbigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6ICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLkluY2x1ZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5GbG9hdEluKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5NYXRsYWJza3koKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIH0gIFxuICAgICAgIH1cbiAgICAgICAgIFxuICAgIH1cblxuICAgIC8vIEdyYWR1YWzmuJDov5tcbiAgICBHcmFkdWFsVHdlZW4oKXtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCLmuJDov5tcIik7ICAgICAgICAgXG4gICAgICAgIGxldCBpdGVtUm90YXRpb24gPSAwO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLml0ZW0ucm90YXRpb24pO1xuICAgICAgICBpZih0aGlzLm5hbWUgPT09IFwic2h1blwiIHx8IHRoaXMubmFtZSA9PT0gXCJuaVwiKXsgICAgICAgICBcbiAgICAgICAgICAgIGlmKHRoaXMubmFtZSA9PT0gXCJzaHVuXCIpe1xuICAgICAgICAgICAgICAgIGl0ZW1Sb3RhdGlvbiA9IDM2MDtcbiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMubmFtZSA9PT0gXCJuaVwiKXtcbiAgICAgICAgICAgICAgICBpdGVtUm90YXRpb24gPSAtMzYwO1xuICAgICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgIHRoaXMuVGltZXIgPSAzMDAwOyAgICAgIFxuICAgICAgICAgICB0aGlzLml0ZW0uYW5jaG9yWSA9IDAuOTtcbiAgICAgICAgICAgdGhpcy5pdGVtLnkgPSB0aGlzLml0ZW0ueSArICh0aGlzLml0ZW0uaGVpZ2h0LzIpKjAuODtcbiAgICAgICAgICAgTGF5YS5Ud2Vlbi5mcm9tKHRoaXMuaXRlbSx7cm90YXRpb246MH0sdGhpcy5UaW1lci82LExheWEuRWFzZS5iYWNrSW4sTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57IFxuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5pdGVtLHtyb3RhdGlvbjppdGVtUm90YXRpb259LHRoaXMuVGltZXIvMixMYXlhLkVhc2UubGluZWFySW4sbnVsbCwwLHRydWUpOyAgICAgICAgICAgXG4gICAgICAgICAgIH0pKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgdGhpcy5pdGVtLmFscGhhID0gMDsgIFxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLml0ZW0se2FscGhhOjB9LHRoaXMuVGltZXIvMixMYXlhLkVhc2UuYmFja0luLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+eyAgICAgICAgICBcbiAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuaXRlbSx7YWxwaGE6dGhpcy5pdGVtLlRyYW5zcGFyZW50ID8gdGhpcy5pdGVtLlRyYW5zcGFyZW50IDogMX0sdGhpcy5UaW1lci8yLExheWEuRWFzZS5saW5lYXJJbixudWxsKTtcbiAgICAgICAgICAgIH0pLGZhbHNlKVxuICAgICAgICBcbiAgICAgICAgfSAgICAgXG4gICAgfVxuXG4gICAgLy96b29t57yp5pS+XG4gICAgem9vbVR3ZWVuKCl7XG4gICAgICAgIC8vIGEu5LuO5a+56LGh5Lit5b+DIOe8qeaUvuOAguWNs+S7peivpeWFg+e0oOS4uuS4reW/g+eCueS7juWwj+WIsOWkp+WHuueOsFxuICAgICAgICAvLyBiLuS7juivvuS7tuS4reW/gyDnvKnmlL7jgILljbPor6XlhYPntKDku6XoiJ7lj7DkuLrkuK3lv4Pngrnku47lsI/liLDlpKflh7rnjrDvvIzmnIDnu4jlpITkuo7mjIflrprkvY3nva5cbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwi57yp5pS+XCIpOyAgIFxuICAgICAgICAgbGV0IHpvb21PcmlnaW54ID0gdGhpcy5wb3N0aW9uWCA7XG4gICAgICAgICBsZXQgem9vbU9yaWdpblkgPSB0aGlzLnBvc3Rpb25ZO1xuICAgICAgICAgaWYodGhpcy5pdGVtYW5pICYmIHRoaXMuaXRlbS5jaGlsZCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgIHpvb21PcmlnaW54ID0gdGhpcy5pdGVtYW5pLnggKyB0aGlzLml0ZW1hbmkud2lkdGgvMjtcbiAgICAgICAgICAgICAgem9vbU9yaWdpblkgPSB0aGlzLml0ZW1hbmkueTtcbiAgICAgICAgIH1cbiAgICAgICAgIHRoaXMuenR5cGUgPSBbXG4gICAgICAgICAgICAge3NjYWxlWDowLHNjYWxlWTowLHg6em9vbU9yaWdpbngseTp6b29tT3JpZ2luWX0sXG4gICAgICAgICAgICAge3NjYWxlWDowLHNjYWxlWTowLHg6TGF5YS5zdGFnZS53aWR0aC8yLHk6TGF5YS5zdGFnZS5oZWlnaHQvMn1cbiAgICAgICAgIF1cblxuICAgICAgICBpZih0aGlzLml0ZW1hbmkgJiYgdGhpcy5pdGVtLmNoaWxkID09PSBudWxsKXtcbiAgICAgICAgICAgIExheWEuVHdlZW4uZnJvbSh0aGlzLml0ZW1hbmksdGhpcy56dHlwZVt0aGlzLlpvb21UeXBlXSx0aGlzLlRpbWVyLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PnsgICBcbiAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuaXRlbWFuaSx7c2NhbGVYOjEsc2NhbGVZOjEseDp0aGlzLml0ZW1hbmkueCx5OnRoaXMuaXRlbWFuaS55fSx0aGlzLlRpbWVyLExheWEuRWFzZS5saW5lYXJJbixudWxsLDAsdHJ1ZSk7IFxuICAgICAgICAgICAgfSksMCx0cnVlKTtcblxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIExheWEuVHdlZW4uZnJvbSh0aGlzLml0ZW0sdGhpcy56dHlwZVt0aGlzLlpvb21UeXBlXSx0aGlzLlRpbWVyLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PnsgICAgXG4gICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLml0ZW0se3NjYWxlWDoxLHNjYWxlWToxLHg6dGhpcy5wb3N0aW9uWCx5OnRoaXMucG9zdGlvbll9LHRoaXMuVGltZXIsTGF5YS5FYXNlLmxpbmVhckluLG51bGwsMCx0cnVlKTsgIFxuICAgICAgICAgICAgfSksMCx0cnVlKTtcbiAgICAgICAgfVxuICAgICBcbiAgICAgfVxuXG4gICAgXG4gICAgLy8gIEJvdW5jZSAgIC8v5by56Lez5Y6f5pyJ55qE6auY5bqm5YqgNjAgIOWIsDEwMFxuICAgIEJvdW5jZVR3ZWVuKCl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5by56LezXCIpOyAgICAgXG4gICAgICAgIGxldCBkZWxheSA9IHRoaXMuVGltZXIvNDtcbiAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLml0ZW0se3k6dGhpcy5pdGVtLnktNjB9LGRlbGF5LExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5pdGVtLHt5OnRoaXMucG9zdGlvbll9LGRlbGF5LExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuaXRlbSx7eTp0aGlzLml0ZW0ueS0zMH0sZGVsYXksTGF5YS5FYXNlLmxpbmVhckluLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xuICAgICAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuaXRlbSx7eTp0aGlzLnBvc3Rpb25ZfSxkZWxheSxMYXlhLkVhc2UubGluZWFySW4sbnVsbCwwLHRydWUpO1xuICAgICAgICAgICAgICAgIH0pLDAsdHJ1ZSk7XG4gICAgICAgICAgICB9KSwwLHRydWUpO1xuICAgICAgICB9KSwwLHRydWUpO1xuICAgIH1cblxuICAgIC8vICBJbmNsdWRlZCDmu5HlhaVcbiAgICBJbmNsdWRlZCgpe1xuICAgICAgICBsZXQgSW5jbHVkZWRUeXBlID0gW1xuICAgICAgICAgICAge3g6LTEyMDB9LFxuICAgICAgICAgICAge3g6MTIwMH0sXG4gICAgICAgICAgICB7eTotOTAwfSxcbiAgICAgICAgICAgIHt5OjkwMH0sXG4gICAgICAgIF1cblxuICAgICAgICBsZXQgb3JpZ2luWCA9ICBOdW1iZXIodGhpcy5pdGVtLlBvc2l0aW9uLnNwbGl0KCcsJylbMF0pICsgdGhpcy5pdGVtLml0ZW1XaWR0aC8yO1xuICAgICAgICBsZXQgb3JpZ2luWSA9IE51bWJlcih0aGlzLml0ZW0uUG9zaXRpb24uc3BsaXQoJywnKVsxXSkgKyB0aGlzLml0ZW0uaXRlbUhlaWdodC8yO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvc3Rpb25YKTtcbiAgICAgICAgTGF5YS5Ud2Vlbi5mcm9tKHRoaXMuaXRlbSxJbmNsdWRlZFR5cGVbdGhpcy5JY2RUeXBlXSx0aGlzLlRpbWVyLzIsTGF5YS5FYXNlLmxpbmVhckluLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLml0ZW0se3g6b3JpZ2luWCx5Om9yaWdpbll9LHRoaXMuVGltZXIvMixMYXlhLkVhc2UubGluZWFySW4sbnVsbCwwLHRydWUpO1xuICAgICAgICB9KSwwLHRydWUpO1xuICAgICAgICAgXG4gICAgICAgIC8vIDDlt6YgMSDlj7MgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWIkuWFpVwiKTsgICAgICAgICAgIFxuICAgIH1cblxuICAgIC8vIEZsb2F0SW4gIOa1ruWFpVxuICAgIEZsb2F0SW4oKXtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCLmta7lhaVcIik7ICAgICAgICBcbiAgICAgICAgdGhpcy5GbG9hdEluVHlwZSA9IFtcbiAgICAgICAgICAgICB7eDp0aGlzLml0ZW0ueC0xMDAsYWxwaGE6MH0sXG4gICAgICAgICAgICAge3g6dGhpcy5pdGVtLngrMTAwLGFscGhhOjB9LFxuICAgICAgICAgICAgIHt5OnRoaXMuaXRlbS55LTEwMCxhbHBoYTowfSxcbiAgICAgICAgICAgICB7eTp0aGlzLml0ZW0ueSsxMDAsYWxwaGE6MH0sXG4gICAgICAgIF1cbiAgICAgICAgbGV0IG9yaWdpblggPSAgTnVtYmVyKHRoaXMuaXRlbS5Qb3NpdGlvbi5zcGxpdCgnLCcpWzBdKSArIHRoaXMuaXRlbS5pdGVtV2lkdGgvMjtcbiAgICAgICAgbGV0IG9yaWdpblkgPSBOdW1iZXIodGhpcy5pdGVtLlBvc2l0aW9uLnNwbGl0KCcsJylbMV0pICsgdGhpcy5pdGVtLml0ZW1IZWlnaHQvMjtcbiAgICAgICAgTGF5YS5Ud2Vlbi5mcm9tKHRoaXMuaXRlbSx0aGlzLkZsb2F0SW5UeXBlW3RoaXMuSWNkVHlwZV0sdGhpcy5UaW1lci8yLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5pdGVtLHt4Om9yaWdpblgseTpvcmlnaW5ZLGFscGhhOjF9LHRoaXMuVGltZXIvMixMYXlhLkVhc2UubGluZWFySW4sbnVsbCwwLHRydWUpO1xuICAgICAgICB9KSwwLHRydWUpO1xuICAgIH0gXG4gICAgLy8g5pOm6Zmk5Yqo55S7XG4gICAgTWF0bGFic2t5KCl7XG4gICAgICAgIGxldCBtYXNrID0gbmV3IExheWEuU3ByaXRlKCk7XG4gICAgICAgIHRoaXMuTWF0bGFiVHlwZSA9IFtcbiAgICAgICAgICAgIHt4Oi10aGlzLml0ZW0ud2lkdGgseTowLG1hc2tYOjUsbWFza1k6MH0sXG4gICAgICAgICAgICB7eDp0aGlzLml0ZW0ud2lkdGgseTowLG1hc2tYOi01LG1hc2tZOjB9LFxuICAgICAgICAgICAge3g6MCx5Oi10aGlzLml0ZW0uaGVpZ2h0LG1hc2tYOjAsbWFza1k6LTV9LFxuICAgICAgICAgICAge3g6MCx5OnRoaXMuaXRlbS5oZWlnaHQsbWFza1g6MCxtYXNrWTo1fVxuICAgICAgICBdXG4gICAgICAgIG1hc2suZ3JhcGhpY3MuZHJhd1JlY3QodGhpcy5NYXRsYWJUeXBlW3RoaXMuSWNkVHlwZV0ueCx0aGlzLk1hdGxhYlR5cGVbdGhpcy5JY2RUeXBlXS55LHRoaXMuaXRlbS53aWR0aCx0aGlzLml0ZW0uaGVpZ2h0LFwiZmYwMDAwXCIpO1xuICAgICAgICAvLyB0ZXN05pWw5o2uXG4gICAgICAgIC8vIHRoaXMuSWNkVHlwZSA9IDI7XG4gICAgICAgIC8vIGlmKHRoaXMuSWNkVHlwZSA9PT0gMCl7XG4gICAgICAgIC8vICAgICBtYXNrLmdyYXBoaWNzLmRyYXdSZWN0KC10aGlzLml0ZW0ud2lkdGgsMCx0aGlzLml0ZW0ud2lkdGgsdGhpcy5pdGVtLmhlaWdodCxcImZmMDAwMFwiKTtcbiAgICAgICAgLy8gfWVsc2UgaWYodGhpcy5JY2RUeXBlID09PSAxKXtcbiAgICAgICAgLy8gICAgIG1hc2suZ3JhcGhpY3MuZHJhd1JlY3QodGhpcy5pdGVtLndpZHRoLDAsdGhpcy5pdGVtLndpZHRoLHRoaXMuaXRlbS5oZWlnaHQsXCJmZjAwMDBcIik7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gZWxzZSBpZih0aGlzLkljZFR5cGUgPT09IDIpe1xuICAgICAgICAvLyAgICAgbWFzay5ncmFwaGljcy5kcmF3UmVjdCgwLC10aGlzLml0ZW0uaGVpZ2h0LHRoaXMuaXRlbS53aWR0aCx0aGlzLml0ZW0uaGVpZ2h0LFwiZmYwMDAwXCIpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGVsc2UgaWYodGhpcy5JY2RUeXBlID09PSAzKXtcbiAgICAgICAgLy8gICAgIG1hc2suZ3JhcGhpY3MuZHJhd1JlY3QoMCx0aGlzLml0ZW0uaGVpZ2h0LHRoaXMuaXRlbS53aWR0aCx0aGlzLml0ZW0uaGVpZ2h0LFwiZmYwMDAwXCIpO1xuICAgICAgICAvLyB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLml0ZW0ubWFzayA9IG1hc2s7ICBcbiAgICAgICAgdGhpcy5pdGVtLmFscGhhID0gMC4yO1xuICAgICAgICBMYXlhLnRpbWVyLmxvb3AoMSx0aGlzLHRoaXMuTWFza1Bvc3Rpb24sW21hc2tdKTtcbiAgICAgICAgXG4gICAgfVxuICAgXG4gICAgTWFza1Bvc3Rpb24obWFzayl7ICBcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCLmk6bpmaTmlrnlvI9cIix0aGlzLkljZFR5cGUpO1xuICAgICAgICB0aGlzLml0ZW1hbHBoYSs9MC4yOyBcbiAgICAgICAgdGhpcy5pdGVtLmFscGhhID0gMTtcbiAgICAgICAgXG4gICAgICAgIC8vIDDlt6bovrkgMeWPs+i+uSAy5LiKIDPkuItcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pdGVtLndpZHRoLHRoaXMubWFza1RpbWUpO1xuICAgICAgICBsZXQgbGUgPSB0aGlzLml0ZW0ud2lkdGgvdGhpcy5UaW1lcjtcbiAgICAgICAgY29uc29sZS5sb2cobGUpO1xuICAgICAgICBzd2l0Y2godGhpcy5JY2RUeXBlKXtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBsZSA9ICgodGhpcy5pdGVtLndpZHRoL3RoaXMuVGltZXIpKnRoaXMuaXRlbS53aWR0aCkvMTA7XG4gICAgICAgICAgICAgICAgbWFzay54Kz1sZTsgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZihtYXNrLng+PXRoaXMuaXRlbS53aWR0aCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNYXNrKCk7ICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGxlID0gKCh0aGlzLml0ZW0ud2lkdGgvdGhpcy5UaW1lcikqdGhpcy5pdGVtLndpZHRoKS8xMDtcbiAgICAgICAgICAgICAgICBtYXNrLngtPWxlOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZihtYXNrLng8PS10aGlzLml0ZW0ud2lkdGggKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1hc2soKTtcbiAgICAgICAgICAgICAgICB9ICAgICAgIFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGxlID0gKCh0aGlzLml0ZW0uaGVpZ2h0L3RoaXMuVGltZXIpKnRoaXMuaXRlbS5oZWlnaHQpLzEwO1xuICAgICAgICAgICAgICAgIG1hc2sueSs9bGU7ICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZihtYXNrLnk+PXRoaXMuaXRlbS5oZWlnaHQpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTWFzaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICBsZSA9ICgodGhpcy5pdGVtLmhlaWdodC90aGlzLlRpbWVyKSp0aGlzLml0ZW0uaGVpZ2h0KS8xMDtcbiAgICAgICAgICAgICAgICAgbWFzay55LT1sZTtcbiAgICAgICAgICAgICAgICAgaWYobWFzay55PD0tdGhpcy5pdGVtLmhlaWdodCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNYXNrKCk7XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG5cbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLkljZFR5cGUsbWFzay54LHRoaXMuaXRlbS53aWR0aClcbiAgICAgICAgLy8gbWFzay54PD0tdGhpcy5pdGVtLndpZHRoIOWPs1xuICAgICAgICAvLyBtYXNrLng+PXRoaXMuaXRlbS53aWR0aCDlt6ZcbiAgICAgICAgLy8gbWFzay55Pj10aGlzLml0ZW0uaGVpZ2h0IOS4ilxuICAgICAgICAvLyBtYXNrLnk8PS10aGlzLml0ZW0uaGVpZ2h0IOS4i1xuICAgXG4gICAgfVxuXG4gICAgY2xvc2VNYXNrKCl7XG4gICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy5NYXNrUG9zdGlvbik7ICBcbiAgICAgICAgIHRoaXMuaXRlbS5tYXNrID0gbnVsbDtcbiAgICAgICAgIHRoaXMuaXRlbS5hbHBoYSA9IDE7IFxuICAgIH1cblxuICAgIGRlc3Ryb3lNYXNrKCl7XG4gICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy5NYXNrUG9zdGlvbik7ICBcbiAgICAgICAgIHRoaXMubWFzayA9IG51bGw7XG4gICAgICAgICB0aGlzLml0ZW0gPSBudWxsOyAgICAgXG4gICAgfVxuXG4gICAgY2xlYXJhbmltYXRpb24oKXtcbiAgICAgICAgTGF5YS5Ud2Vlbi5jbGVhckFsbCh0aGlzLml0ZW0pO1xuICAgIH1cblxuXG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvYW5pbWF0L2FubWF0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQWdDQTtBQUNBOzs7OztBQWpDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQWlCQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBcUJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0JBO0FBZ0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBeFBBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./Course/src/mainscene/animat/bgAnimation.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 背景循环\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar bg2postion = [{ x: 1200, y: 0 }, //从右到左\n{ x: -1200, y: 0 }, //从左到右\n{ x: 0, y: -900 }, { x: 0, y: 900 }];\nvar aniSpeed = [5000, 3000, 7000];\n\nvar bgAnimation = function (_Laya$Sprite) {\n    _inherits(bgAnimation, _Laya$Sprite);\n\n    function bgAnimation(bgurl, CirculationMode, CirculationSpeed) {\n        _classCallCheck(this, bgAnimation);\n\n        var _this = _possibleConstructorReturn(this, (bgAnimation.__proto__ || Object.getPrototypeOf(bgAnimation)).call(this));\n\n        _this.bg1 = null;\n        _this.bg2 = null;\n        _this.bgurl = bgurl;\n        _this.CirculationSpeed = CirculationSpeed; //循环速度\n        _this.CirculationMode = CirculationMode; //循环模式 \n        _this.init();\n        return _this;\n    }\n\n    _createClass(bgAnimation, [{\n        key: 'init',\n        value: function init() {\n            //创建背景1\n            this.bg1 = new Laya.Image(this.bgurl);\n            this.bg1.size(1200, 900);\n            //加载并显示背景图\n            // this.bg1.loadImage(this.bgurl);\n            //把背景图显示在容器内\n            this.addChild(this.bg1);\n            //创建背景2\n            this.bg2 = new Laya.Image(this.bgurl);\n            //加载并显示背景图\n            this.bg2.loadImage(this.bgurl);\n            // bg2的位置四个地方都不同\n            this.bg2.size(1200, 900);\n            //把背景图显示在容器内\n            this.addChild(this.bg2);\n            //根据动画方式  pos到不同位置\n            var bgpo = bg2postion[this.CirculationMode - 1];\n            // console.log(bgpo,\"weizhi\")\n            this.bg2.pos(bgpo.x, bgpo.y);\n\n            //创建一个帧循环，更新容器的位置  \n            Laya.timer.loop(1, this, this.accordAnimode);\n        }\n        //根据动画模式修改动画\n\n    }, {\n        key: 'accordAnimode',\n        value: function accordAnimode() {\n            var speed = aniSpeed[this.CirculationSpeed];\n            switch (this.CirculationMode) {\n                case 2:\n                    //从左到右 。\n                    this.x += speed / 1200;\n                    if (this.bg1.x + this.x >= 1200) {\n                        this.bg1.x -= 1200 * 2;\n                    }\n                    if (this.bg2.x + this.x >= 1200) {\n                        this.bg2.x -= 1200 * 2;\n                    }\n                    break;\n                case 1:\n                    //从右边到\n                    this.x -= speed / 1200;\n                    if (this.bg1.x + this.x <= -1200) {\n                        this.bg1.x += 1200 * 2;\n                    }\n                    // 1200 \n                    if (this.bg2.x + this.x <= -1200) {\n                        this.bg2.x += 1200 * 2;\n                    }\n                    break;\n                case 3:\n                    this.y += speed / 900;\n                    if (this.bg1.y + this.y >= 900) {\n                        this.bg1.y -= 900 * 2;\n                    }\n                    if (this.bg2.y + this.y >= 900) {\n                        this.bg2.y -= 900 * 2;\n                    }\n                    break;\n                case 4:\n                    this.y -= speed / 900;\n                    if (this.bg1.y + this.y <= -900) {\n                        this.bg1.y += 900 * 2;\n                    }\n                    if (this.bg2.y + this.y <= -900) {\n                        this.bg2.y += 900 * 2;\n                    }\n                    break;\n            }\n        }\n    }, {\n        key: 'stopbgAnimation',\n        value: function stopbgAnimation() {\n            Laya.timer.clear(this, this.accordAnimode);\n        }\n    }]);\n\n    return bgAnimation;\n}(Laya.Sprite);\n// 动画方式 。以及 时间 \n/// <summary>\n/// 背景循环模式\n/// </summary>\n//     public enum CirculationMode\n//     {\n//         Static, //静止 。0\n//         RightToLeft,//从 右到左1\n//         LeftToRight,//从左到右2\n//         TopToDown,  //从上到下3\n//         DownToTop, //从下到上4\n//     }\n// 王玮  10:27:20\n//   public enum CirculationSpeed\n//     {\n//         Normal,   //正常 。0 。 5\n//         Slow,//慢 。1 。7\n//         Fast,//快 。2  3\n//     }\n\n\nexports.default = bgAnimation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvYW5pbWF0L2JnQW5pbWF0aW9uLmpzPzZkYTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDog4zmma/lvqrnjq9cbiAqL1xuaW1wb3J0IHsgb2JzZXJ2ZXIsbWVzc2FnZUNlbnRlcixzZXRWaWV3Q2VudGVyLHNjZW5lTWFuYWdlciB9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XG5cbmNvbnN0IGJnMnBvc3Rpb24gPSBbXG4gICAge3g6MTIwMCx5OjB9LCAgLy/ku47lj7PliLDlt6ZcbiAgICB7eDotMTIwMCx5OjB9LCAvL+S7juW3puWIsOWPs1xuICAgIHt4OjAseTotOTAwfSxcbiAgICB7eDowLHk6OTAwfSxcbl1cbmNvbnN0IGFuaVNwZWVkID0gWzUwMDAsMzAwMCw3MDAwXTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGJnQW5pbWF0aW9uIGV4dGVuZHMgTGF5YS5TcHJpdGV7XG4gICAgY29uc3RydWN0b3IoYmd1cmwsQ2lyY3VsYXRpb25Nb2RlLENpcmN1bGF0aW9uU3BlZWQpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmJnMSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmcyID0gbnVsbDtcbiAgICAgICAgdGhpcy5iZ3VybCA9IGJndXJsO1xuICAgICAgICB0aGlzLkNpcmN1bGF0aW9uU3BlZWQgPSBDaXJjdWxhdGlvblNwZWVkOyAvL+W+queOr+mAn+W6plxuICAgICAgICB0aGlzLkNpcmN1bGF0aW9uTW9kZSA9IENpcmN1bGF0aW9uTW9kZTsgLy/lvqrnjq/mqKHlvI8gXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKXtcbiAgICAgICAgLy/liJvlu7rog4zmma8xXG4gICAgICAgIHRoaXMuYmcxID0gbmV3IExheWEuSW1hZ2UodGhpcy5iZ3VybCk7XG4gICAgICAgIHRoaXMuYmcxLnNpemUoMTIwMCw5MDApO1xuICAgICAgICAvL+WKoOi9veW5tuaYvuekuuiDjOaZr+WbvlxuICAgICAgICAvLyB0aGlzLmJnMS5sb2FkSW1hZ2UodGhpcy5iZ3VybCk7XG4gICAgICAgIC8v5oqK6IOM5pmv5Zu+5pi+56S65Zyo5a655Zmo5YaFXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5iZzEpO1xuICAgICAgICAvL+WIm+W7uuiDjOaZrzJcbiAgICAgICAgdGhpcy5iZzIgPSBuZXcgTGF5YS5JbWFnZSh0aGlzLmJndXJsKTtcbiAgICAgICAgLy/liqDovb3lubbmmL7npLrog4zmma/lm75cbiAgICAgICAgdGhpcy5iZzIubG9hZEltYWdlKHRoaXMuYmd1cmwpO1xuICAgICAgICAvLyBiZzLnmoTkvY3nva7lm5vkuKrlnLDmlrnpg73kuI3lkIxcbiAgICAgICAgdGhpcy5iZzIuc2l6ZSgxMjAwLDkwMCk7ICAgICBcbiAgICAgICAgLy/miorog4zmma/lm77mmL7npLrlnKjlrrnlmajlhoVcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmJnMik7IFxuICAgICAgICAvL+agueaNruWKqOeUu+aWueW8jyAgcG9z5Yiw5LiN5ZCM5L2N572uXG4gICAgICAgIGxldCBiZ3BvID0gYmcycG9zdGlvblt0aGlzLkNpcmN1bGF0aW9uTW9kZS0xXTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYmdwbyxcIndlaXpoaVwiKVxuICAgICAgICB0aGlzLmJnMi5wb3MoYmdwby54LGJncG8ueSk7XG4gICAgICAgIFxuICAgICAgICAvL+WIm+W7uuS4gOS4quW4p+W+queOr++8jOabtOaWsOWuueWZqOeahOS9jee9riAgXG4gICAgICAgIExheWEudGltZXIubG9vcCgxLHRoaXMsdGhpcy5hY2NvcmRBbmltb2RlKTsgXG4gICAgfVxuICAgIC8v5qC55o2u5Yqo55S75qih5byP5L+u5pS55Yqo55S7XG4gICAgYWNjb3JkQW5pbW9kZSgpe1xuICAgICAgICBsZXQgc3BlZWQgPSBhbmlTcGVlZFt0aGlzLkNpcmN1bGF0aW9uU3BlZWRdXG4gICAgICAgIHN3aXRjaCh0aGlzLkNpcmN1bGF0aW9uTW9kZSl7XG4gICAgICAgICAgICBjYXNlIDI6IC8v5LuO5bem5Yiw5Y+zIOOAglxuICAgICAgICAgICAgICAgIHRoaXMueCs9c3BlZWQvMTIwMFxuICAgICAgICAgICAgICAgIGlmKHRoaXMuYmcxLngrdGhpcy54Pj0xMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZzEueC09MTIwMCoyO1xuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih0aGlzLmJnMi54K3RoaXMueD49MTIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmcyLngtPTEyMDAqMjtcbiAgICAgICAgICAgICAgICB9ICBcbiAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAxOiAvL+S7juWPs+i+ueWIsFxuICAgICAgICAgICAgICAgIHRoaXMueC09c3BlZWQvMTIwMFxuICAgICAgICAgICAgICAgIGlmKHRoaXMuYmcxLngrdGhpcy54PD0tMTIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmcxLngrPTEyMDAqMjtcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gMTIwMCBcbiAgICAgICAgICAgICAgICBpZih0aGlzLmJnMi54K3RoaXMueDw9LTEyMDApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJnMi54Kz0xMjAwKjI7XG4gICAgICAgICAgICAgICAgfSAgXG4gICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLnkrPXNwZWVkLzkwMFxuICAgICAgICAgICAgICAgIGlmKHRoaXMuYmcxLnkrdGhpcy55Pj05MDApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJnMS55LT05MDAqMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5iZzIueSt0aGlzLnk+PTkwMCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmcyLnktPTkwMCoyO1xuICAgICAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMueS09c3BlZWQvOTAwXG4gICAgICAgICAgICAgICAgaWYodGhpcy5iZzEueSt0aGlzLnk8PS05MDApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJnMS55Kz05MDAqMjtcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5iZzIueSt0aGlzLnk8PS05MDApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJnMi55Kz05MDAqMjtcbiAgICAgICAgICAgICAgICB9ICBcbiAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RvcGJnQW5pbWF0aW9uKCl7XG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyx0aGlzLmFjY29yZEFuaW1vZGUpO1xuICAgIH1cblxuXG5cblxuXG5cbn1cbi8vIOWKqOeUu+aWueW8jyDjgILku6Xlj4og5pe26Ze0IFxuLy8vIDxzdW1tYXJ5PlxuICAgIC8vLyDog4zmma/lvqrnjq/mqKHlvI9cbiAgICAvLy8gPC9zdW1tYXJ5PlxuLy8gICAgIHB1YmxpYyBlbnVtIENpcmN1bGF0aW9uTW9kZVxuLy8gICAgIHtcbi8vICAgICAgICAgU3RhdGljLCAvL+mdmeatoiDjgIIwXG4vLyAgICAgICAgIFJpZ2h0VG9MZWZ0LC8v5LuOIOWPs+WIsOW3pjFcbi8vICAgICAgICAgTGVmdFRvUmlnaHQsLy/ku47lt6bliLDlj7MyXG4vLyAgICAgICAgIFRvcFRvRG93biwgIC8v5LuO5LiK5Yiw5LiLM1xuLy8gICAgICAgICBEb3duVG9Ub3AsIC8v5LuO5LiL5Yiw5LiKNFxuLy8gICAgIH1cbi8vIOeOi+eOriAgMTA6Mjc6MjBcbi8vICAgcHVibGljIGVudW0gQ2lyY3VsYXRpb25TcGVlZFxuLy8gICAgIHtcbi8vICAgICAgICAgTm9ybWFsLCAgIC8v5q2j5bi4IOOAgjAg44CCIDVcbi8vICAgICAgICAgU2xvdywvL+aFoiDjgIIxIOOAgjdcbi8vICAgICAgICAgRmFzdCwvL+W/qyDjgIIyICAzXG4vLyAgICAgfVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9hbmltYXQvYmdBbmltYXRpb24uanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTs7Ozs7QUFKQTs7Ozs7QUFLQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhDQTtBQTBDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBcEZBO0FBNEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhIQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./Course/src/mainscene/element/SaveBeforeInfo.js ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n* 存放下一步元素;\n*/\n// export default class SaveBeforeInfo extends Laya.Sprite{\nvar SaveBeforeInfo =\n//保存是否可见和是否可见用于拖拽\n//pageChild中index对应的元素  和 index\nfunction SaveBeforeInfo(tempData, pageChildIndex, pageChildbox) {\n    _classCallCheck(this, SaveBeforeInfo);\n\n    // super();\n    this.TempData = tempData;\n    this.PageChildIndex = pageChildIndex;\n    this.pageChildbox = pageChildbox;\n};\n\nexports.default = SaveBeforeInfo;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9TYXZlQmVmb3JlSW5mby5qcz80MzkyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4qIOWtmOaUvuS4i+S4gOatpeWFg+e0oDtcbiovXG4vLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBTYXZlQmVmb3JlSW5mbyBleHRlbmRzIExheWEuU3ByaXRle1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2F2ZUJlZm9yZUluZm97XG4gICAgLy/kv53lrZjmmK/lkKblj6/op4HlkozmmK/lkKblj6/op4HnlKjkuo7mi5bmi71cbiAgICAvL3BhZ2VDaGlsZOS4rWluZGV45a+55bqU55qE5YWD57SgICDlkowgaW5kZXhcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wRGF0YSxwYWdlQ2hpbGRJbmRleCxwYWdlQ2hpbGRib3gpe1xuICAgICAgICAvLyBzdXBlcigpO1xuICAgICAgICB0aGlzLlRlbXBEYXRhID0gdGVtcERhdGE7XG4gICAgICAgIHRoaXMuUGFnZUNoaWxkSW5kZXggPSBwYWdlQ2hpbGRJbmRleDtcbiAgICAgICAgdGhpcy5wYWdlQ2hpbGRib3ggPSBwYWdlQ2hpbGRib3g7XG4gICAgfVxuXG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9TYXZlQmVmb3JlSW5mby5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./Course/src/mainscene/element/bulletView.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _loading = __webpack_require__(/*! ../loading */ 3);\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\n * bulletpanel ui visualization of the data that model contains.\n * bulletpanel\n * @class      bulletpanel (name)\n */\n\n//io模块 && 顶层观察者，各模块间可以通过观察者来通信 && 场景管理器\n\n\nvar bulletView = function (_window$bulletsViewUI) {\n    _inherits(bulletView, _window$bulletsViewUI);\n\n    function bulletView() {\n        _classCallCheck(this, bulletView);\n\n        var _this = _possibleConstructorReturn(this, (bulletView.__proto__ || Object.getPrototypeOf(bulletView)).call(this));\n\n        _this.pan = [];\n        _this.bulletviewAllData = [];\n        _this.init();\n        return _this;\n    }\n\n    _createClass(bulletView, [{\n        key: 'init',\n        value: function init() {\n            var _this2 = this;\n\n            this.x = Laya.stage.width / 2 - this.width / 2;\n            this.bottom = -300;\n            //tab和View 关联\n            this.rankTab.selectHandler = this.rankView.setIndexHandler;\n            //去除panel的滚动条\n\n            //直播六个学生 旁听生           \n            //子弹弹窗关闭按钮\n            this.closeBtn.on(Laya.Event.CLICK, this, function () {\n                if (_this2.visible) {\n                    _this2.closeTime();\n                }\n            });\n            // tab切换\n            this.rankTab.selectHandler = new Laya.Handler(this, this.onTabSelected);\n            //监听子弹面板数据    \n            _init_module.observer.subscribe('bulletList', this.initBuletView.bind(this));\n            //切页时将list清空\n            _init_module.observer.subscribe(\"diposeList\", this.diposeList.bind(this));\n        }\n    }, {\n        key: 'onTabSelected',\n        value: function onTabSelected(index) {\n            if (index == -1) {\n                return;\n            }\n            this.rankView.selectedIndex = index;\n        }\n    }, {\n        key: 'initBuletView',\n        value: function initBuletView(data) {\n            _room2.default.getInstance().bullentViewRights = []; //清空之前数据\n            console.log(\"子弹面板数据\", data);\n            this.diposeList();\n            var index = -1;\n            var indexi = -1;\n            for (var i in data) {\n                if (data[i].roleType === \"0\") {\n                    //type 0直播\n                    index++;\n                    this.creatdirectBox(data[i], index, \"0\");\n                } else if (data[i].roleType === \"1\") {\n                    //type 1旁听生\n                    indexi++;\n                    this.creatdirectBox(data[i], indexi, \"1\");\n                }\n            }\n        }\n    }, {\n        key: 'creatdirectBox',\n        value: function creatdirectBox(data, index, type) {\n            var pan = new bulletpanel(data);\n            pan.x = 190 * index;\n            pan.y = 0;\n            this.pan.push(pan);\n            if (type === \"0\") {\n                this.directBox.addChild(pan);\n            } else if (type === \"1\") {\n                this.pangTinBox.addChild(pan);\n            }\n        }\n    }, {\n        key: 'diposeList',\n        value: function diposeList() {\n            for (var i in this.pan) {\n                this.pan[i].diposeList();\n            }\n            this.pan = [];\n        }\n    }, {\n        key: 'showtime',\n        value: function showtime() {\n            var _this3 = this;\n\n            Laya.Tween.to(this, { bottom: 100 }, 500, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                _this3.visible = true;\n                _room2.default.getInstance().bottom.buttetBtn.skin = 'res/bulletViews/viewBtn1.png';\n            }), 0, true);\n        }\n    }, {\n        key: 'closeTime',\n        value: function closeTime() {\n            var _this4 = this;\n\n            Laya.Tween.to(this, { bottom: -300 }, 500, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                _this4.visible = false;\n                _room2.default.getInstance().bottom.buttetBtn.skin = 'res/bulletViews/viewBtn.png';\n            }), 0, true);\n        }\n    }]);\n\n    return bulletView;\n}(window.bulletsViewUI);\n//每个同学答题显示的面板\n\n\nexports.default = bulletView;\n\nvar bulletpanel = function (_bulletpanelUI) {\n    _inherits(bulletpanel, _bulletpanelUI);\n\n    function bulletpanel(data) {\n        _classCallCheck(this, bulletpanel);\n\n        var _this5 = _possibleConstructorReturn(this, (bulletpanel.__proto__ || Object.getPrototypeOf(bulletpanel)).call(this));\n\n        _this5.init(data);\n        return _this5;\n    }\n\n    _createClass(bulletpanel, [{\n        key: 'init',\n        value: function init(data) {\n            var _this6 = this;\n\n            this.answerList.array = [];\n            this.answerList.vScrollBarSkin = \"\";\n            var arrayList = data.data;\n            var result = [];\n            arrayList.forEach(function (item, index) {\n                _this6.Sname.text = item.nickName;\n                if (item.allstate) {\n                    result.push({\n                        writeBg: { visible: index % 2 == 1 ? true : false },\n                        progress: \"\",\n                        answerstate: \"\",\n                        allstate: { text: item.allstate, visible: item.allstate ? true : false }\n                    });\n                } else {\n                    result.push({\n                        writeBg: { visible: index % 2 == 1 ? true : false },\n                        progress: item.startnickname + \"=>\" + item.tagnickname,\n                        answerstate: { color: item.answerstate == 0 ? \"#27AB38\" : \"#FB4D3D\", text: item.answerstate == 0 ? \"对\" : \"错\" },\n                        allstate: \"\"\n                    });\n                }\n            });\n            var tempArr = result.reverse();\n            this.answerList.array = tempArr;\n            if (tempArr[0].allstate.text == \"全部答对\") {\n                _room2.default.getInstance().bullentViewRights.push(data.senderId);\n            }\n        }\n    }, {\n        key: 'diposeList',\n        value: function diposeList() {\n            this.answerList.array = [];\n            this.destroy();\n        }\n    }]);\n\n    return bulletpanel;\n}(bulletpanelUI);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9idWxsZXRWaWV3LmpzP2YzOGUiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIGJ1bGxldHBhbmVsIHVpIHZpc3VhbGl6YXRpb24gb2YgdGhlIGRhdGEgdGhhdCBtb2RlbCBjb250YWlucy5cbiAqIGJ1bGxldHBhbmVsXG4gKiBAY2xhc3MgICAgICBidWxsZXRwYW5lbCAobmFtZSlcbiAqL1xuaW1wb3J0IFJvb21TY2VuZSBmcm9tICcuLi9yb29tJztcbmltcG9ydCBMb2FkaW5nU2NlbmUgZnJvbSAnLi4vbG9hZGluZyc7XG4vL2lv5qih5Z2XICYmIOmhtuWxguinguWvn+iAhe+8jOWQhOaooeWdl+mXtOWPr+S7pemAmui/h+inguWvn+iAheadpemAmuS/oSAmJiDlnLrmma/nrqHnkIblmahcbmltcG9ydCB7IG1lc3NhZ2VDZW50ZXIsIG9ic2VydmVyLCBzY2VuZU1hbmFnZXIsIHNldFZpZXdDZW50ZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgYnVsbGV0VmlldyBleHRlbmRzIHdpbmRvdy5idWxsZXRzVmlld1VJe1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGFuID0gW107XG4gICAgICAgIHRoaXMuYnVsbGV0dmlld0FsbERhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpeyBcbiAgICAgICAgdGhpcy54ID0gTGF5YS5zdGFnZS53aWR0aC8yLXRoaXMud2lkdGgvMjsgICBcbiAgICAgICAgdGhpcy5ib3R0b20gPSAtMzAwO1xuICAgICAgICAvL3RhYuWSjFZpZXcg5YWz6IGUXG4gICAgICAgIHRoaXMucmFua1RhYi5zZWxlY3RIYW5kbGVyID0gdGhpcy5yYW5rVmlldy5zZXRJbmRleEhhbmRsZXI7XG4gICAgICAgIC8v5Y676ZmkcGFuZWznmoTmu5rliqjmnaFcbiAgICAgXG4gICAgICAgIC8v55u05pKt5YWt5Liq5a2m55SfIOaXgeWQrOeUnyAgICAgICAgICAgXG4gICAgICAgIC8v5a2Q5by55by556qX5YWz6Zet5oyJ6ZKuXG4gICAgICAgIHRoaXMuY2xvc2VCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XG4gICAgICAgICAgICBpZih0aGlzLnZpc2libGUpeyAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VUaW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pOyAgICAgICBcbiAgICAgICAgLy8gdGFi5YiH5o2iXG5cdFx0dGhpcy5yYW5rVGFiLnNlbGVjdEhhbmRsZXIgPSBuZXcgTGF5YS5IYW5kbGVyKHRoaXMsIHRoaXMub25UYWJTZWxlY3RlZCk7XG4gICAgICAgIC8v55uR5ZCs5a2Q5by56Z2i5p2/5pWw5o2uICAgIFxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ2J1bGxldExpc3QnLCB0aGlzLmluaXRCdWxldFZpZXcuYmluZCh0aGlzKSk7ICBcbiAgICAgICAgLy/liIfpobXml7blsIZsaXN05riF56m6XG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZShcImRpcG9zZUxpc3RcIix0aGlzLmRpcG9zZUxpc3QuYmluZCh0aGlzKSk7ICAgXG4gICAgICAgIFxuICAgIH1cbiAgIFxuICAgIG9uVGFiU2VsZWN0ZWQoaW5kZXgpe1xuICAgICAgICBpZihpbmRleD09LTEpe1xuXHRcdFx0cmV0dXJuO1xuXHRcdH0gIFx0XG4gICAgICAgIHRoaXMucmFua1ZpZXcuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgIH1cblxuICAgIGluaXRCdWxldFZpZXcoZGF0YSl7ICBcbiAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYnVsbGVudFZpZXdSaWdodHMgPSBbXTsvL+a4heepuuS5i+WJjeaVsOaNrlxuICAgICAgICBjb25zb2xlLmxvZyhcIuWtkOW8uemdouadv+aVsOaNrlwiLGRhdGEpO1xuICAgICAgICB0aGlzLmRpcG9zZUxpc3QoKTtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGxldCBpbmRleGkgPSAtMTtcbiAgICAgICAgZm9yKGxldCBpIGluIGRhdGEpeyAgXG4gICAgICAgICAgICBpZihkYXRhW2ldLnJvbGVUeXBlID09PSBcIjBcIil7XG4gICAgICAgICAgICAgICAgLy90eXBlIDDnm7Tmkq1cbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRkaXJlY3RCb3goZGF0YVtpXSxpbmRleCxcIjBcIik7XG4gICAgICAgICAgICB9ZWxzZSBpZihkYXRhW2ldLnJvbGVUeXBlID09PSBcIjFcIil7XG4gICAgICAgICAgICAgICAgLy90eXBlIDHml4HlkKznlJ9cbiAgICAgICAgICAgICAgICBpbmRleGkrKztcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZGlyZWN0Qm94KGRhdGFbaV0saW5kZXhpLFwiMVwiKTtcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgXG4gICAgICAgIH0gICAgICAgICAgXG4gICAgfVxuICAgIGNyZWF0ZGlyZWN0Qm94KGRhdGEsaW5kZXgsdHlwZSl7XG4gICAgICAgIGxldCBwYW4gPSBuZXcgYnVsbGV0cGFuZWwoZGF0YSk7ICAgXG4gICAgICAgIHBhbi54ID0gMTkwKmluZGV4O1xuICAgICAgICBwYW4ueSA9IDA7XG4gICAgICAgIHRoaXMucGFuLnB1c2gocGFuKTsgXG4gICAgICAgIGlmKHR5cGUgPT09IFwiMFwiKXtcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0Qm94LmFkZENoaWxkKHBhbik7XG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09IFwiMVwiKXtcbiAgICAgICAgICAgIHRoaXMucGFuZ1RpbkJveC5hZGRDaGlsZChwYW4pO1xuICAgICAgICB9ICAgICAgXG5cbiAgICB9XG4gICAgXG4gICAgZGlwb3NlTGlzdCgpe1xuICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMucGFuKXtcbiAgICAgICAgICAgICB0aGlzLnBhbltpXS5kaXBvc2VMaXN0KCk7XG4gICAgICAgICB9XG4gICAgICAgICB0aGlzLnBhbiA9IFtdO1xuICAgIH1cblxuICAgIHNob3d0aW1lKCl7XG4gICAgICAgIExheWEuVHdlZW4udG8odGhpcyx7Ym90dG9tOjEwMH0sNTAwLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlOyAgICAgICAgICAgXG4gICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYm90dG9tLmJ1dHRldEJ0bi5za2luID0gJ3Jlcy9idWxsZXRWaWV3cy92aWV3QnRuMS5wbmcnOyBcbiAgICAgICAgfSksMCx0cnVlKTtcbiAgICB9XG4gICAgY2xvc2VUaW1lKCl7XG4gICAgICAgIExheWEuVHdlZW4udG8odGhpcyx7Ym90dG9tOi0zMDB9LDUwMCxMYXlhLkVhc2UubGluZWFySW4sTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57XG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJvdHRvbS5idXR0ZXRCdG4uc2tpbiA9ICdyZXMvYnVsbGV0Vmlld3Mvdmlld0J0bi5wbmcnO1xuICAgICAgICB9KSwwLHRydWUpO1xuICAgIH1cbiAgIFxuXG59XG4vL+avj+S4quWQjOWtpuetlOmimOaYvuekuueahOmdouadv1xuY2xhc3MgYnVsbGV0cGFuZWwgZXh0ZW5kcyBidWxsZXRwYW5lbFVJe1xuXHRjb25zdHJ1Y3RvcihkYXRhKXtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuaW5pdChkYXRhKTtcblx0fVxuXHRpbml0KGRhdGEpeyAgICAgXG4gICAgICAgIHRoaXMuYW5zd2VyTGlzdC5hcnJheSA9IFtdOyAgXG4gICAgICAgIHRoaXMuYW5zd2VyTGlzdC52U2Nyb2xsQmFyU2tpbiA9IFwiXCI7ICAgICBcblx0XHRsZXQgYXJyYXlMaXN0ID0gZGF0YS5kYXRhO1xuXHRcdGxldCByZXN1bHQgPSBbXTtcblx0XHRhcnJheUxpc3QuZm9yRWFjaCgoaXRlbSxpbmRleCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5TbmFtZS50ZXh0ID0gaXRlbS5uaWNrTmFtZTtcbiAgICAgICAgICAgIGlmKGl0ZW0uYWxsc3RhdGUpe1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlQmcgOiB7dmlzaWJsZSA6IGluZGV4ICUgMiA9PSAxID8gdHJ1ZSA6IGZhbHNlfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzICA6IFwiXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2Vyc3RhdGU6XCJcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxzdGF0ZTp7dGV4dDppdGVtLmFsbHN0YXRlLHZpc2libGU6aXRlbS5hbGxzdGF0ZSA/IHRydWU6ZmFsc2V9ICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7ICAgICAgICAgXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlQmcgOiB7dmlzaWJsZSA6IGluZGV4ICUgMiA9PSAxID8gdHJ1ZSA6IGZhbHNlfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgIDogaXRlbS5zdGFydG5pY2tuYW1lICtcIj0+XCIrIGl0ZW0udGFnbmlja25hbWUsIFxuICAgICAgICAgICAgICAgICAgICBhbnN3ZXJzdGF0ZTp7Y29sb3I6aXRlbS5hbnN3ZXJzdGF0ZSA9PSAwID9cIiMyN0FCMzhcIiA6IFwiI0ZCNEQzRFwiLHRleHQ6aXRlbS5hbnN3ZXJzdGF0ZSA9PSAwPyBcIuWvuVwiIDogXCLplJlcIn0sICAgXG4gICAgICAgICAgICAgICAgICAgIGFsbHN0YXRlOlwiXCIgICAgIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXHRcdFx0XG5cdFx0fSk7ICAgXG4gICAgICAgIGxldCB0ZW1wQXJyID0gIHJlc3VsdC5yZXZlcnNlKCk7XG5cdFx0dGhpcy5hbnN3ZXJMaXN0LmFycmF5ID0gdGVtcEFycjtcbiAgICAgICAgaWYodGVtcEFyclswXS5hbGxzdGF0ZS50ZXh0ID09IFwi5YWo6YOo562U5a+5XCIpe1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYnVsbGVudFZpZXdSaWdodHMucHVzaChkYXRhLnNlbmRlcklkKTtcbiAgICAgICAgfVxuXHR9XG4gICAgZGlwb3NlTGlzdCgpe1xuICAgICAgICAgIHRoaXMuYW5zd2VyTGlzdC5hcnJheSA9IFtdOyAgXG4gICAgICAgICAgdGhpcy5kZXN0cm95KCk7ICAgXG4gICAgICAgICAgXG4gICAgfVxuXG4gICBcbiAgIFxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9lbGVtZW50L2J1bGxldFZpZXcuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBTUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7Ozs7Ozs7QUFUQTs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUtBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUF2RkE7QUEyRkE7QUFDQTtBQUNBO0FBN0ZBO0FBQ0E7QUEyRkE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBeENBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./Course/src/mainscene/element/combinationbox.js ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _picture = __webpack_require__(/*! ./picture */ 7);\n\nvar _picture2 = _interopRequireDefault(_picture);\n\nvar _label = __webpack_require__(/*! ./label */ 6);\n\nvar _label2 = _interopRequireDefault(_label);\n\nvar _spineAnimation = __webpack_require__(/*! ../animat/spineAnimation */ 5);\n\nvar _spineAnimation2 = _interopRequireDefault(_spineAnimation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\n * combinationbox 组合\n */\n\n\nvar combinationbox = function (_Laya$Box) {\n    _inherits(combinationbox, _Laya$Box);\n\n    function combinationbox(data) {\n        _classCallCheck(this, combinationbox);\n\n        var _this = _possibleConstructorReturn(this, (combinationbox.__proto__ || Object.getPrototypeOf(combinationbox)).call(this));\n\n        _this.url = null; //元素路径\n        _this.name = data.Name; //元素id\n        _this.nickName = data.NickName; //元素名称  \n        _this.Animation = data.Animation; //动画\n        _this.Position = data.Position; //位置\n        _this.Rotation = data.Rotation; //角度\n        _this.EventList = data.EventList; //元素带出\n        _this.itemWidth = data.Width; //宽\n        _this.itemHeight = data.Height; //高\n        _this.ImgId = data.ImgId; //对应的图片ID\n        _this.TagType = data.TagType; //元素本身事件\n        _this.Tag = data.Tag; //答案区\n        _this.index = data.Index; //元素索引\n        _this.DriveType = data.DriveType; //元素事件机制\n        _this.DefText = data.DefText; //文字\n        _this.MirrorX = data.MirrorX; //左右镜像\n        _this.MirrorY = data.MirrorY; //竖直镜像\n        _this.Transparent = data.Transparent / 100; //透明度 1-100\n        _this.MediaId = data.MediaId; //元素视频链接\n        _this.MediaMode = data.MediaMode; //元素多媒体出现状态\n        _this.MediaDelay = data.MediaDelay;\n        _this.MediaUrl = null;\n        _this.AngleGroup = data.AngleGroup; //旋转角度组\n        _this.IsStudentsInvisible = data.IsStudentsInvisible; //是否老师可见\n        _this.answertagArray = []; //存放答案区的标签\n        _this.isElementGroup = null; //是否在元素组以及index\n        _this.isElementSame = null; //有其他相同的   \n        _this.child = data.Children;\n        _this.init();\n        return _this;\n    }\n    //初始化\n\n\n    _createClass(combinationbox, [{\n        key: 'init',\n        value: function init() {\n            var _this2 = this;\n\n            this.pos(Number(this.Position.split(',')[0]), Number(this.Position.split(',')[1]));\n            console.log(this.itemWidth, this.itemHeight);\n            this.size(this.itemWidth, this.itemHeight);\n            this.anchorX = 0.5;this.anchorY = 0.5;\n            this.pos(this.x + this.width / 2, this.y + this.height / 2);\n            // this.pivot(this.itemWidth/2,this.itemHeight/2);\n            if (this.Rotation) {\n                this.rotation = this.Rotation;\n            }\n\n            if (this.MirrorY && this.MirrorX) {\n                this.skew(this.MirrorY == -1 ? 180 : 0, this.MirrorX == -1 ? 180 : 0);\n            }\n            if (this.Transparent) {\n                this.alpha = this.Transparent;\n            }\n            //初始化box里面的元素\n            if (this.child.length > 0) {\n                var element = void 0;\n                this.child.forEach(function (item, index) {\n                    if (item.TypeElement === 0) {\n                        element = new _picture2.default(item);\n                    } else if (item.TypeElement === 3) {\n                        element = new _label2.default(item);\n                    } else if (item.TypeElement === 4) {\n                        // console.log(\"我是骨骼动画\");\n                        element = new _spineAnimation2.default(item);\n                    }\n                    _this2.addChild(element);\n                });\n            }\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            this.name = null; //元素id\n            this.nickName = null; //元素名称\n            this.Animation = null; //动画  \n            this.EventList = null; //元素带出  \n            this.Position = null; //位置\n            this.Rotation = null; //角度\n            this.itemWidth = null; //宽\n            this.itemHeight = null; //高\n            this.ImgId = null; //对应的图片ID\n            this.TagType = null; //元素本身事件\n            this.Tag = null; //答案区\n            this.index = null; //index属性\n            this.DriveType = null; //出场属性\n            this.MirrorX = null; //左右镜像\n            this.MirrorY = null; //竖直镜像\n            this.Transparent = null; //透明度 1-100\n            this.MediaId = null; //元素视频链接\n            this.MediaMode = null; //元素多媒体出现状态\n            this.MediaDelay = null;\n            this.MediaUrl = null;\n            this.Source = null; //数组内的对象\n            this.AngleGroup = null; //旋转角度组\n            this.IsStudentsInvisible = null; //是否老师可见    \n            this.answertagArray = []; //存放答案区的标签\n            this.isElementGroup = null; //是否在元素组以及index \n            this.destroy();\n        }\n    }]);\n\n    return combinationbox;\n}(Laya.Box);\n\nexports.default = combinationbox;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9jb21iaW5hdGlvbmJveC5qcz9mMzM4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBjb21iaW5hdGlvbmJveCDnu4TlkIhcbiAqL1xuaW1wb3J0IFBpY3R1cmUgIGZyb20gJy4vcGljdHVyZSdcbmltcG9ydCBMYWJlbCAgZnJvbSAnLi9sYWJlbCdcbmltcG9ydCBzcGluZUFuaW1hdGlvbiBmcm9tICcuLi9hbmltYXQvc3BpbmVBbmltYXRpb24nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvbWJpbmF0aW9uYm94IGV4dGVuZHMgTGF5YS5Cb3h7XG4gICAgY29uc3RydWN0b3IoZGF0YSl7XG4gICAgICAgIHN1cGVyKCk7ICAgICBcbiAgICAgICAgdGhpcy51cmwgPSBudWxsOyAgLy/lhYPntKDot6/lvoRcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YS5OYW1lOyAvL+WFg+e0oGlkXG4gICAgICAgIHRoaXMubmlja05hbWU9IGRhdGEuTmlja05hbWUgLy/lhYPntKDlkI3np7AgIFxuICAgICAgICB0aGlzLkFuaW1hdGlvbiA9IGRhdGEuQW5pbWF0aW9uOyAvL+WKqOeUu1xuICAgICAgICB0aGlzLlBvc2l0aW9uID0gZGF0YS5Qb3NpdGlvbjsgLy/kvY3nva5cbiAgICAgICAgdGhpcy5Sb3RhdGlvbiA9IGRhdGEuUm90YXRpb247IC8v6KeS5bqmXG4gICAgICAgIHRoaXMuRXZlbnRMaXN0ID0gZGF0YS5FdmVudExpc3Q7ICAvL+WFg+e0oOW4puWHulxuICAgICAgICB0aGlzLml0ZW1XaWR0aCA9IGRhdGEuV2lkdGg7IC8v5a69XG4gICAgICAgIHRoaXMuaXRlbUhlaWdodCA9IGRhdGEuSGVpZ2h0OyAvL+mrmFxuICAgICAgICB0aGlzLkltZ0lkID0gZGF0YS5JbWdJZDsgLy/lr7nlupTnmoTlm77niYdJRFxuICAgICAgICB0aGlzLlRhZ1R5cGUgPSBkYXRhLlRhZ1R5cGU7ICAvL+WFg+e0oOacrOi6q+S6i+S7tlxuICAgICAgICB0aGlzLlRhZyA9IGRhdGEuVGFnOyAgLy/nrZTmoYjljLpcbiAgICAgICAgdGhpcy5pbmRleCA9IGRhdGEuSW5kZXg7ICAvL+WFg+e0oOe0ouW8lVxuICAgICAgICB0aGlzLkRyaXZlVHlwZSA9IGRhdGEuRHJpdmVUeXBlOyAvL+WFg+e0oOS6i+S7tuacuuWItlxuICAgICAgICB0aGlzLkRlZlRleHQgPSBkYXRhLkRlZlRleHQ7IC8v5paH5a2XXG4gICAgICAgIHRoaXMuTWlycm9yWCA9IGRhdGEuTWlycm9yWDsgLy/lt6blj7PplZzlg49cbiAgICAgICAgdGhpcy5NaXJyb3JZID0gZGF0YS5NaXJyb3JZOyAvL+erluebtOmVnOWDj1xuICAgICAgICB0aGlzLlRyYW5zcGFyZW50ID0gZGF0YS5UcmFuc3BhcmVudCAvIDEwMDsgLy/pgI/mmI7luqYgMS0xMDBcbiAgICAgICAgdGhpcy5NZWRpYUlkID0gZGF0YS5NZWRpYUlkOyAvL+WFg+e0oOinhumikemTvuaOpVxuICAgICAgICB0aGlzLk1lZGlhTW9kZSA9IGRhdGEuTWVkaWFNb2RlICAvL+WFg+e0oOWkmuWqkuS9k+WHuueOsOeKtuaAgVxuICAgICAgICB0aGlzLk1lZGlhRGVsYXkgPSBkYXRhLk1lZGlhRGVsYXk7XG4gICAgICAgIHRoaXMuTWVkaWFVcmwgPSBudWxsO1xuICAgICAgICB0aGlzLkFuZ2xlR3JvdXAgPSBkYXRhLkFuZ2xlR3JvdXAgOy8v5peL6L2s6KeS5bqm57uEXG4gICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZSA9IGRhdGEuSXNTdHVkZW50c0ludmlzaWJsZTsgIC8v5piv5ZCm6ICB5biI5Y+v6KeBXG4gICAgICAgIHRoaXMuYW5zd2VydGFnQXJyYXkgPSBbXTsgIC8v5a2Y5pS+562U5qGI5Yy655qE5qCH562+XG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXAgPSBudWxsO+OAgC8v5piv5ZCm5Zyo5YWD57Sg57uE5Lul5Y+KaW5kZXhcbiAgICAgICAgdGhpcy5pc0VsZW1lbnRTYW1lID0gbnVsbDsgIC8v5pyJ5YW25LuW55u45ZCM55qEICAgXG4gICAgICAgIHRoaXMuY2hpbGQgPSBkYXRhLkNoaWxkcmVuOyAgICBcbiAgICAgICAgdGhpcy5pbml0KCk7ICBcbiAgICB9XG4gICAgLy/liJ3lp4vljJZcbiAgICBpbml0KCl7ICAgICAgICAgICAgICAgXG4gICAgICAgIHRoaXMucG9zKE51bWJlcih0aGlzLlBvc2l0aW9uLnNwbGl0KCcsJylbMF0pLE51bWJlcih0aGlzLlBvc2l0aW9uLnNwbGl0KCcsJylbMV0pKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtV2lkdGgsdGhpcy5pdGVtSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zaXplKHRoaXMuaXRlbVdpZHRoLHRoaXMuaXRlbUhlaWdodCk7ICBcbiAgICAgICAgdGhpcy5hbmNob3JYID0gMC41OyB0aGlzLmFuY2hvclkgPSAwLjU7XG4gICAgICAgIHRoaXMucG9zKHRoaXMueCArdGhpcy53aWR0aC8yICwgdGhpcy55ICt0aGlzLmhlaWdodC8yKTtcbiAgICAgICAgLy8gdGhpcy5waXZvdCh0aGlzLml0ZW1XaWR0aC8yLHRoaXMuaXRlbUhlaWdodC8yKTtcbiAgICAgICAgaWYodGhpcy5Sb3RhdGlvbil7XG4gICAgICAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuUm90YXRpb247XG4gICAgICAgIH0gICBcbiAgICAgICBcbiAgICAgICAgaWYodGhpcy5NaXJyb3JZICYmIHRoaXMuTWlycm9yWCl7XG4gICAgICAgICAgICB0aGlzLnNrZXcodGhpcy5NaXJyb3JZID09IC0xID8gMTgwIDogMCx0aGlzLk1pcnJvclggPT0gLTEgPyAxODAgOiAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLlRyYW5zcGFyZW50KXtcbiAgICAgICAgICAgICB0aGlzLmFscGhhID0gdGhpcy5UcmFuc3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICAvL+WIneWni+WMlmJveOmHjOmdoueahOWFg+e0oFxuICAgICAgICBpZih0aGlzLmNoaWxkLmxlbmd0aCA+IDApe1xuICAgICAgICAgICBsZXQgZWxlbWVudDtcbiAgICAgICAgICAgdGhpcy5jaGlsZC5mb3JFYWNoKChpdGVtLGluZGV4KT0+e1xuICAgICAgICAgICAgICAgIGlmKGl0ZW0uVHlwZUVsZW1lbnQgPT09IDApe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gbmV3IFBpY3R1cmUoaXRlbSk7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKGl0ZW0uVHlwZUVsZW1lbnQgPT09IDMpe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gbmV3IExhYmVsKGl0ZW0pOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihpdGVtLlR5cGVFbGVtZW50ID09PSA0KXtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLmiJHmmK/pqqjpqrzliqjnlLtcIik7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBuZXcgc3BpbmVBbmltYXRpb24oaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH1cbiAgICBkaXNwb3NlKCl7XG4gICAgICAgIHRoaXMubmFtZSA9IG51bGw7IC8v5YWD57SgaWRcbiAgICAgICAgdGhpcy5uaWNrTmFtZSA9IG51bGw7IC8v5YWD57Sg5ZCN56ewXG4gICAgICAgIHRoaXMuQW5pbWF0aW9uID0gbnVsbDsgLy/liqjnlLsgIFxuICAgICAgICB0aGlzLkV2ZW50TGlzdCA9IG51bGw7ICAvL+WFg+e0oOW4puWHuiAgXG4gICAgICAgIHRoaXMuUG9zaXRpb24gPSBudWxsOyAvL+S9jee9rlxuICAgICAgICB0aGlzLlJvdGF0aW9uID0gbnVsbDsgLy/op5LluqZcbiAgICAgICAgdGhpcy5pdGVtV2lkdGggPSBudWxsOyAvL+WuvVxuICAgICAgICB0aGlzLml0ZW1IZWlnaHQgPSBudWxsOyAvL+mrmFxuICAgICAgICB0aGlzLkltZ0lkID0gbnVsbDsgLy/lr7nlupTnmoTlm77niYdJRFxuICAgICAgICB0aGlzLlRhZ1R5cGUgPSBudWxsOyAgLy/lhYPntKDmnKzouqvkuovku7ZcbiAgICAgICAgdGhpcy5UYWcgPSBudWxsOyAvL+etlOahiOWMulxuICAgICAgICB0aGlzLmluZGV4ID0gbnVsbDsgLy9pbmRleOWxnuaAp1xuICAgICAgICB0aGlzLkRyaXZlVHlwZSA9IG51bGw7IC8v5Ye65Zy65bGe5oCnXG4gICAgICAgIHRoaXMuTWlycm9yWCA9IG51bGw7IC8v5bem5Y+z6ZWc5YOPXG4gICAgICAgIHRoaXMuTWlycm9yWSA9IG51bGw7IC8v56uW55u06ZWc5YOPXG4gICAgICAgIHRoaXMuVHJhbnNwYXJlbnQgPSBudWxsOyAvL+mAj+aYjuW6piAxLTEwMFxuICAgICAgICB0aGlzLk1lZGlhSWQgPSBudWxsOyAvL+WFg+e0oOinhumikemTvuaOpVxuICAgICAgICB0aGlzLk1lZGlhTW9kZSA9IG51bGw7ICAvL+WFg+e0oOWkmuWqkuS9k+WHuueOsOeKtuaAgVxuICAgICAgICB0aGlzLk1lZGlhRGVsYXkgPSBudWxsO1xuICAgICAgICB0aGlzLk1lZGlhVXJsID0gbnVsbDsgXG4gICAgICAgIHRoaXMuU291cmNlID0gbnVsbDsvL+aVsOe7hOWGheeahOWvueixoVxuICAgICAgICB0aGlzLkFuZ2xlR3JvdXAgPSBudWxsOy8v5peL6L2s6KeS5bqm57uEXG4gICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZSA9IG51bGw7ICAvL+aYr+WQpuiAgeW4iOWPr+ingSAgICBcbiAgICAgICAgdGhpcy5hbnN3ZXJ0YWdBcnJheSA9IFtdOyAgLy/lrZjmlL7nrZTmoYjljLrnmoTmoIfnrb5cbiAgICAgICAgdGhpcy5pc0VsZW1lbnRHcm91cCA9IG51bGw744CALy/mmK/lkKblnKjlhYPntKDnu4Tku6Xlj4ppbmRleCBcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxuICAgIFxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9lbGVtZW50L2NvbWJpbmF0aW9uYm94LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUlBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7QUFOQTs7Ozs7QUFPQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5QkE7QUErQkE7QUFDQTtBQUNBO0FBQ0E7OztBQURBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBbEdBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./Course/src/mainscene/element/countDown.js ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 倒计时 @param {*liujiaojiao}\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar countDownView = function (_Laya$Sprite) {\n    _inherits(countDownView, _Laya$Sprite);\n\n    function countDownView(countDownValue) {\n        _classCallCheck(this, countDownView);\n\n        var _this = _possibleConstructorReturn(this, (countDownView.__proto__ || Object.getPrototypeOf(countDownView)).call(this));\n\n        _this.countDownValue = countDownValue; //时间 \n        _this.countUI = null;\n        _this.useTime = 0;\n        _this.init();\n\n        return _this;\n    }\n\n    _createClass(countDownView, [{\n        key: 'init',\n        value: function init() {\n            if (this.countDownValue == undefined) {\n                this.countDownValue = 0;\n            }\n            if (this.countDownValue != 0) {\n                // 老师0  学生1 \n                var count = void 0,\n                    countUI = void 0;\n                if (GM.role == 0) {\n                    this.countUI = new window.countDownUI();\n                    this.countUI.pos(Laya.stage.width / 2 - this.countUI.width / 2, 10);\n                    this.addChild(this.countUI);\n                } else if (GM.role == 1) {\n                    this.countUI = new window.countDown1UI();\n                    this.countUI.pos(Laya.stage.width - this.countUI.width - 150, 10);\n                }\n                this.beginCountDown(this.countDownValue);\n            } else {\n                this.useTime = 0;\n                Laya.timer.loop(1000, this, this.countTime);\n            }\n        }\n    }, {\n        key: 'countTime',\n        value: function countTime() {\n            this.useTime += 1;\n        }\n        /**\n        * 开始倒计时\n        */\n\n    }, {\n        key: 'beginCountDown',\n        value: function beginCountDown(count) {\n            if (!count) return;\n            this.countUI.count.text = count;\n            var duration = 1000;\n            this.countDownValue = count;\n            Laya.timer.loop(duration, this, this.countDownaction);\n        }\n        //继续倒计时\n\n    }, {\n        key: 'timeContinue',\n        value: function timeContinue() {\n            if (this.countDownValue != 0) {\n                Laya.timer.loop(1000, this, this.countDownaction);\n            } else {\n                Laya.timer.loop(1000, this, this.countTime);\n            }\n        }\n        //停止倒计时\n\n    }, {\n        key: 'timeStop',\n        value: function timeStop() {\n            Laya.timer.clear(this, this.countDownaction);\n            Laya.timer.clear(this, this.countTime);\n        }\n    }, {\n        key: 'countDownaction',\n        value: function countDownaction() {\n            Laya.Tween.to(this.countUI.count, { value: this.countDownValue-- }, 1000);\n            if (GM.role === 1) {\n                Laya.SoundManager.playSound('sound/countdown.mp3');\n            }\n            this.countUI.count.changeText(this.countDownValue);\n            if (this.countDownValue <= 10 && GM.role == 1) this.addChild(this.countUI);\n            if (this.countDownValue <= 0) {\n                if (GM.role === 0) {\n                    this.countFinsh();\n                    this.emitStudent();\n                }\n            }\n        }\n    }, {\n        key: 'countFinsh',\n        value: function countFinsh(stat) {\n            var _this2 = this;\n\n            if (GM.role === 1) {\n                //学生端没有答对则发送超时\n                // if(!RoomScene.getInstance().pagebox.isWined){\n                if (_room2.default.getInstance().audioItem) {\n                    _room2.default.getInstance().audioItem.visible = false;\n                }\n\n                //老师掉线传入stat = 1，不能走这个地方\n                if (stat == undefined) {\n                    var alltime = Number(_room2.default.getInstance().countTimer);\n                    // 结束答题和倒计时结束发送log告知答题过程\n                    _room2.default.getInstance().pagebox.sendFeedLog(-1, alltime, _room2.default.getInstance().pagebox.sendFeedArr);\n                    _room2.default.getInstance().pagebox.proloadHandler(-1, _room2.default.getInstance().pagebox.sendFeedArr);\n                }\n                //学生取消事件\n                _room2.default.getInstance().pagebox.timeOutFrameLoopEvent(true);\n                // }\n            } else {\n                //老师端发送关闭弹层\n                // observer.publish('rank:close');\n                //messageCenter.emit(\"rankView\",{stat : \"Close\"  , time : 0});\n                //将没有答对的学生状态设置为超时\n                _room2.default.getInstance().answerStuOverTime();\n                //老师重新绑定事件\n                _room2.default.getInstance().pagebox.pictureEvent();\n            }\n\n            if (_room2.default.getInstance().countAnimation) {\n                _room2.default.getInstance().countAnimation.destroy();\n                _room2.default.getInstance().countAnimation = null;\n            }\n\n            _room2.default.getInstance().answering = true;\n            _room2.default.getInstance().answerFlag = true;\n            //RoomScene.getInstance().teacherAnswer = false;\n            _room2.default.getInstance().changeAnswerBtn('finish');\n            if (this.countUI) {\n                this.countUI.visible = false;\n                this.countUI.count.text = 0;\n            }\n            Laya.timer.clear(this, this.countDownaction);\n            Laya.timer.clear(this, this.countTime);\n            Laya.SoundManager.stopMusic(\"sound/answering.mp3\");\n            if (stat == undefined) {\n                Laya.SoundManager.playSound('sound/newsound/countdown.mp3');\n                var timeDown = new window.timeEndUI();\n                this.addChild(timeDown);\n                Laya.timer.once(2000, this, function () {\n                    _this2.removeChild(timeDown);\n                    timeDown.destroy();\n                });\n            } else if (stat == 1) {\n                //经过事件的元素 状态反一下\n                _room2.default.getInstance().pagebox.returnitems();\n                //将所有可动的元素归还原位\n                _room2.default.getInstance().pagebox.resetState();\n            }\n            if (GM.role == 0) {\n                if (_room2.default.getInstance().pagebox.pageChild.length > 0) {\n                    _room2.default.getInstance().btnNext.disabled = false;\n                }\n                if (_room2.default.getInstance().pagebox.OperationIndex > 0) {\n                    _room2.default.getInstance().cancel.disabled = false;\n                }\n            }\n        }\n    }, {\n        key: 'emitStudent',\n        value: function emitStudent() {\n            var data = { answerstate: 2, senderId: GM.senderId, page: _room2.default.getInstance().pageNum };\n            _init_module.messageCenter.emit(\"answerFinish\", data);\n        }\n    }]);\n\n    return countDownView;\n}(Laya.Sprite);\n\nexports.default = countDownView;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9jb3VudERvd24uanM/MTU4MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOWAkuiuoeaXtiBAcGFyYW0geypsaXVqaWFvamlhb31cbiAqL1xuaW1wb3J0IHsgb2JzZXJ2ZXIsbWVzc2FnZUNlbnRlcixzZXRWaWV3Q2VudGVyLHNjZW5lTWFuYWdlciB9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XG5pbXBvcnQgUm9vbVNjZW5lIGZyb20gJy4uL3Jvb20nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBjb3VudERvd25WaWV3IGV4dGVuZHMgTGF5YS5TcHJpdGV7XG4gICAgY29uc3RydWN0b3IoY291bnREb3duVmFsdWUpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvdW50RG93blZhbHVlID0gY291bnREb3duVmFsdWU7ICAgLy/ml7bpl7QgXG4gICAgICAgIHRoaXMuY291bnRVSSA9IG51bGw7XG4gICAgICAgIHRoaXMudXNlVGltZSA9IDA7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgfVxuXG4gICAgaW5pdCgpe1xuICAgICAgICBpZih0aGlzLmNvdW50RG93blZhbHVlID09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICB0aGlzLmNvdW50RG93blZhbHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmNvdW50RG93blZhbHVlICE9IDApe1xuICAgICAgICAgICAgLy8g6ICB5biIMCAg5a2m55SfMSBcbiAgICAgICAgICAgIGxldCBjb3VudCxjb3VudFVJO1xuICAgICAgICAgICAgaWYoR00ucm9sZSA9PSAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50VUkgPSBuZXcgd2luZG93LmNvdW50RG93blVJKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudFVJLnBvcyhMYXlhLnN0YWdlLndpZHRoLzIgLSB0aGlzLmNvdW50VUkud2lkdGgvMiwxMCk7ICAgXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmNvdW50VUkpOyAgICAgICAgIFxuICAgICAgICAgICAgfWVsc2UgaWYoR00ucm9sZSA9PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50VUkgPSBuZXcgd2luZG93LmNvdW50RG93bjFVSSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnRVSS5wb3MoTGF5YS5zdGFnZS53aWR0aCAtIHRoaXMuY291bnRVSS53aWR0aCAtMTUwLDEwKTsgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmVnaW5Db3VudERvd24odGhpcy5jb3VudERvd25WYWx1ZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy51c2VUaW1lID0gMDtcbiAgICAgICAgICAgIExheWEudGltZXIubG9vcCgxMDAwLCB0aGlzLCB0aGlzLmNvdW50VGltZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY291bnRUaW1lICgpe1xuICAgICAgICB0aGlzLnVzZVRpbWUgKz0gMTtcbiAgICB9XG4gICAgIC8qKlxuICAgICAqIOW8gOWni+WAkuiuoeaXtlxuICAgICAqL1xuICAgIGJlZ2luQ291bnREb3duKGNvdW50KXtcbiAgICAgICAgaWYoICFjb3VudCApIHJldHVybjsgXG4gICAgICAgIHRoaXMuY291bnRVSS5jb3VudC50ZXh0ID0gY291bnQ7XG4gICAgICAgIGxldCBkdXJhdGlvbiA9IDEwMDA7ICAgICAgXG4gICAgICAgIHRoaXMuY291bnREb3duVmFsdWUgPSBjb3VudDsgICAgXG4gICAgICAgIExheWEudGltZXIubG9vcChkdXJhdGlvbiwgdGhpcywgdGhpcy5jb3VudERvd25hY3Rpb24pO1xuICAgIH1cbiAgICAvL+e7p+e7reWAkuiuoeaXtlxuICAgIHRpbWVDb250aW51ZSgpe1xuICAgICAgICBpZih0aGlzLmNvdW50RG93blZhbHVlICE9IDApe1xuICAgICAgICAgICAgTGF5YS50aW1lci5sb29wKDEwMDAsIHRoaXMsIHRoaXMuY291bnREb3duYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgTGF5YS50aW1lci5sb29wKDEwMDAsIHRoaXMsIHRoaXMuY291bnRUaW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL+WBnOatouWAkuiuoeaXtlxuICAgIHRpbWVTdG9wKCl7XG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyx0aGlzLmNvdW50RG93bmFjdGlvbik7ICAgXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyx0aGlzLmNvdW50VGltZSk7ICBcbiAgICB9XG5cbiAgICBjb3VudERvd25hY3Rpb24oKXtcbiAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLmNvdW50VUkuY291bnQsIHt2YWx1ZTp0aGlzLmNvdW50RG93blZhbHVlLS19LDEwMDApO1xuICAgICAgICBpZihHTS5yb2xlID09PSAxKXtcbiAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvY291bnRkb3duLm1wMycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnRVSS5jb3VudC5jaGFuZ2VUZXh0KHRoaXMuY291bnREb3duVmFsdWUpO1xuICAgICAgICBpZih0aGlzLmNvdW50RG93blZhbHVlIDw9IDEwICYmIEdNLnJvbGUgPT0gMSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5jb3VudFVJKTsgICAgICBcbiAgICAgICAgaWYodGhpcy5jb3VudERvd25WYWx1ZSA8PSAwKXtcbiAgICAgICAgICAgIGlmKEdNLnJvbGUgPT09IDApe1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnRGaW5zaCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFN0dWRlbnQoKTtcbiAgICAgICAgICAgIH0gICBcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb3VudEZpbnNoKHN0YXQpeyAgICAgICAgICAgIFxuICAgICAgICBpZihHTS5yb2xlID09PSAxKXtcbiAgICAgICAgICAgIC8v5a2m55Sf56uv5rKh5pyJ562U5a+55YiZ5Y+R6YCB6LaF5pe2XG4gICAgICAgICAgICAvLyBpZighUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5pc1dpbmVkKXtcbiAgICAgICAgICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hdWRpb0l0ZW0pe1xuICAgICAgICAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hdWRpb0l0ZW0udmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvL+iAgeW4iOaOiee6v+S8oOWFpXN0YXQgPSAx77yM5LiN6IO96LWw6L+Z5Liq5Zyw5pa5XG4gICAgICAgICAgICAgICAgaWYoc3RhdCA9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWxsdGltZSA9IE51bWJlcihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5jb3VudFRpbWVyKTsgIFxuICAgICAgICAgICAgICAgICAgICAvLyDnu5PmnZ/nrZTpopjlkozlgJLorqHml7bnu5PmnZ/lj5HpgIFsb2flkYrnn6XnrZTpopjov4fnqItcbiAgICAgICAgICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kRmVlZExvZygtMSxhbGx0aW1lLFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guc2VuZEZlZWRBcnIpO1xuICAgICAgICAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnByb2xvYWRIYW5kbGVyKC0xLFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guc2VuZEZlZWRBcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL+WtpueUn+WPlua2iOS6i+S7tlxuICAgICAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3gudGltZU91dEZyYW1lTG9vcEV2ZW50KHRydWUpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICAvL+iAgeW4iOerr+WPkemAgeWFs+mXreW8ueWxglxuICAgICAgICAgICAgLy8gb2JzZXJ2ZXIucHVibGlzaCgncmFuazpjbG9zZScpO1xuICAgICAgICAgICAgLy9tZXNzYWdlQ2VudGVyLmVtaXQoXCJyYW5rVmlld1wiLHtzdGF0IDogXCJDbG9zZVwiICAsIHRpbWUgOiAwfSk7XG4gICAgICAgICAgICAvL+WwhuayoeacieetlOWvueeahOWtpueUn+eKtuaAgeiuvue9ruS4uui2heaXtlxuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYW5zd2VyU3R1T3ZlclRpbWUoKTtcbiAgICAgICAgICAgIC8v6ICB5biI6YeN5paw57uR5a6a5LqL5Lu2XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnBpY3R1cmVFdmVudCgpO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuY291bnRBbmltYXRpb24pe1xuICAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmNvdW50QW5pbWF0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5jb3VudEFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hbnN3ZXJpbmcgPSB0cnVlO1xuICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hbnN3ZXJGbGFnID0gdHJ1ZTtcbiAgICAgICAgLy9Sb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS50ZWFjaGVyQW5zd2VyID0gZmFsc2U7XG4gICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmNoYW5nZUFuc3dlckJ0bignZmluaXNoJyk7XG4gICAgICAgIGlmKHRoaXMuY291bnRVSSl7XG4gICAgICAgICAgdGhpcy5jb3VudFVJLnZpc2libGUgPSBmYWxzZTsgIFxuICAgICAgICAgIHRoaXMuY291bnRVSS5jb3VudC50ZXh0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy5jb3VudERvd25hY3Rpb24pOyAgIFxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy5jb3VudFRpbWUpOyAgXG4gICAgICAgIExheWEuU291bmRNYW5hZ2VyLnN0b3BNdXNpYyhcInNvdW5kL2Fuc3dlcmluZy5tcDNcIik7IFxuICAgICAgICBpZihzdGF0ID09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoJ3NvdW5kL25ld3NvdW5kL2NvdW50ZG93bi5tcDMnKTtcbiAgICAgICAgICAgIGxldCB0aW1lRG93biA9IG5ldyB3aW5kb3cudGltZUVuZFVJKCk7IFxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZCh0aW1lRG93bik7ICAgICBcbiAgICAgICAgICAgIExheWEudGltZXIub25jZSgyMDAwLHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRpbWVEb3duKTtcbiAgICAgICAgICAgICAgICB0aW1lRG93bi5kZXN0cm95KCk7ICAgICAgICAgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoc3RhdCA9PSAxKXtcbiAgICAgICAgICAgIC8v57uP6L+H5LqL5Lu255qE5YWD57SgIOeKtuaAgeWPjeS4gOS4i1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5yZXR1cm5pdGVtcygpO1xuICAgICAgICAgICAgLy/lsIbmiYDmnInlj6/liqjnmoTlhYPntKDlvZLov5jljp/kvY1cbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3gucmVzZXRTdGF0ZSgpOyBcbiAgICAgICAgfVxuICAgICAgICBpZihHTS5yb2xlID09IDApe1xuICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5wYWdlQ2hpbGQubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYnRuTmV4dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5PcGVyYXRpb25JbmRleCA+IDApe1xuICAgICAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmNhbmNlbC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW1pdFN0dWRlbnQoKXtcbiAgICAgICAgbGV0IGRhdGEgPSB7YW5zd2Vyc3RhdGU6Miwgc2VuZGVySWQgOiBHTS5zZW5kZXJJZCxwYWdlOlJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2VOdW19XG4gICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcImFuc3dlckZpbmlzaFwiLGRhdGEpO1xuICAgIH1cbiAgIFxufSAgIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9lbGVtZW50L2NvdW50RG93bi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7O0FBTEE7Ozs7O0FBTUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFPQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQXBKQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./Course/src/mainscene/element/menu.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _menupanel = __webpack_require__(/*! ./menupanel */ 25);\n\nvar _menupanel2 = _interopRequireDefault(_menupanel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Menu ui visualization of the data that model contains.\n * 菜单\n * @class      MenuUIView (name)\n */\n\n\nvar MenuUIView = function (_window$ui$menuUI) {\n    _inherits(MenuUIView, _window$ui$menuUI);\n\n    function MenuUIView(courceList) {\n        _classCallCheck(this, MenuUIView);\n\n        var _this = _possibleConstructorReturn(this, (MenuUIView.__proto__ || Object.getPrototypeOf(MenuUIView)).call(this));\n\n        _this.pan = [];\n        _this.init(courceList);\n\n        return _this;\n    }\n\n    _createClass(MenuUIView, [{\n        key: 'init',\n        value: function init(courceList) {\n            //设置选中背景色\n            _init_module.observer.subscribe(\"bgcolor\", this.changeBgcolor.bind(this));\n            this.pos(0, 120);\n            // this.panelBox.vScrollBarSkin = '';   \n            for (var i = 0; i < courceList.length; i++) {\n                var pan = new _menupanel2.default(courceList[i].Name, courceList[i].Background, courceList[i].PageNum, i);\n                pan.y = 110 * i;\n                pan.x = 0;\n                this.pan.push(pan);\n                this.panelBox.addChild(pan);\n            }\n        }\n\n        //设置页码也需要改变panel选中背景色\n\n    }, {\n        key: 'changeBgcolor',\n        value: function changeBgcolor(pageNum) {\n            console.log(\"changeBgcolor\", pageNum);\n            for (var i in this.pan) {\n                if (i == pageNum) {\n                    this.pan[i].changeBgcolor(\"green\");\n                } else {\n                    this.pan[i].changeBgcolor();\n                }\n            }\n        }\n    }]);\n\n    return MenuUIView;\n}(window.ui.menuUI);\n\nexports.default = MenuUIView;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9tZW51LmpzPzYwNDUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbi8qKlxuICogTWVudSB1aSB2aXN1YWxpemF0aW9uIG9mIHRoZSBkYXRhIHRoYXQgbW9kZWwgY29udGFpbnMuXG4gKiDoj5zljZVcbiAqIEBjbGFzcyAgICAgIE1lbnVVSVZpZXcgKG5hbWUpXG4gKi9cbmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSAnLi4vLi4vbW9kdWxlL2luaXRfbW9kdWxlJztcbmltcG9ydCBtZW51UGFuZWwgZnJvbSAnLi9tZW51cGFuZWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW51VUlWaWV3IGV4dGVuZHMgd2luZG93LnVpLm1lbnVVSSB7XG4gICAgY29uc3RydWN0b3IoY291cmNlTGlzdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhbiA9IFtdO1xuICAgICAgICB0aGlzLmluaXQoY291cmNlTGlzdCk7XG4gICAgICBcbiAgICB9XG5cbiAgICBpbml0KGNvdXJjZUxpc3QpIHtcbiAgICAgICAgIC8v6K6+572u6YCJ5Lit6IOM5pmv6ImyXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZShcImJnY29sb3JcIix0aGlzLmNoYW5nZUJnY29sb3IuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucG9zKDAsMTIwKTtcbiAgICAgICAgLy8gdGhpcy5wYW5lbEJveC52U2Nyb2xsQmFyU2tpbiA9ICcnOyAgIFxuICAgICAgICBmb3IobGV0IGkgPSAwO2k8IGNvdXJjZUxpc3QubGVuZ3RoO2krKyl7ICAgICBcbiAgICAgICAgICAgIGxldCBwYW4gPSBuZXcgbWVudVBhbmVsKGNvdXJjZUxpc3RbaV0uTmFtZSxjb3VyY2VMaXN0W2ldLkJhY2tncm91bmQsY291cmNlTGlzdFtpXS5QYWdlTnVtLGkpOyAgICAgICAgICAgXG4gICAgICAgICAgICBwYW4ueSA9IDExMCppO1xuICAgICAgICAgICAgcGFuLnggPSAwO1xuICAgICAgICAgICAgdGhpcy5wYW4ucHVzaChwYW4pO1xuICAgICAgICAgICAgdGhpcy5wYW5lbEJveC5hZGRDaGlsZChwYW4pO1xuICAgICAgICB9IFxuICAgIH1cbiAgIFxuICAgICAvL+iuvue9rumhteeggeS5n+mcgOimgeaUueWPmHBhbmVs6YCJ5Lit6IOM5pmv6ImyXG4gICAgY2hhbmdlQmdjb2xvcihwYWdlTnVtKXtcbiAgICAgICAgIGNvbnNvbGUubG9nKFwiY2hhbmdlQmdjb2xvclwiLHBhZ2VOdW0pO1xuICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMucGFuKXtcbiAgICAgICAgICAgICBpZihpID09IHBhZ2VOdW0pe1xuICAgICAgICAgICAgICAgICB0aGlzLnBhbltpXS5jaGFuZ2VCZ2NvbG9yKFwiZ3JlZW5cIik7XG4gICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICB0aGlzLnBhbltpXS5jaGFuZ2VCZ2NvbG9yKCk7XG4gICAgICAgICAgICAgfVxuXG4gICAgICAgICB9XG4gICAgICAgICBcbiAgICB9XG5cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvbWFpbnNjZW5lL2VsZW1lbnQvbWVudS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFPQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFQQTs7Ozs7OztBQVFBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7Ozs7QUFsQ0E7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./Course/src/mainscene/element/menupanel.js ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _loading = __webpack_require__(/*! ../loading */ 3);\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\n * Menu ui visualization of the data that model contains.\n * 菜单panel\n * @class      menuPanel (name)\n */\n//io模块 && 顶层观察者，各模块间可以通过观察者来通信 && 场景管理器\n\n\nvar menuPanel = function (_window$ui$menupanelU) {\n    _inherits(menuPanel, _window$ui$menupanelU);\n\n    function menuPanel(name, Background, pageNum, index) {\n        _classCallCheck(this, menuPanel);\n\n        var _this = _possibleConstructorReturn(this, (menuPanel.__proto__ || Object.getPrototypeOf(menuPanel)).call(this));\n\n        _this.labelname = name;\n        _this.Background = Background;\n        _this.pageNum.text = pageNum;\n        _this.page = parseInt(pageNum) - 1;\n        _this.init();\n        return _this;\n    }\n\n    _createClass(menuPanel, [{\n        key: 'init',\n        value: function init() {\n            var _this2 = this;\n\n            this.name.text = \"\";\n            if (this.Background) {\n                this.url.skin = GM.ImageLibrary[this.Background].Url;\n            }\n\n            this.url.size(120, 90);\n            if (this.labelname) {\n                this.name.text = this.labelname;\n            }\n\n            if (this.page === _room2.default.getInstance().pageNum) {\n                //直接调用的话，由于在这里时当前场景没有加载完成，所以调用this.bgLabel会报错\n                Laya.timer.frameOnce(1, this, function () {\n                    _this2.bgLabel.bgColor = \"#27AB38\";\n                    _room2.default.getInstance().oldMenuItem = _this2.bgLabel;\n                });\n            }\n\n            this.on(Laya.Event.CLICK, this, function () {\n                //判断下一元素按钮是否禁用\n                if (_room2.default.getInstance().btnNext.disabled === true) {\n                    _this2.gnextpagetHandler(_this2);\n                } else {\n                    _init_module.observer.publish(\"nextpage\", { func: _this2.gnextpagetHandler, type: _this2 });\n                }\n            });\n        }\n    }, {\n        key: 'gnextpagetHandler',\n        value: function gnextpagetHandler(type) {\n            if (_room2.default.getInstance().oldMenuItem) {\n                _room2.default.getInstance().oldMenuItem.bgColor = null;\n            }\n            type.bgLabel.bgColor = \"#27AB38\";\n            _room2.default.getInstance().oldMenuItem = type.bgLabel;\n            _init_module.messageCenter.emit('setPage', { page: type.page });\n            _init_module.observer.publish('Page', { page: type.page });\n        }\n    }, {\n        key: 'changeBgcolor',\n        value: function changeBgcolor(type) {\n            if (type === \"green\") {\n                this.bgLabel.bgColor = \"#27AB38\";\n            } else {\n                this.bgLabel.bgColor = \"#4a4848\";\n            }\n        }\n    }]);\n\n    return menuPanel;\n}(window.ui.menupanelUI);\n\nexports.default = menuPanel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9tZW51cGFuZWwuanM/NzE4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogTWVudSB1aSB2aXN1YWxpemF0aW9uIG9mIHRoZSBkYXRhIHRoYXQgbW9kZWwgY29udGFpbnMuXG4gKiDoj5zljZVwYW5lbFxuICogQGNsYXNzICAgICAgbWVudVBhbmVsIChuYW1lKVxuICovXG4vL2lv5qih5Z2XICYmIOmhtuWxguinguWvn+iAhe+8jOWQhOaooeWdl+mXtOWPr+S7pemAmui/h+inguWvn+iAheadpemAmuS/oSAmJiDlnLrmma/nrqHnkIblmahcbmltcG9ydCB7IG1lc3NhZ2VDZW50ZXIsIG9ic2VydmVyLCBzY2VuZU1hbmFnZXIsIHNldFZpZXdDZW50ZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xuaW1wb3J0IFJvb21TY2VuZSBmcm9tICcuLi9yb29tJztcbmltcG9ydCBMb2FkaW5nU2NlbmUgZnJvbSAnLi4vbG9hZGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIG1lbnVQYW5lbCBleHRlbmRzIHdpbmRvdy51aS5tZW51cGFuZWxVSXtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLEJhY2tncm91bmQscGFnZU51bSxpbmRleCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubGFiZWxuYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5CYWNrZ3JvdW5kID0gQmFja2dyb3VuZDtcbiAgICAgICAgdGhpcy5wYWdlTnVtLnRleHQgPSBwYWdlTnVtO1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYXJzZUludChwYWdlTnVtKS0xO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCl7ICAgIFxuICAgICAgICB0aGlzLm5hbWUudGV4dCA9IFwiXCI7ICAgICBcbiAgICAgICAgaWYodGhpcy5CYWNrZ3JvdW5kKXtcbiAgICAgICAgICAgIHRoaXMudXJsLnNraW4gPSBHTS5JbWFnZUxpYnJhcnlbdGhpcy5CYWNrZ3JvdW5kXS5Vcmw7IFxuICAgICAgICB9XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICB0aGlzLnVybC5zaXplKDEyMCw5MCk7ICAgICBcbiAgICAgICAgaWYodGhpcy5sYWJlbG5hbWUpe1xuICAgICAgICAgICAgdGhpcy5uYW1lLnRleHQgPSB0aGlzLmxhYmVsbmFtZTtcbiAgICAgICAgfSBcbiAgICAgICAgICBcbiAgICAgICAgaWYodGhpcy5wYWdlID09PSBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlTnVtKXtcbiAgICAgICAgICAgIC8v55u05o6l6LCD55So55qE6K+d77yM55Sx5LqO5Zyo6L+Z6YeM5pe25b2T5YmN5Zy65pmv5rKh5pyJ5Yqg6L295a6M5oiQ77yM5omA5Lul6LCD55SodGhpcy5iZ0xhYmVs5Lya5oql6ZSZXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lT25jZSgxLHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLmJnTGFiZWwuYmdDb2xvciA9IFwiIzI3QUIzOFwiO1xuICAgICAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLm9sZE1lbnVJdGVtID0gdGhpcy5iZ0xhYmVsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+eyAgICAgXG4gICAgICAgICAgICAvL+WIpOaWreS4i+S4gOWFg+e0oOaMiemSruaYr+WQpuemgeeUqFxuICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYnRuTmV4dC5kaXNhYmxlZCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5nbmV4dHBhZ2V0SGFuZGxlcih0aGlzKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJuZXh0cGFnZVwiICwge2Z1bmMgOiB0aGlzLmduZXh0cGFnZXRIYW5kbGVyICwgdHlwZSA6IHRoaXN9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGduZXh0cGFnZXRIYW5kbGVyKHR5cGUpe1xuICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5vbGRNZW51SXRlbSl7XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5vbGRNZW51SXRlbS5iZ0NvbG9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0eXBlLmJnTGFiZWwuYmdDb2xvciA9IFwiIzI3QUIzOFwiO1xuICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5vbGRNZW51SXRlbSA9IHR5cGUuYmdMYWJlbDsgICAgICAgIFxuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoJ3NldFBhZ2UnLHtwYWdlOnR5cGUucGFnZX0pO1xuICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdQYWdlJyx7cGFnZTp0eXBlLnBhZ2V9KTsgIFxuICAgIH1cbiAgICBjaGFuZ2VCZ2NvbG9yKHR5cGUpe1xuICAgICAgICBpZih0eXBlID09PSBcImdyZWVuXCIpe1xuICAgICAgICAgICAgdGhpcy5iZ0xhYmVsLmJnQ29sb3IgPSBcIiMyN0FCMzhcIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmJnTGFiZWwuYmdDb2xvciA9IFwiIzRhNDg0OFwiO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgXG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9tZW51cGFuZWwuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7QUFUQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQU9BO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQXZEQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./Course/src/mainscene/element/page.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _laya = __webpack_require__(/*! ../../module/com/laya.custom */ 2);\n\nvar _loading = __webpack_require__(/*! ../loading */ 3);\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _picture = __webpack_require__(/*! ./picture */ 7);\n\nvar _picture2 = _interopRequireDefault(_picture);\n\nvar _SaveBeforeInfo = __webpack_require__(/*! ./SaveBeforeInfo */ 20);\n\nvar _SaveBeforeInfo2 = _interopRequireDefault(_SaveBeforeInfo);\n\nvar _label = __webpack_require__(/*! ./label */ 6);\n\nvar _label2 = _interopRequireDefault(_label);\n\nvar _combinationbox = __webpack_require__(/*! ./combinationbox */ 22);\n\nvar _combinationbox2 = _interopRequireDefault(_combinationbox);\n\nvar _dragEvent = __webpack_require__(/*! ../events/dragEvent */ 28);\n\nvar _dragEvent2 = _interopRequireDefault(_dragEvent);\n\nvar _clickEvent = __webpack_require__(/*! ../events/clickEvent */ 27);\n\nvar _clickEvent2 = _interopRequireDefault(_clickEvent);\n\nvar _ligatureEvent = __webpack_require__(/*! ../events/ligatureEvent */ 29);\n\nvar _ligatureEvent2 = _interopRequireDefault(_ligatureEvent);\n\nvar _puzzleEvent = __webpack_require__(/*! ../events/puzzleEvent */ 30);\n\nvar _puzzleEvent2 = _interopRequireDefault(_puzzleEvent);\n\nvar _anmation = __webpack_require__(/*! ../animat/anmation */ 18);\n\nvar _anmation2 = _interopRequireDefault(_anmation);\n\nvar _spineAnimation = __webpack_require__(/*! ../animat/spineAnimation */ 5);\n\nvar _spineAnimation2 = _interopRequireDefault(_spineAnimation);\n\nvar _bgAnimation = __webpack_require__(/*! ../animat/bgAnimation */ 19);\n\nvar _bgAnimation2 = _interopRequireDefault(_bgAnimation);\n\nvar _audioIcon = __webpack_require__(/*! ../media/audioIcon */ 8);\n\nvar _audioIcon2 = _interopRequireDefault(_audioIcon);\n\nvar _gifElement = __webpack_require__(/*! ../media/gifElement */ 31);\n\nvar _gifElement2 = _interopRequireDefault(_gifElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 存放页面所有的图片box  包括图片文本之间的交互 @param {*liujiaojiao}\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n// TagType  事件类型\n// TagType = {\n// Normal : 0,\n//   Drag  : 1,\n//   Drop  : 2,  \n//   Click : 3, \n//   line  : 4,\n//   aside : 5,\n//   Play  : 999\n// }\n//OpAnimationType  过场动画\n// OpAnimationType = {\n//     Default,\n//     Road,\n//     Fly,\n//     Walk,\n//     擦除,\n// }\n\n\nvar Page = function (_Laya$Sprite) {\n    _inherits(Page, _Laya$Sprite);\n\n    function Page(data) {\n        _classCallCheck(this, Page);\n\n        var _this = _possibleConstructorReturn(this, (Page.__proto__ || Object.getPrototypeOf(Page)).call(this));\n\n        _this.pictureItem = []; //需要点击播放的\n        _this.indexarray = []; //存放播放的index\n        _this.pageChild = []; //判断下一个的数组\n        _this.dicname = []; //存放name的数组\n        _this.objPool = []; //存放上一元素下一元素对象\n        _this.bgurl = null; //背景图url\n        _this.OperationIndex = 0; //操作步数，到0为第一步\n        _this.targetTypelength = 0; //答案区的个数    \n        _this.itemDic = []; //字典\n        _this.particels = []; //所有粒子效果\n        _this.events = []; //收集所有事件对象的数组\n        _this.OpAnimationType = 0; //默认过场动画      \n        _this.imageLigatures = []; //画线的数组元素\n        _this.bgmAudio = null; //声音\n        _this.eventItems = []; //通过event完成了事件的元素      \n        _this.musicTime = 0; //播放进度\n        _this.sendFeedArr = []; //答题过程时间记录\n        _this.allanswerTimer = null; //答题耗时\n        _this.PageNum = null; //当前页码\n        _this.answerArray = []; //存放每次答题的数组\n        _this.reportBtn = null; //报告按钮\n        _this.elementVisible = []; //和元素\n        _this.answerVisible = false;\n        _this.answerArea = []; //答案区\n        _this.bg = null; //背景\n        _this.CourseVideoURL = null; //页面视频\n        _this.Prompt = null; //页面提示音\n        _this.elementAudio = null; //元素提示音链接\n        _this.ElementIdAction = []; //旁白元素数组\n        _this.answererroyNum = 0; // 回答的错误次数\n        _this.nextAnswererroyNumNum = 3; // 下一次连续回答 3 或者 5 次错误出来的动画\n        _this.aniArray = []; //存放页面所有的答错动画\n        _this.puzzleFlag = false; //是否是拼图题型\n        _this.soundflage = true; ///确认声音只播放一次\n        _this.ElementGroup = null; //元素组\n        _this.OrderIndex = 0; //答案组满足次数\n        _this.ElementIndex = 0; //元素组序号对比\n        _this.AnswerSatisfyNum = null; //元素组满足次数以及触发事件\n        _this.isElementGroupNum = 0; //元素组满足要求\n        _this.isElementGroupFlag = false; //元素组满足一次之后 不会再次出现\n        _this.douzi = null; //正确豆子动画\n        _this.zhihuicao = null; //正确智慧草动画\n        _this.winjinyu = null; //正确鲸鱼动画\n        _this.isWined = false;\n        _this.bgmusicId = null;\n        _this.init(data);\n        return _this;\n    }\n    //初始化\n\n\n    _createClass(Page, [{\n        key: 'init',\n        value: function init(data) {\n            // messageCenter.emit(\"console\",{text:\"收到setpage\"});     \n            this.size(1200, 900);\n            this.pageHandle(data);\n            // 初始化答题内置动画\n            this.douzi = new _laya.createSkeleton(\"res/newani/douzi\");\n            this.zhihuicao = new _laya.createSkeleton(\"res/newani/zhihuicao\");\n            this.winjinyu = new _laya.createSkeleton(\"res/newani/xiaojingyus\");\n            // 监听更新步骤\n            _init_module.observer.subscribe(\"updateStep\", this.updataStepHandler.bind(this));\n            // 监听获取步骤\n            _init_module.observer.subscribe(\"getStep\", this.getStepHandler.bind(this));\n            // 监听背景音乐\n            _init_module.observer.subscribe(\"bgMusic\", this.bgmusicPlay.bind(this));\n            _init_module.observer.subscribe(\"winwin\", this.answercorrectAnimation.bind(this));\n        }\n\n        // 实例化并且存放当前页面所有元素\n\n    }, {\n        key: 'pageHandle',\n        value: function pageHandle(data) {\n            var _this2 = this;\n\n            this.pageData = data;\n            //添加背景图\n            // alert(data);\n            if (data.Background) {\n                console.log(data);\n                this.bgurl = GM.ImageLibrary[data.Background].Url;\n                //是否背景循环\n                if (data.CirculationMode > 0) {\n                    this.bg = new _bgAnimation2.default(this.bgurl, data.CirculationMode, data.CirculationSpeed);\n                } else {\n                    this.bg = new Laya.Image(this.bgurl);\n                }\n\n                this.bg.size(1200, 900);\n                this.addChild(this.bg);\n            }\n\n            if (data.ElementGroup) {\n                this.ElementGroup = data.ElementGroup;\n            }\n            // 存放页码\n            this.PageNum = data.PageNum;\n\n            //判断页面视频\n            if (data.CourseVideo) {\n                if (GM.ImageLibrary[data.CourseVideo]) {\n                    this.CourseVideoURL = GM.ImageLibrary[data.CourseVideo].Url;\n                    if (this.CourseVideoURL && GM.role === 0) {\n                        _room2.default.getInstance().videoObj.init(this.CourseVideoURL);\n                    }\n                }\n                _room2.default.getInstance().vedioBtn.visible = true;\n            } else {\n                this.CourseVideoURL = null;\n                _room2.default.getInstance().vedioBtn.visible = false;\n            }\n            //页面背景音乐\n            if (GM.ImageLibrary[data.BGM]) {\n                this.bgmusicId = data.BGM;\n                this.bgmAudio = GM.ImageLibrary[data.BGM].Url;\n            }\n\n            //页面提示音和提示音播放状态\n            if (data.Prompt) {\n                this.Prompt = GM.ImageLibrary[data.Prompt].Url;\n                _room2.default.getInstance().creatIcon(data.HasAutoPrompt, this.Prompt, data.Prompt);\n            }\n\n            //过场动画\n            this.OpAnimationType = data.OpAnimationType;\n            var oldbox = _room2.default.getInstance().oldbox;\n            //添加背景音乐\n            if (oldbox && this.bgmAudio === oldbox.bgmAudio) {\n                if (_room2.default.getInstance().bgMusic) {\n                    this.musicTime = _room2.default.getInstance().bgMusic.position;\n                }\n            }\n\n            _room2.default.getInstance().bgMusic = null;\n            Laya.SoundManager.stopMusic();\n            //暂时不确定，json中有没有OpAnimationType属性，以后将this.OpAnimationType条件去掉   \n            if (_room2.default.getInstance().next && this.OpAnimationType) {\n                _room2.default.getInstance().bottom.disabled = true;\n                _room2.default.getInstance().btnLeft.disabled = true;\n                _room2.default.getInstance().btnRight.disabled = true;\n                _room2.default.getInstance().btnTop.disabled = true;\n                oldbox.unEvents();\n                oldbox.timeOutFrameLoopEvent();\n                if (this.OpAnimationType === 4) {\n                    //擦除动画\n                    var catM = new window.catMaskUI();\n                    catM.BG.skin = this.bgurl;\n                    oldbox.addChild(catM);\n                    catM.catMaskAni.on(Laya.Event.COMPLETE, this, function () {\n                        oldbox.dispose();\n                        _this2.showSceneItem(data);\n                    });\n                } else if (this.OpAnimationType === 3) {\n                    Laya.SoundManager.playSound(\"sound/walk.mp3\");\n                    //走路动画\n                    Laya.Tween.from(this, { x: this.x + 1200 }, 1800, Laya.Ease.linearIn, null, 0, true);\n                    Laya.Tween.to(oldbox, { x: oldbox.x - 1200 }, 1800, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                        oldbox.dispose();\n                        _this2.showSceneItem(data);\n                        Laya.SoundManager.stopSound(\"sound/walk.mp3\");\n                    }), 0, true);\n                } else if (this.OpAnimationType === 2) {\n                    var flyUI = new window.curAniUI();\n                    oldbox.addChild(flyUI);\n                    flyUI.fly.addLabel('move', 1);\n                    flyUI.fly.addLabel('move', 11);\n                    flyUI.fly.addLabel('move', 20);\n                    flyUI.fly.addLabel('fly', 35);\n                    flyUI.fly.addLabel('flyend', 150);\n                    flyUI.fly.addLabel('white', 185);\n                    flyUI.fly.on(Laya.Event.LABEL, this, function (ev) {\n                        if (ev === 'move') {\n                            Laya.SoundManager.playSound(\"sound/fly/move.mp3\");\n                        } else if (ev === 'fly') {\n                            Laya.SoundManager.playSound(\"sound/fly/fly.mp3\");\n                        } else if (ev === 'flyend') {\n                            Laya.SoundManager.stopSound(\"sound/fly/fly.mp3\");\n                        } else if (ev === 'white') {\n                            Laya.SoundManager.playSound(\"sound/fly/white.mp3\");\n                        }\n                    });\n                    flyUI.fly.on(Laya.Event.COMPLETE, this, function () {\n                        var whitebg = new Laya.Image(\"res/animate/anibg.png\");\n                        _this2.addChild(whitebg);\n                        oldbox.dispose();\n                        Laya.Tween.to(whitebg, { alpha: 0 }, 2000, Laya.Ease.linearIn, Laya.Handler.create(_this2, function () {\n                            _this2.showSceneItem(data);\n                            _this2.removeChild(whitebg);\n                        }), 0, true);\n                    });\n                } else if (this.OpAnimationType === 1) {\n                    var roadUI = new window.ui.roadUI();\n                    oldbox.addChild(roadUI);\n                    roadUI.car.addLabel('carShow', 50);\n                    roadUI.car.addLabel('move', 2);\n                    roadUI.car.addLabel('move', 15);\n                    roadUI.car.on(Laya.Event.LABEL, this, function (ev) {\n                        if (ev === 'carShow') {\n                            Laya.SoundManager.playSound(\"sound/carShow.mp3\");\n                        } else if (ev === 'move') {\n                            Laya.SoundManager.playSound(\"sound/fly/move.mp3\");\n                        }\n                    });\n\n                    roadUI.car.on(Laya.Event.COMPLETE, this, function () {\n                        Laya.timer.once(700, _this2, function () {\n                            Laya.Tween.from(_this2, { x: _this2.x + 1200 }, 1800, Laya.Ease.linearIn, null, 0, true);\n                            Laya.Tween.to(oldbox, { x: oldbox.x - 1200 }, 1800, Laya.Ease.linearIn, Laya.Handler.create(_this2, function () {\n                                oldbox.dispose();\n                                _this2.showSceneItem(data);\n                            }), 0, true);\n                        });\n                    });\n                } else {\n                    //只要前面动画进不去，那就是播放默认\n                    //无动画，直接往下走\n                    oldbox.dispose();\n                    this.showSceneItem(data);\n                }\n            } else {\n                //由于前面暂时加的this.OpAnimationType条件，有可能导致oldbox还存在\n                if (oldbox) {\n                    oldbox.dispose();\n                }\n                this.showSceneItem(data);\n            }\n        }\n\n        //添加页面元素    \n\n    }, {\n        key: 'showSceneItem',\n        value: function showSceneItem(data) {\n            //添加背景音乐以及按钮状态\n            this.buttonInit();\n            var picList = data.ElementList;\n            var item = void 0;\n            for (var i = 0; i < picList.length; i++) {\n                if (picList[i].NickName == \"dian_gif\" || picList[i].NickName === \"feng_gif\" || picList[i].NickName === \"qing_gif\" || picList[i].NickName === \"xue_gif\" || picList[i].NickName === \"yu_gif\") {\n                    //特殊gif\n                    item = new _gifElement2.default(picList[i]);\n                } else {\n\n                    if (picList[i].TypeElement === 0) {\n                        item = new _picture2.default(picList[i]);\n                    } else if (picList[i].TypeElement === 3) {\n                        item = new _label2.default(picList[i]);\n                    } else if (picList[i].TypeElement === 4) {\n                        // console.log(\"我是骨骼动画\");\n                        item = new _spineAnimation2.default(picList[i]);\n                    } else if (picList[i].TypeElement === 5) {\n                        item = new _combinationbox2.default(picList[i]);\n                    }\n                }\n\n                this.dicname[item.name] = item;\n                this.pictureItem.push(item);\n                //console.log(this.pictureItem.length);\n                this.addChild(item);\n                item.visible = false;\n                // 出现顺序 按index出现 0的直接出现\n                if (item.DriveType == 0 && item.index == 0) {\n                    //判断是否老师可见                      \n                    this.IsStudentsInvisible(item);\n                    if (item.Animation) {\n                        var animation = new _anmation2.default(item, item.Animation);\n                    }\n                } else if (item.DriveType == 0) {\n                    //DriveType 为1 是不根据index出现的 不需要放入pagechild\n                    this.pageChild.push(item);\n                }\n                // 存放答案区\n                if (item.TagType === 2) {\n                    this.answerArea.push(item);\n                    this.targetTypelength++;\n                    // 答案组里面的表标签排序\n                    this.storeAnswerlabels(item.EventList, item);\n                }\n                if (item.TagType === 5) {\n                    this.ElementIdAction.push(item);\n                }\n\n                //存放事件元素\n                if (item.TagType === 1 || item.TagType === 3 || item.TagType === 4) {\n                    this.elementVisible.push(item);\n                }\n                //判断是否有元素视频 音频\n                if (item.MediaId != null && GM.ImageLibrary[item.MediaId]) {\n                    this.addElementMedia(item);\n                }\n            }\n\n            //判断上一步下一步按钮是否置灰          \n            this.jujedButtondisable();\n            if (GM.role === 0) {\n                this.pictureEvent();\n                // this.elelmentControl();\n            }\n            //根据答案区判断答题按钮和子弹面板按钮\n            this.jujedAnswerbtn();\n            //判断答案qu和元素是否可见\n            this.jujdeanswerPoint();\n            //1v1老师最后一页添加课后报告按钮\n            //  && GM.From != 0\n            if (data.PageNum === GM.LIBRARY.length && GM.role === 0) {\n                this.addAfterreport();\n            }\n\n            //给room添加mouseclick\n            this.on(Laya.Event.MOUSE_DOWN, _room2.default.getInstance().mouseP, _room2.default.getInstance().mouseP.sendMouseclick);\n\n            //添加旁白功能      \n            if (this.ElementIdAction.length > 0) {\n                for (var _i = 0; _i < this.ElementIdAction.length; _i++) {\n                    //驱动方式为自动时  直接出现  \n                    if (this.ElementIdAction[_i].DriveType === 0 && this.ElementIdAction[_i].visible) {\n                        this.asideHandler(this.ElementIdAction[_i]);\n                    }\n                }\n            }\n            //在元素组中的答案组添加顺序以及添加出现消失事件\n            if (this.ElementGroup) {\n                if (this.ElementGroup.ElementInfoList.length > 0) {\n                    this.Answergroup(this.ElementGroup);\n                }\n            }\n        }\n\n        //初始化背景音乐以及按钮状态\n\n    }, {\n        key: 'buttonInit',\n        value: function buttonInit() {\n            if (this.bgmAudio) {\n                _room2.default.getInstance().bottom.bgsoundBtn.visible = true;\n                console.log(Laya.SoundManager.musicMuted);\n                if (!Laya.SoundManager.musicMuted) {\n                    if (_init_module.messageCenter.soundoutPlay()) {\n                        _init_module.messageCenter.emit(\"playmusic\", { id: this.bgmusicId, statu: \"open\" });\n                    } else {\n                        _room2.default.getInstance().bgMusic = Laya.SoundManager.playMusic(this.bgmAudio, 0, null, this.musicTime);\n                    }\n                }\n            } else {\n                _room2.default.getInstance().bottom.bgsoundBtn.visible = false;\n            }\n            //按钮状态\n            _room2.default.getInstance().bottom.disabled = false;\n            _room2.default.getInstance().btnRight.disabled = false;\n            _room2.default.getInstance().btnLeft.disabled = false;\n            _room2.default.getInstance().btnTop.disabled = false;\n            _room2.default.getInstance().btnRight.gray = true;\n            _room2.default.getInstance().btnLeft.gray = true;\n            _room2.default.getInstance().cancel.disabled = true;\n        }\n\n        //添加元素多媒体状态(包括元素的视频以及音频)\n\n    }, {\n        key: 'addElementMedia',\n        value: function addElementMedia(item) {\n            //在元素左上角添加打开按钮\n            var itemMedieButton = void 0;\n            var mediaurl = GM.ImageLibrary[item.MediaId].Url;\n            if (GM.ImageLibrary[item.MediaId].type === \"audio\") {\n                itemMedieButton = new _audioIcon2.default(item.MediaMode, GM.ImageLibrary[item.MediaId].Url, item.MediaDelay, item.MediaId);\n                itemMedieButton.name = \"audio\";\n                this.elementAudio = GM.ImageLibrary[item.MediaId].Url;\n                itemMedieButton.visible = false;\n                item.addChild(itemMedieButton);\n                if (item.visible && GM.ImageLibrary[item.MediaId].type === \"audio\") {\n                    if (GM.role === 0) {\n                        if (itemMedieButton.MediaMode != 1) {\n                            itemMedieButton.visible = true;\n                        }\n                    }\n                    item.find(\"audio\").constrolMediaMode();\n                }\n            } else if (GM.ImageLibrary[item.MediaId].type === \"video\") {\n                itemMedieButton = new Laya.Image('res/commonn/icon_vd.png');\n                itemMedieButton.on(Laya.Event.CLICK, this, function () {\n                    _room2.default.getInstance().videoObj.init(mediaurl);\n                });\n                if (GM.role === 0) {\n                    itemMedieButton.visible = true;\n                    item.addChild(itemMedieButton);\n                }\n            }\n\n            itemMedieButton.size(30, 30);\n            if (item.find(\"spineani\")) {\n                itemMedieButton.scale(itemMedieButton.scaleX / itemMedieButton.globalScaleX, itemMedieButton.scaleY / itemMedieButton.globalScaleY);\n            }\n            itemMedieButton.anchorX = 0.5;\n            itemMedieButton.anchorY = 0.5;\n            itemMedieButton.x = item.width / 2;\n            if (item.MirrorX == -1) {\n                itemMedieButton.skewY = 180;\n            }\n            if (item.MirrorY == -1) {\n                itemMedieButton.y = item.height;\n                itemMedieButton.skewX = 180;\n            } else {\n                itemMedieButton.y = -10;\n            }\n        }\n\n        //元素老师可见功能\n\n    }, {\n        key: 'IsStudentsInvisible',\n        value: function IsStudentsInvisible(item) {\n            if (item.IsStudentsInvisible === true) {\n                if (GM.role === 0) {\n                    item.visible = true;\n                }\n            } else {\n                item.visible = true;\n            }\n        }\n\n        //添加课后报告\n\n    }, {\n        key: 'addAfterreport',\n        value: function addAfterreport() {\n            this.reportBtn = new Laya.Image(\"res/reports/baogao.png\");\n            this.addChild(this.reportBtn);\n            this.reportBtn.right = 50;\n            this.reportBtn.bottom = 100;\n            this.reportBtn.on(Laya.Event.CLICK, this, function () {\n                console.log(\"课后报告\");\n                _init_module.messageCenter.emit(\"getReport\");\n            });\n            var figerreport = new figeReportUI();\n            this.reportBtn.addChild(figerreport);\n            figerreport.bottom = this.reportBtn.height + 10;\n            figerreport.left = -figerreport.width / 2 + 45;\n        }\n\n        //根据答案组判断答题按钮和子弹面板按钮\n\n    }, {\n        key: 'jujedAnswerbtn',\n        value: function jujedAnswerbtn() {\n            if (this.targetTypelength === 0 && !this.puzzleFlag) {\n                _room2.default.getInstance().answerBtn.disabled = true;\n                _room2.default.getInstance().bottom.buttetBtn.disabled = true;\n            } else {\n                _room2.default.getInstance().answerBtn.disabled = false;\n                _room2.default.getInstance().bottom.buttetBtn.disabled = false;\n            }\n        }\n\n        //页面旁白元素\n\n    }, {\n        key: 'asideHandler',\n        value: function asideHandler(item) {\n            // 0点击  1出场 2  出场点击并存\n            var obj = void 0,\n                sounda = void 0;\n            if (item.MediaMode === 1 || item.MediaMode === 2) {\n                if (item.find(\"audio\")) {\n                    var _sounda = item.find(\"audio\").sounda;\n                    //学生旁白根据声音时长走          \n                    if (_init_module.messageCenter.soundoutPlay()) {\n                        if (_sounda) {\n                            // messageCenter.emit(\"console\",{text:\"app播放\"});     \n                            var time = item.find(\"audio\").sounduration;\n                            // messageCenter.emit(\"console\",time);       \n                            if (item.EventList.length > 0) {\n                                // for(let i in item.EventList){        \n                                obj = item.EventList[0];\n                                // }\n                            }\n                            // messageCenter.emit(\"console\",obj); \n                            Laya.timer.once(time * 1000, this, this.showClearEventList, [obj]);\n                        }\n                    } else {\n                        if (_sounda) {\n                            if (_sounda.duration != 0) {\n                                _room2.default.getInstance().Sounduration = _sounda.duration;\n                            }\n                            if (item.EventList.length > 0) {\n                                // for(let i in item.EventList){        \n                                obj = item.EventList[0];\n                                // }\n                            }\n                            console.log(_room2.default.getInstance().Sounduration);\n                            Laya.timer.once(_room2.default.getInstance().Sounduration * 1000, this, this.showClearEventList, [obj]);\n                        }\n                    }\n                }\n            }\n        }\n\n        //页面答案组初始化\n\n    }, {\n        key: 'storeAnswerlabels',\n        value: function storeAnswerlabels(EventList, item) {\n            // 按照OrderIndex进行标签排序\n            if (EventList) {\n                item.answertagArray = [];\n                var list = this.Answerlabelssort(EventList);\n                for (var i = 0; i < list.length; i++) {\n                    item.answertagArray.push({ index: i, EventList: list[i] });\n                }\n            }\n        }\n\n        //页面答案组里面的标签排序\n\n    }, {\n        key: 'Answerlabelssort',\n        value: function Answerlabelssort(list) {\n            var listArr = [];\n            list.forEach(function (el, index) {\n                for (var i = 0; i < listArr.length; i++) {\n                    // 对比相同的字段key，相同放入对应的数组\n                    if (listArr[i].OrderIndex == el.OrderIndex) {\n                        listArr[i].listInfo.push({\n                            EventTag: el.EventTag,\n                            EventList: el\n                        });\n                        return;\n                    }\n                }\n                // 第一次对比没有参照，放入参照\n                listArr.push({\n                    OrderIndex: el.OrderIndex,\n                    listInfo: [{\n                        EventTag: el.EventTag,\n                        EventList: el\n                    }]\n                });\n            });\n\n            return listArr.sort(this.compare('OrderIndex'));\n        }\n\n        //页面元素组初始化\n\n    }, {\n        key: 'Answergroup',\n        value: function Answergroup(ElementGroup) {\n            console.log(\"ElementGroup\", ElementGroup);\n            //根据index给相同index的元素归类\n            var list = this.acordNumsort(ElementGroup.ElementInfoList);\n            console.log(list);\n            // 确定满足次数  等于0 以及大于元素组length的 满足次数等于length\n            if (ElementGroup.SatisfyNum > 0 && ElementGroup.SatisfyNum < ElementGroup.ElementInfoList.length) {\n                this.AnswerSatisfyNum = {\n                    SatisfyNum: ElementGroup.SatisfyNum,\n                    CEvent: ElementGroup.CEvent\n                };\n            } else {\n                this.AnswerSatisfyNum = {\n                    SatisfyNum: ElementGroup.ElementInfoList.length,\n                    CEvent: ElementGroup.CEvent\n                };\n            }\n            console.log(\"全部答对次数以及答对的效果\", this.AnswerSatisfyNum);\n            //给相同元素组合进行排序\n            for (var i = 0; i < list.length; i++) {\n                this.addelementparamandIndex(list[i].listInfo, i);\n            }\n        }\n        //页面元素组元素排序\n\n    }, {\n        key: 'addelementparamandIndex',\n        value: function addelementparamandIndex(list, index) {\n            for (var i = 0; i < list.length; i++) {\n                if (this.dicname[list[i].Name]) {\n                    this.dicname[list[i].Name].isElementGroup = { index: index };\n                    this.dicname[list[i].Name].isElementSame = true;\n                    console.log(this.dicname[list[i].Name]);\n                }\n            }\n        }\n\n        // 页面元素中相同元素归类\n\n    }, {\n        key: 'acordNumsort',\n        value: function acordNumsort(list) {\n            var listArr = [];\n            list.forEach(function (el, index) {\n                for (var i = 0; i < listArr.length; i++) {\n                    // 对比相同的字段key，相同放入对应的数组\n                    if (listArr[i].Num == el.Num) {\n                        listArr[i].listInfo.push({\n                            Num: el.Num,\n                            Name: el.Name\n                        });\n                        return;\n                    }\n                }\n                // 第一次对比没有参照，放入参照\n                listArr.push({\n                    Num: el.Num,\n                    listInfo: [{\n                        Num: el.Num,\n                        Name: el.Name\n                    }]\n                });\n            });\n\n            return listArr.sort(this.compare('Num'));\n        }\n\n        // 按照OrderIndex进行标签排序\n\n    }, {\n        key: 'compare',\n        value: function compare(property) {\n            return function (a, b) {\n                var value1 = a[property];\n                var value2 = b[property];\n                if (value1 === value2) {}\n                return value1 - value2;\n            };\n        }\n\n        // 答案区满足的Eventlist\n\n    }, {\n        key: 'showClearEventList',\n        value: function showClearEventList(EventList) {\n            var _this3 = this;\n\n            var ElementId = void 0,\n                ClearElementId = void 0;\n            var delay = EventList.Delay * 1000;\n            // 元素的name有可能有好几个放一个数组里\n            if (EventList.ElementId != \"\" && EventList.ElementId != null) {\n                ElementId = EventList.ElementId.split(',');\n                Laya.timer.once(delay, this, function () {\n                    // 元素出现\n                    _this3.showClearElement(ElementId, 0);\n                });\n            }\n            if (EventList.ClearElementId != \"\" && EventList.ClearElementId != null) {\n                ClearElementId = EventList.ClearElementId.split(',');\n                Laya.timer.once(delay, this, function () {\n                    // 元素消失\n                    _this3.showClearElement(ClearElementId, 1);\n                });\n            }\n            if (EventList.SwitchBoneId) {\n                // 切换动画\n                this.switchSpineani(EventList.SwitchBoneId);\n            }\n        }\n\n        //骨骼动画切换\n\n    }, {\n        key: 'switchSpineani',\n        value: function switchSpineani(res) {\n            console.log(SwitchBoneId);\n            // 判断出现消失里面是否有SwitchBoneId字段\n            var Element = void 0;\n            var SwitchBoneId = JSON.parse(res);\n            if (SwitchBoneId.length > 0) {\n                for (var i = 0; i < SwitchBoneId.length; i++) {\n                    Element = this.dicname[SwitchBoneId[i].Id];\n                    Element.visible = true;\n                    Element.changePlaystyle(SwitchBoneId[i].Action);\n                }\n            }\n        }\n\n        //答案区满足的Eventlist元素出现或者消失\n\n    }, {\n        key: 'showClearElement',\n        value: function showClearElement(name, type) {\n            // 0是出现 1 是消失\n            var ElementId = void 0;\n            var sta = false;\n            for (var j = 0; j < name.length; j++) {\n                ElementId = this.dicname[name[j]];\n                if (ElementId) {\n                    if (type == 0) {\n                        sta = true;\n                        this.IsStudentsInvisible(ElementId);\n                        var animation = new _anmation2.default(ElementId, ElementId.Animation);\n                        //带出元素事旁白并且有声音的则设置出场方式为自动\n                        var showaudio = ElementId.find(\"audio\");\n                        if (showaudio) {\n                            showaudio.MediaMode = 1;\n                            showaudio.constrolMediaMode();\n                        }\n                    } else if (type == 1) {\n                        sta = false;\n                        ElementId.visible = false;\n                        if (ElementId.TagType === 4) {\n                            console.log(\"消失的元素是连线\", ElementId);\n                            //消失的元素如果是可连线的\n                            for (var i in this.events) {\n                                if (ElementId.name === this.events[i].name) {\n                                    this.events[i].destroyimageLigature();\n                                }\n                            }\n                            console.log(this.events);\n                        }\n                    }\n                    var obj = {\n                        element: ElementId,\n                        stat: sta\n                    };\n                    this.eventItems.push(obj);\n                }\n            }\n\n            //出现和消失都需要判断开始答题按钮是否可答题状态\n            this.jujdeanswerPoint();\n        }\n\n        //判断上一步下一步按钮是否置灰\n\n    }, {\n        key: 'jujedButtondisable',\n        value: function jujedButtondisable() {\n            if (this.pageChild.length === 0) {\n                _init_module.observer.unsubscribe(\"updateStep\");\n                _room2.default.getInstance().btnNext.disabled = true;\n            } else {\n                _room2.default.getInstance().btnNext.disabled = false;\n            }\n        }\n\n        // 背景音乐交互 \n\n    }, {\n        key: 'bgmusicPlay',\n        value: function bgmusicPlay(data) {\n            if (data.statu === \"close\") {\n                //手机端背景音乐外放\n                Laya.SoundManager.musicMuted = true;\n                if (_init_module.messageCenter.soundoutPlay()) {\n                    _init_module.messageCenter.emit(\"playmusic\", { id: this.bgmusicId, statu: \"close\" });\n                }\n            } else if (data.statu === \"open\") {\n                Laya.SoundManager.musicMuted = false;\n                if (_init_module.messageCenter.soundoutPlay()) {\n                    _init_module.messageCenter.emit(\"playmusic\", { id: this.bgmusicId, statu: \"open\" });\n                } else {\n                    if (this.bgmAudio) {\n                        Laya.SoundManager.playMusic(this.bgmAudio);\n                    }\n                }\n            }\n        }\n\n        // 根据TagType事件类型绑定事件\n\n    }, {\n        key: 'pictureEvent',\n        value: function pictureEvent() {\n            this.itemDic = [];\n            for (var i = 0; i < this.pictureItem.length; i++) {\n                var temp = void 0;\n                if (this.pictureItem[i].TagType == 1) {\n                    temp = new _dragEvent2.default(this.pictureItem, this.pictureItem[i]);\n                    //字典\n                    this.itemDic[this.pictureItem[i].name] = this.pictureItem[i];\n                } else if (this.pictureItem[i].TagType == 3) {\n                    temp = new _clickEvent2.default(this.pictureItem, this.pictureItem[i]);\n                    this.itemDic[this.pictureItem[i].name] = this.pictureItem[i];\n                } else if (this.pictureItem[i].TagType == 4) {\n                    temp = new _ligatureEvent2.default(this.pictureItem, this.pictureItem[i]);\n                    //字典\n                    this.itemDic[this.pictureItem[i].name] = this.pictureItem[i];\n                } else if (this.pictureItem[i].TagType == 6) {\n                    this.puzzleFlag = true;\n                    // console.log(\"我是 拼图\");\n                    var _temp = new _puzzleEvent2.default(this.pictureItem, this.pictureItem[i]);\n                    //字典\n                    this.itemDic[this.pictureItem[i].name] = this.pictureItem[i];\n                }\n\n                //销毁时遍历所有temp内的dispose函数\n                if (temp) {\n                    this.events.push(temp);\n                }\n            }\n        }\n\n        //判断答案区和可点可拖元素是否可见\n\n    }, {\n        key: 'jujdeanswerPoint',\n        value: function jujdeanswerPoint() {\n            //遍历所有答案区和元素是否可见 \n            var index = 0;\n            var flag = false;\n            if (this.answerArea.length > 0) {\n                for (var i in this.elementVisible) {\n                    //元素可见  并且 这个元素的答案区也在\n                    for (var j in this.answerArea) {\n                        if (this.elementVisible[i].visible && this.answerArea[j].visible) {\n                            if (this.answerArea[j].EventList != null) {\n                                for (var k = 0; k < this.answerArea[j].EventList.length; k++) {\n                                    if (this.elementVisible[i].Tag === this.answerArea[j].EventList[k].EventTag) {\n                                        index++;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                if (index > 0) {\n                    this.answerVisible = true;\n                } else {\n                    this.answerVisible = false;\n                }\n\n                if (this.answerVisible && !_room2.default.getInstance().answerFinishFlag) {\n                    _room2.default.getInstance().answerBtn.disabled = false;\n                } else {\n                    if (!this.puzzleFlag) {\n                        _room2.default.getInstance().answerBtn.disabled = true;\n                    }\n                }\n            }\n        }\n\n        //设置层级\n\n    }, {\n        key: 'answerIndexChange',\n        value: function answerIndexChange(item) {\n            var index = this._childs.length - 1;\n            this.setChildIndex(item, index);\n        }\n\n        //重置位置\n\n    }, {\n        key: 'resetState',\n        value: function resetState() {\n            this.resetAnswerbox();\n            for (var i in this.pictureItem) {\n                if (this.puzzleFlag) {\n                    this.pictureItem[i].rotation = this.pictureItem[i].Rotation;\n                }\n                var postionX = Number(this.pictureItem[i].Position.split(',')[0]) + this.pictureItem[i].width / 2;\n                var postionY = Number(this.pictureItem[i].Position.split(',')[1]) + this.pictureItem[i].height / 2;\n                if (this.pictureItem[i].x != postionX || this.pictureItem[i].y != postionY) {\n                    this.pictureItem[i].x = postionX;\n                    this.pictureItem[i].y = postionY;\n                }\n            }\n        }\n\n        //重置答案组\n\n    }, {\n        key: 'resetAnswerbox',\n        value: function resetAnswerbox() {\n            for (var i in this.answerArea) {\n                this.storeAnswerlabels(this.answerArea[i].EventList, this.answerArea[i]);\n            }\n        }\n\n        //解绑以及销毁事件\n\n    }, {\n        key: 'timeOutFrameLoopEvent',\n        value: function timeOutFrameLoopEvent(destroyEvent) {\n            //console.log(\"取消事件\");\n            for (var i in this.itemDic) {\n                this.offEvent(this.itemDic[i]);\n            }\n\n            if (destroyEvent === undefined) {\n                //将事件中所有实例化的对象销毁掉\n                for (var _i2 in this.events) {\n                    this.events[_i2].dispose();\n                }\n                this.events = [];\n            }\n        }\n\n        //解绑事件\n\n    }, {\n        key: 'offEvent',\n        value: function offEvent(item) {\n            item.offAll();\n        }\n\n        //元素状态还原\n\n    }, {\n        key: 'returnitems',\n        value: function returnitems() {\n            this.eventItems = this.eventItems.reverse();\n            for (var i in this.eventItems) {\n                this.eventItems[i].element.visible = !this.eventItems[i].stat;\n            }\n            this.eventItems = [];\n        }\n\n        //判断tag是否相同\n\n    }, {\n        key: 'listshiftfirst',\n        value: function listshiftfirst(Tag, item, data) {\n            var flag = false;\n            var list = void 0;\n            if (Tag.answertagArray.length > 0) {\n                if (Tag.answertagArray[0].EventList) {\n                    list = Tag.answertagArray[0].EventList.listInfo;\n                }\n            }\n            if (list) {\n                for (var i = 0; i < list.length; i++) {\n                    if (item.Tag === list[i].EventTag) {\n                        flag = true;\n                        this.stsicAnswerone(Tag, list[i], item);\n                        //根据index删除里面tag标签\n                        var index = list.indexOf(list[i]);\n                        list.splice(index, 1);\n                        if (list.length === 0) {\n                            this.OrderIndex++;\n                            Tag.answertagArray.shift();\n                            this.stsicAnswergroup(Tag, data);\n                        }\n                        break;\n                    }\n                }\n                // 返回true\n                if (flag) {\n                    return flag;\n                }\n            }\n        }\n\n        //满足其中一个答案区\n\n    }, {\n        key: 'stsicAnswerone',\n        value: function stsicAnswerone(Tag, TagEventList, item, data) {\n            //展示出现消失元素\n            Laya.SoundManager.playSound('sound/Events/smallWin.mp3');\n            this.showClearEventList(TagEventList.EventList);\n        }\n\n        // 满足其中一个答案组\n\n    }, {\n        key: 'stsicAnswergroup',\n        value: function stsicAnswergroup(Tag, data) {\n            if (Tag.answertagArray.length === 0) {\n                this.ElementIndex++;\n                this.OrderIndex = 0;\n                if (Tag.isElementGroup) {\n                    this.isElementGroupNum++;\n                }\n            }\n            this.bringOutElement(data);\n        }\n\n        //答题组以及元素组判对\n\n    }, {\n        key: 'bringOutElement',\n        value: function bringOutElement(data) {\n            var rightFlag = false;\n            // 答案组满足\n            if (this.ElementIndex === this.answerArea.length) {\n                rightFlag = true;\n            }\n            //元素组存在 && 元素组满足次数SatisfyNum达到\n            if (this.ElementGroup.ElementInfoList.length > 0 && !this.isElementGroupFlag) {\n                if (this.isElementGroupNum === this.AnswerSatisfyNum.SatisfyNum) {\n                    if (this.ElementGroup.ElementInfoList.length === this.targetTypelength) {\n                        rightFlag = true;\n                    }\n                    //元素组只满足一次\n                    this.isElementGroupFlag = true;\n                    this.showClearEventList(this.AnswerSatisfyNum.CEvent);\n                }\n            }\n            //判断答题次数是否等于答案组次数\n            if (rightFlag) {\n                if (GM.role === 1 && GM.classMode === \"1v6\" && data === undefined) {\n                    //1v6情况 学生答对告诉告诉老师答题正确\n                    this.sendAnswer(\"allright\", null, null, null, null, null, null, 3);\n                }\n                //学生视角则只播放动画，无需重置 无排名\n                //老师视角 老师自己显示 并且发送\n                if (GM.role === 0 && _room2.default.getInstance().changeroleStudentId) {\n                    // observer.publish(\"winwin\");\n                } else {\n                    this.answerCorrect(data);\n                }\n            } else {\n                Laya.SoundManager.playSound('sound/Events/smallWin.mp3');\n            }\n        }\n\n        //答题正确后处理\n\n    }, {\n        key: 'answerCorrect',\n        value: function answerCorrect(data) {\n            var _this4 = this;\n\n            //答题正确后重置参数\n            this.isWined = true;\n            this.answerparamreset();\n            _room2.default.getInstance().answering = true;\n            // 开始答题按钮置灰\n            if (GM.role === 0) {\n                _room2.default.getInstance().changeAnswerBtn('finish');\n            }\n            //上一元素下一元素判断状态   \n            this.jujedButtondisable();\n            // 如果背景音乐存在则播放，不存在则停止答题音效\n            // if(this.bgmAudio){\n            //     RoomScene.getInstance().bgMusic = Laya.SoundManager.playMusic(this.bgmAudio);           \n            // }else{\n            //     Laya.SoundManager.stopMusic();  \n            // }     \n            if (GM.flag === 0) {\n                _init_module.observer.publish(\"winwin\");\n            }\n\n            // data.role不为空，说明是room里面进来的，然后自己又是老师那么发送你赢了弹层。\n            if (GM.role === 0) {\n                //你赢了弹层开启\n                _init_module.messageCenter.emit(\"rankView\", { ranknum: 0, showDialog: true, stuId: GM.senderId, stat: \"Open\" });\n            }\n            // 答题结束后,如果有提示音按钮则置为false\n            if (GM.role === 1) {\n                if (_room2.default.getInstance().audioItem) {\n                    _room2.default.getInstance().audioItem.visible = false;\n                }\n            }\n            //取消countDownView   \n            if (_room2.default.getInstance().countUI) {\n                //发送学生答题过程\n                Laya.timer.once(1000, this, function () {\n                    //学生自己答题data是undefined,老师答题学生通过answerfinsh进入这个函数data一定不为空，那就不走下面的if\n                    if (GM.role === 1) {\n                        var userTime = 0;\n                        var alltime = 999;\n                        if (_room2.default.getInstance().countUI.countUI) {\n                            var timertext = Number(_room2.default.getInstance().countUI.countUI.count.text);\n                            alltime = Number(_room2.default.getInstance().countTimer);\n                            userTime = alltime - timertext - 1;\n                        } else {\n                            userTime = Number(_room2.default.getInstance().countUI.useTime) - 1;\n                        }\n\n                        _this4.proloadHandler(userTime, _this4.sendFeedArr);\n\n                        _this4.sendFeedLog(userTime, alltime, _this4.sendFeedArr);\n                    }\n                    Laya.timer.clearAll(_room2.default.getInstance().countUI);\n                    _room2.default.getInstance().removeChild(_room2.default.getInstance().countUI);\n                });\n            }\n            //解绑所有事件，无需销毁\n            this.timeOutFrameLoopEvent(true);\n            this.soundflage = true;\n        }\n    }, {\n        key: 'answerparamreset',\n        value: function answerparamreset() {\n            this.ElementIndex = 0;\n            this.OrderIndex = 0;\n            this.isElementGroupNum = 0;\n        }\n\n        // 答题正确随机动画\n\n    }, {\n        key: 'answercorrectAnimation',\n        value: function answercorrectAnimation() {\n            var _this5 = this;\n\n            this.randoma = Math.ceil(Math.random() * 3);\n            if (this.randoma === 1) {\n                if (this.soundflage) {\n                    this.soundflage = false;\n                    Laya.SoundManager.playSound(\"sound/newsound/wincao.mp3\");\n                }\n                this.zhihuicao.pos(-100, 1000);\n                this.addChild(this.zhihuicao);\n                this.zhihuicao.play(0, false);\n                Laya.Tween.to(this.zhihuicao, { x: 90, y: 800, rotation: 45, scaleX: 0.7, scaleY: 0.7 }, 500, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                    Laya.Tween.to(_this5.zhihuicao, { x: 90, y: 800, rotation: 45, scaleX: 0.7, scaleY: 0.7 }, 1000, Laya.Ease.linearIn, Laya.Handler.create(_this5, function () {\n                        Laya.Tween.to(_this5.zhihuicao, { x: -100, y: 1000, rotation: 45, scaleX: 0.7, scaleY: 0.7 }, 500, Laya.Ease.linearIn, Laya.Handler.create(_this5, function () {\n                            _this5.removeChild(_this5.zhihuicao);\n                            _this5.zhihuicao.destroy();\n                        }), 0, true);\n                    }), 0, true);\n                }), 0, true);\n            } else if (this.randoma === 2) {\n                Laya.SoundManager.playSound(\"sound/newsound/windou.mp3\");\n                this.douzi.scale(0.7, 0.7);\n                this.douzi.pos(100, 800);\n                this.douzi.play(0, false);\n                this.addChild(this.douzi);\n                this.douzi.on(Laya.Event.STOPPED, this, function () {\n                    _this5.removeChild(_this5.douzi);\n                    _this5.douzi.destroy();\n                });\n            } else if (this.randoma === 3) {\n                Laya.SoundManager.playSound(\"sound/newsound/winfish.mp3\");\n                this.winjinyu.scale(0.4, 0.4);\n                this.winjinyu.pos(1200, 970);\n                this.winjinyu.play(0, false);\n                this.addChild(this.winjinyu);\n                this.winjinyu.on(Laya.Event.STOPPED, this, function () {\n                    _this5.removeChild(_this5.winjinyu);\n                    _this5.winjinyu.destroy();\n                });\n            }\n        }\n\n        // 回答错误的随机动画提示  点击题，拖拽题，连线题都用了    \n\n    }, {\n        key: 'answerErrorAnimation',\n        value: function answerErrorAnimation() {\n            var _this6 = this;\n\n            this.random = null;\n            this.answererroyNum++;\n            // 本次连续3次错误提醒，下一次连续5次错误提醒，3 跟 5 循环出现\n            if (this.answererroyNum == 3 && this.nextAnswererroyNumNum == 3 || this.answererroyNum == 5 && this.nextAnswererroyNumNum == 5) {\n                this.random = Math.ceil(Math.random() * 2);\n                this.nextAnswererroyNumNum = this.nextAnswererroyNumNum == 3 ? 5 : 3;\n            }\n            if (this.random) {\n                var errani = void 0;\n                switch (this.random) {\n                    case 1:\n                        errani = new _laya.createSkeleton(\"res/newani/dawang_sikao\");\n                        Laya.SoundManager.playSound(\"sound/newsound/errorhead.mp3\");\n                        errani.scale(0.4, 0.4);\n                        break;\n                    default:\n                        Laya.SoundManager.playSound(\"sound/newsound/errorlook.mp3\");\n                        errani = new _laya.createSkeleton(\"res/newani/guancha\");\n                        errani.scale(0.3, 0.3);\n                }\n                errani.pos(-100, 800);\n                Laya.Tween.to(errani, { x: 300, y: 800 }, 500, Laya.Ease.linearIn, null, 500, false);\n                errani.name = \"errani\";\n                errani.play(0, false);\n                this.addChild(errani);\n                this.errani = errani;\n                // 有个一问题，点击太快，动画出来后就不会消失了\n                errani.on(Laya.Event.STOPPED, this, function () {\n                    _this6.destroyAni(\"errani\");\n                    _this6.errani = null;\n                    _this6.answererroyNum = 0;\n                });\n            }\n        }\n        //销毁动画\n\n    }, {\n        key: 'destroyAni',\n        value: function destroyAni(name) {\n            var aniArray = this.find(name);\n            this.aniArray.push(aniArray);\n            for (var i in this.aniArray) {\n                this.removeChild(this.aniArray[i]);\n                this.aniArray[i].destroy();\n            }\n        }\n\n        //处理完成度  分析超时答对\n\n    }, {\n        key: 'proloadHandler',\n        value: function proloadHandler(usertime, arr) {\n            var data = void 0;\n            var index = 0;\n            if (usertime > 0) {\n                // 全部答对\n                data = {\n                    usertime: usertime,\n                    proload: 1\n                };\n            } else {\n                //超时\n                for (var i in arr) {\n                    if (arr[i].answerstate === 0) {\n                        index++;\n                    }\n                }\n                var pre = index / this.targetTypelength;\n                data = {\n                    usertime: -1,\n                    proload: pre\n                };\n            }\n            _room2.default.getInstance().pageAnswwerall.push(data);\n        }\n\n        //发送学生答题过程\n\n    }, {\n        key: 'sendFeedLog',\n        value: function sendFeedLog(usertime, alltime, progress) {\n            console.log(\"log11111111111111\", progress);\n            _init_module.messageCenter.emit(\"log\", { nickName: GM.nickName, senderId: GM.senderId, roleType: GM.roleType, pageNum: this.PageNum - 1, usertime: usertime, alltime: alltime, progress: progress });\n            // 每次答完题目发送数据后把数组清空\n            this.sendFeedArr = [];\n        }\n\n        //粒子特效 \n\n    }, {\n        key: 'showParticle',\n        value: function showParticle(x, y, name) {\n            var settings = Laya.loader.getRes(name);\n            var sp = new Laya.Particle2D(settings);\n            sp.emitter.start();\n            sp.play();\n            Laya.stage.addChild(sp);\n            this.particels.push(sp);\n            sp.x = x;\n            sp.y = y;\n            Laya.timer.once(1000, this, function () {\n                sp.stop();\n                sp.destroy();\n            });\n        }\n\n        //下一步\n\n    }, {\n        key: 'showItem',\n        value: function showItem() {\n            if (this.pageChild.length === 0) {\n                return;\n            }\n            //老师和学生的记录全部清除\n            _room2.default.getInstance().answerFinsihLengths = [];\n            var indexarray = this.pageChild[0].index;\n            var index = 0;\n            var allRemoveObj = []; //所有删除的元素集合\n            var removeIndex = []; //所有删除的Index索引\n            var postionX = void 0,\n                postionY = void 0;\n\n            for (var k = 1; k < this.pageChild.length; k++) {\n                if (this.pageChild[k].DriveType == 0) {\n\n                    if (indexarray > this.pageChild[k].index) {\n                        indexarray = this.pageChild[k].index;\n                    }\n                }\n            }\n\n            for (var i = 0; i < this.pageChild.length; i++) {\n                if (indexarray == this.pageChild[i].index) {\n                    this.IsStudentsInvisible(this.pageChild[i]);\n                    //console.log(this.pageChild[i].index);\n                    postionX = Number(this.pageChild[i].Position.split(',')[0]);\n                    postionY = Number(this.pageChild[i].Position.split(',')[1]);\n                    var animation = new _anmation2.default(this.pageChild[i], this.pageChild[i].Animation);\n                    if (this.pageChild[i].action) {\n                        this.pageChild[i].playandStop(0);\n                    }\n                    if (this.pageChild[i].find(\"audio\")) {\n                        this.pageChild[i].find(\"audio\").constrolMediaMode();\n                    }\n                    //记录下删除的对象\n                    removeIndex.push(i);\n                }\n            }\n\n            for (var j = 0; j < removeIndex.length; j++) {\n                var removetemp = this.pageChild.splice(removeIndex[j] - j, 1);\n\n                allRemoveObj.push(removetemp[0]);\n            }\n\n            if (allRemoveObj.length == 1) {\n                //每次点击下一步时保存之前的所有信息\n                var sBFI = new _SaveBeforeInfo2.default(allRemoveObj[0], index, null);\n                //将数据对用OperationIndex步数放入objPool列表\n                this.objPool[this.OperationIndex] = sBFI;\n            } else {\n                //每次点击下一步时保存之前的所有信息\n                var _sBFI = new _SaveBeforeInfo2.default(null, index, allRemoveObj);\n                //将数据对用OperationIndex步数放入objPool列表\n                this.objPool[this.OperationIndex] = _sBFI;\n            }\n\n            this.OperationIndex++;\n\n            //this.pageChild长度变0，说明没有下一步，下一步按钮置灰\n            if (this.pageChild.length === 0) {\n                _room2.default.getInstance().btnNext.disabled = true;\n            }\n            //CourseVideo\n            if (_room2.default.getInstance().cancel.disabled) {\n                _room2.default.getInstance().cancel.disabled = false;\n            }\n            this.jujdeanswerPoint();\n        }\n\n        //返回上一步：\n\n    }, {\n        key: 'returnBefore',\n        value: function returnBefore() {\n            //老师和学生的记录全部清除\n            _room2.default.getInstance().answerFinsihLengths = [];\n            this.answerArray = [];\n            //当没有在答题时才可以重新添加事件\n            //将事件中消失和隐藏的元素相反          \n            this.returnitems();\n            //解绑所有事件 防止重复添加\n            this.timeOutFrameLoopEvent();\n            this.unEvents();\n            //清空itemDic，然后添加事件\n            this.resetState();\n            //答题开启后 给学生添加上事件 否则给老师添加上事件\n            //false代表开始答题\n            if (_room2.default.getInstance().answering) {\n                if (GM.role === 0) {\n                    this.pictureEvent();\n                }\n            } else {\n                if (GM.role === 1) {\n                    this.pictureEvent();\n                }\n            }\n            this.OperationIndex--;\n            if (this.objPool[this.OperationIndex].TempData != null) {\n                //将对应的元素再放入数组\n                this.pageChild.splice(this.objPool[this.OperationIndex].PageChildIndex, 0, this.objPool[this.OperationIndex].TempData);if (this.pageChild[this.objPool[this.OperationIndex].PageChildIndex].action) {\n                    this.pageChild[this.objPool[this.OperationIndex].PageChildIndex].playandStop(1);\n                }\n                this.pageChild[this.objPool[this.OperationIndex].PageChildIndex].visible = false;\n                //再将数组中最后一个元素删除\n                this.objPool.pop();\n            } else {\n                for (var i in this.objPool[this.OperationIndex].pageChildbox) {\n                    this.pageChild.splice(this.objPool[this.OperationIndex].PageChildIndex, 0, this.objPool[this.OperationIndex].pageChildbox[i]);\n                    this.pageChild[this.objPool[this.OperationIndex].PageChildIndex].visible = false;\n                    if (this.pageChild[this.objPool[this.OperationIndex].PageChildIndex].action) {\n                        this.pageChild[this.objPool[this.OperationIndex].PageChildIndex].playandStop(1);\n                    }\n                }\n\n                //再将数组中最后一个元素删除\n                this.objPool.pop();\n            }\n            //OperationIndex为0 说明是到达第一步了\n            if (this.OperationIndex === 0) {\n                //到了第一步，将上一步按钮置灰\n                _room2.default.getInstance().cancel.disabled = true;\n            }\n            //往上走一步后，下一步按钮激活\n            if (_room2.default.getInstance().btnNext.disabled) {\n                _room2.default.getInstance().btnNext.disabled = false;\n            }\n            this.jujdeanswerPoint();\n        }\n\n        // 获取步骤\n\n    }, {\n        key: 'getStepHandler',\n        value: function getStepHandler(data) {\n            // console.log(\"获取当前步骤\",data);\n            for (var i = 0; i < data; i++) {\n                this.showItem();\n            }\n        }\n\n        //下一步操作\n\n    }, {\n        key: 'updataStepHandler',\n        value: function updataStepHandler(data) {\n            // console.log(11111111);           \n            if (data.opt == \"next\") {\n                this.showItem();\n            } else if (data.opt == \"undo\") {\n                this.returnBefore();\n            }\n        }\n        //   RoomScene.getInstance().pagebox.sendAnswer(\"drop\",item.name,colliderObj.name,mouseUpPosX,mouseUpPosY,1);\n        // 发送答题反馈 // eventType 0 click 1 drop 2 ligature\n\n    }, {\n        key: 'sendAnswer',\n        value: function sendAnswer(eventType, startname, tagname, startnickname, tagnickname, mouseUpPosX, mouseUpPosY, answerstate, allright) {\n            var data = {\n                senderId: GM.senderId,\n                page: this.PageNum,\n                nickName: GM.nickName,\n                role: GM.role,\n                roleType: GM.roleType,\n                eventType: eventType,\n                mouseUpPosX: mouseUpPosX,\n                mouseUpPosY: mouseUpPosY,\n                startname: startname,\n                tagname: tagname,\n                startnickname: startnickname,\n                tagnickname: tagnickname,\n                answerstate: answerstate\n                // 学生为1并且没有完全答对\n            };if (GM.role === 1 && !allright) {\n                //将每次答题的过程放入sendfeedback中\n                this.sendFeedArr.push(data);\n            }\n            this.answerArray.push(data);\n            console.log(\"传输答题反馈\", this.answerArray);\n            _init_module.messageCenter.emit(\"answerFinish\", { senderId: GM.senderId, page: this.PageNum - 1, list: this.answerArray });\n        }\n\n        //销毁，回收资源\n\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            _init_module.observer.publish(\"closeMask\");\n            _init_module.observer.publish(\"gifdis\");\n            Laya.timer.clearAll(this);\n            this.timeOutFrameLoopEvent();\n            this.answerparamreset();\n            // 销毁事件\n            this.unEvents();\n            // 销毁元素\n            this.destroyallSprite();\n            this.pageData = null;\n            this.sendFeedArr = null; //答题过程时间记录\n            this.indexarray = null; //存放播放的index\n            this.pageChild = null; //判断下一个的数组\n            this.dicname = null; //存放name的数组\n            this.objPool = null; //存放上一元素下一元素对象\n            this.eventItems = null; //通过event完成了事件的元素   \n            this.ElementIdAction = null; //旁白元素数组\n            this.aniArray = null; //存放页面所有的答错动画\n            this.answerArray = null; //存放每次答题的数组\n            this.itemDic = null; //字典\n            this.elementVisible = null; //和元素\n            this.answerArea = null; //答案区\n            this.answererroyNum = null; // 回答的错误次数\n            this.nextAnswererroyNumNum = null; // 下一次连续回答 3 或者 5 次错误出来的动画\n            this.isElementGroupNum = null; //元素组满足要求\n            this.ElementIndex = null; //元素组序号对比\n            this.OrderIndex = null; //答案组满足次数\n            this.OperationIndex = null; //操作步数，到0为第一步\n            this.musicTime = null; //播放进度\n            this.targetTypelength = null; //答案区的个数         \n            this.OpAnimationType = null; //默认过场动画    \n            this.answerVisible = null;\n            this.puzzleFlag = null; //是否是拼图题型\n            this.soundflage = null; ///确认声音只播放一次\n            this.isElementGroupFlag = null; //元素组满足一次之后 不会再次出现\n            this.isWined = null;\n            this.bgmAudio = null; //声音\n            this.bgurl = null; //背景图url\n            this.allanswerTimer = null; //答题耗时\n            this.PageNum = null; //当前页码    \n            this.reportBtn = null; //报告按钮   \n            this.bg = null; //背景\n            this.CourseVideoURL = null; //页面视频\n            this.Prompt = null; //页面提示音\n            this.elementAudio = null; //元素提示音链接\n            this.ElementGroup = null; //元素组\n            this.AnswerSatisfyNum = null; //元素组满足次数以及触发事件 \n            this.douzi = null; //正确豆子动画\n            this.zhihuicao = null; //正确智慧草动画\n            this.winjinyu = null; //正确鲸鱼动画          \n            this.destroy(true);\n        }\n\n        //清除页面所有item 元素\n\n    }, {\n        key: 'destroyallSprite',\n        value: function destroyallSprite() {\n            for (var i in this.pictureItem) {\n                if (this.pictureItem[i].find(\"audio\")) {\n                    this.pictureItem[i].find(\"audio\").dispose();\n                }\n                this.pictureItem[i].dispose();\n            }\n            this.pictureItem = [];\n        }\n\n        //解除updateStep监听\n\n    }, {\n        key: 'unSubscribe',\n        value: function unSubscribe() {\n            _init_module.observer.unsubscribe(\"bgMusic\");\n            _init_module.observer.unsubscribe(\"updateStep\");\n            _init_module.observer.unsubscribe(\"winwin\");\n        }\n\n        //解绑所有画线、例子\n\n    }, {\n        key: 'unEvents',\n        value: function unEvents() {\n            var i = 0;\n            for (i in this.imageLigatures) {\n                console.log(this.imageLigatures);\n                this.imageLigatures[i].destroy();\n            }\n            this.imageLigatures = [];\n\n            i = 0;\n            for (i in this.particels) {\n                if (this.particels[i]) {\n                    this.particels[i].destroy();\n                }\n            }\n            this.particels = [];\n        }\n    }]);\n\n    return Page;\n}(Laya.Sprite);\n\n// TypeElement 4骨骼动画\n// Element  属性中 1、IsStudentsInvisible 是否为老师可见，2、AngleGroup    角度组\n\n// 答案组 在eventlist\n\n// ElementGroup 元素组\n\n// CEvent  \n//     ClearElementId 消失\n//     Delay 时间\n//     ElementId  出现\n//     EventTag  标签\n//     OrderIndex  序号\n\n\n// ElementInfoList  参与元素   \n// SatisfyNum  满足条件\n\n\nexports.default = Page;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZWxlbWVudC9wYWdlLmpzPzBiODAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDlrZjmlL7pobXpnaLmiYDmnInnmoTlm77niYdib3ggIOWMheaLrOWbvueJh+aWh+acrOS5i+mXtOeahOS6pOS6kiBAcGFyYW0geypsaXVqaWFvamlhb31cbiAqL1xuXG4vLyBUYWdUeXBlICDkuovku7bnsbvlnotcbi8vIFRhZ1R5cGUgPSB7XG4gLy8gTm9ybWFsIDogMCxcbi8vICAgRHJhZyAgOiAxLFxuLy8gICBEcm9wICA6IDIsICBcbi8vICAgQ2xpY2sgOiAzLCBcbi8vICAgbGluZSAgOiA0LFxuLy8gICBhc2lkZSA6IDUsXG4vLyAgIFBsYXkgIDogOTk5XG4vLyB9XG4vL09wQW5pbWF0aW9uVHlwZSAg6L+H5Zy65Yqo55S7XG4vLyBPcEFuaW1hdGlvblR5cGUgPSB7XG4vLyAgICAgRGVmYXVsdCxcbi8vICAgICBSb2FkLFxuLy8gICAgIEZseSxcbi8vICAgICBXYWxrLFxuLy8gICAgIOaTpumZpCxcbi8vIH1cbmltcG9ydCB7IG9ic2VydmVyLG1lc3NhZ2VDZW50ZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnXG5pbXBvcnQge2NyZWF0ZVNrZWxldG9ufSBmcm9tICcuLi8uLi9tb2R1bGUvY29tL2xheWEuY3VzdG9tJ1xuaW1wb3J0IExvYWRpbmdTY2VuZSBmcm9tICcuLi9sb2FkaW5nJ1xuaW1wb3J0IFJvb21TY2VuZSBmcm9tICcuLi9yb29tJ1xuXG5pbXBvcnQgUGljdHVyZSAgZnJvbSAnLi9waWN0dXJlJ1xuaW1wb3J0IFNhdmVCZWZvcmVJbmZvIGZyb20gJy4vU2F2ZUJlZm9yZUluZm8nXG5pbXBvcnQgTGFiZWwgIGZyb20gJy4vbGFiZWwnXG5pbXBvcnQgY29tYmluYXRpb25ib3ggIGZyb20gJy4vY29tYmluYXRpb25ib3gnXG5cbmltcG9ydCBEcmFnRXZlbnQgZnJvbSAnLi4vZXZlbnRzL2RyYWdFdmVudCdcbmltcG9ydCBDbGlja0V2ZW50IGZyb20gJy4uL2V2ZW50cy9jbGlja0V2ZW50J1xuaW1wb3J0IExpZ2F0dXJlRXZlbnQgZnJvbSAnLi4vZXZlbnRzL2xpZ2F0dXJlRXZlbnQnXG5cbmltcG9ydCBwdXp6bGVFdmVudCBmcm9tICcuLi9ldmVudHMvcHV6emxlRXZlbnQnXG5pbXBvcnQgQW5pbWF0aW9uIGZyb20gJy4uL2FuaW1hdC9hbm1hdGlvbidcbmltcG9ydCBzcGluZUFuaW1hdGlvbiBmcm9tICcuLi9hbmltYXQvc3BpbmVBbmltYXRpb24nXG5pbXBvcnQgYmdBbmltYXRpb24gZnJvbSAnLi4vYW5pbWF0L2JnQW5pbWF0aW9uJ1xuaW1wb3J0IGF1ZGlvSWNvbiBmcm9tICcuLi9tZWRpYS9hdWRpb0ljb24nXG5pbXBvcnQgZ2lmRWxlbWVudCBmcm9tICcuLi9tZWRpYS9naWZFbGVtZW50J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIGV4dGVuZHMgTGF5YS5TcHJpdGV7XG4gICAgY29uc3RydWN0b3IoZGF0YSl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGljdHVyZUl0ZW0gPSBbXTsgLy/pnIDopoHngrnlh7vmkq3mlL7nmoRcbiAgICAgICAgdGhpcy5pbmRleGFycmF5ID0gW10gLy/lrZjmlL7mkq3mlL7nmoRpbmRleFxuICAgICAgICB0aGlzLnBhZ2VDaGlsZCA9IFtdOy8v5Yik5pat5LiL5LiA5Liq55qE5pWw57uEXG4gICAgICAgIHRoaXMuZGljbmFtZSA9IFtdOyAvL+WtmOaUvm5hbWXnmoTmlbDnu4RcbiAgICAgICAgdGhpcy5vYmpQb29sID0gW107Ly/lrZjmlL7kuIrkuIDlhYPntKDkuIvkuIDlhYPntKDlr7nosaFcbiAgICAgICAgdGhpcy5iZ3VybCA9IG51bGw7IC8v6IOM5pmv5Zu+dXJsXG4gICAgICAgIHRoaXMuT3BlcmF0aW9uSW5kZXggPSAwOyAvL+aTjeS9nOatpeaVsO+8jOWIsDDkuLrnrKzkuIDmraVcbiAgICAgICAgdGhpcy50YXJnZXRUeXBlbGVuZ3RoID0gMDsgLy/nrZTmoYjljLrnmoTkuKrmlbAgICAgXG4gICAgICAgIHRoaXMuaXRlbURpYyA9IFtdOyAvL+Wtl+WFuFxuICAgICAgICB0aGlzLnBhcnRpY2VscyA9IFtdOyAvL+aJgOacieeykuWtkOaViOaenFxuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdOyAvL+aUtumbhuaJgOacieS6i+S7tuWvueixoeeahOaVsOe7hFxuICAgICAgICB0aGlzLk9wQW5pbWF0aW9uVHlwZSA9IDA7IC8v6buY6K6k6L+H5Zy65Yqo55S7ICAgICAgXG4gICAgICAgIHRoaXMuaW1hZ2VMaWdhdHVyZXMgPSBbXTsgLy/nlLvnur/nmoTmlbDnu4TlhYPntKBcbiAgICAgICAgdGhpcy5iZ21BdWRpbyA9IG51bGw7IC8v5aOw6Z+zXG4gICAgICAgIHRoaXMuZXZlbnRJdGVtcyA9IFtdOy8v6YCa6L+HZXZlbnTlrozmiJDkuobkuovku7bnmoTlhYPntKAgICAgICBcbiAgICAgICAgdGhpcy5tdXNpY1RpbWUgPSAwOyAvL+aSreaUvui/m+W6plxuICAgICAgICB0aGlzLnNlbmRGZWVkQXJyID0gW107IC8v562U6aKY6L+H56iL5pe26Ze06K6w5b2VXG4gICAgICAgIHRoaXMuYWxsYW5zd2VyVGltZXIgID0gbnVsbDsgLy/nrZTpopjogJfml7ZcbiAgICAgICAgdGhpcy5QYWdlTnVtID0gbnVsbDsgLy/lvZPliY3pobXnoIFcbiAgICAgICAgdGhpcy5hbnN3ZXJBcnJheSA9IFtdOyAgLy/lrZjmlL7mr4/mrKHnrZTpopjnmoTmlbDnu4RcbiAgICAgICAgdGhpcy5yZXBvcnRCdG4gPSBudWxsOyAvL+aKpeWRiuaMiemSrlxuICAgICAgICB0aGlzLmVsZW1lbnRWaXNpYmxlID0gW107IC8v5ZKM5YWD57SgXG4gICAgICAgIHRoaXMuYW5zd2VyVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFuc3dlckFyZWEgPSBbXSAvL+etlOahiOWMulxuICAgICAgICB0aGlzLmJnID0gbnVsbDsgLy/og4zmma9cbiAgICAgICAgdGhpcy5Db3Vyc2VWaWRlb1VSTCA9IG51bGw7ICAvL+mhtemdouinhumikVxuICAgICAgICB0aGlzLlByb21wdCA9IG51bGw7ICAvL+mhtemdouaPkOekuumfs1xuICAgICAgICB0aGlzLmVsZW1lbnRBdWRpbyA9IG51bGw7IC8v5YWD57Sg5o+Q56S66Z+z6ZO+5o6lXG4gICAgICAgIHRoaXMuRWxlbWVudElkQWN0aW9uID0gW107IC8v5peB55m95YWD57Sg5pWw57uEXG4gICAgICAgIHRoaXMuYW5zd2VyZXJyb3lOdW0gPSAwOyAvLyDlm57nrZTnmoTplJnor6/mrKHmlbBcbiAgICAgICAgdGhpcy5uZXh0QW5zd2VyZXJyb3lOdW1OdW0gPSAzOyAvLyDkuIvkuIDmrKHov57nu63lm57nrZQgMyDmiJbogIUgNSDmrKHplJnor6/lh7rmnaXnmoTliqjnlLtcbiAgICAgICAgdGhpcy5hbmlBcnJheSA9IFtdOyAvL+WtmOaUvumhtemdouaJgOacieeahOetlOmUmeWKqOeUu1xuICAgICAgICB0aGlzLnB1enpsZUZsYWcgPSBmYWxzZTsgLy/mmK/lkKbmmK/mi7zlm77popjlnotcbiAgICAgICAgdGhpcy5zb3VuZGZsYWdlID0gdHJ1ZTsgLy8v56Gu6K6k5aOw6Z+z5Y+q5pKt5pS+5LiA5qyhXG4gICAgICAgIHRoaXMuRWxlbWVudEdyb3VwID0gbnVsbCAgLy/lhYPntKDnu4RcbiAgICAgICAgdGhpcy5PcmRlckluZGV4ID0gMDsgICAvL+etlOahiOe7hOa7oei2s+asoeaVsFxuICAgICAgICB0aGlzLkVsZW1lbnRJbmRleCA9IDA7IC8v5YWD57Sg57uE5bqP5Y+35a+55q+UXG4gICAgICAgIHRoaXMuQW5zd2VyU2F0aXNmeU51bSA9IG51bGw7IC8v5YWD57Sg57uE5ruh6Laz5qyh5pWw5Lul5Y+K6Kem5Y+R5LqL5Lu2XG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXBOdW0gPSAwOyAgLy/lhYPntKDnu4Tmu6HotrPopoHmsYJcbiAgICAgICAgdGhpcy5pc0VsZW1lbnRHcm91cEZsYWcgPSBmYWxzZTsgLy/lhYPntKDnu4Tmu6HotrPkuIDmrKHkuYvlkI4g5LiN5Lya5YaN5qyh5Ye6546wXG4gICAgICAgIHRoaXMuZG91emkgPSBudWxsOyAvL+ato+ehruixhuWtkOWKqOeUu1xuICAgICAgICB0aGlzLnpoaWh1aWNhbyA9IG51bGw7IC8v5q2j56Gu5pm65oWn6I2J5Yqo55S7XG4gICAgICAgIHRoaXMud2luamlueXUgPSBudWxsOy8v5q2j56Gu6bK46bG85Yqo55S7XG4gICAgICAgIHRoaXMuaXNXaW5lZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJnbXVzaWNJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5pdChkYXRhKTtcbiAgICB9XG4gICAgLy/liJ3lp4vljJZcbiAgICBpbml0KGRhdGEpe1xuICAgICAgICAvLyBtZXNzYWdlQ2VudGVyLmVtaXQoXCJjb25zb2xlXCIse3RleHQ6XCLmlLbliLBzZXRwYWdlXCJ9KTsgICAgIFxuICAgICAgICB0aGlzLnNpemUoMTIwMCw5MDApO1xuICAgICAgICB0aGlzLnBhZ2VIYW5kbGUoZGF0YSk7IFxuICAgICAgICAvLyDliJ3lp4vljJbnrZTpopjlhoXnva7liqjnlLtcbiAgICAgICAgdGhpcy5kb3V6aSA9IG5ldyBjcmVhdGVTa2VsZXRvbihcInJlcy9uZXdhbmkvZG91emlcIik7XG4gICAgICAgIHRoaXMuemhpaHVpY2FvID0gbmV3IGNyZWF0ZVNrZWxldG9uKFwicmVzL25ld2FuaS96aGlodWljYW9cIik7IFxuICAgICAgICB0aGlzLndpbmppbnl1ID0gbmV3IGNyZWF0ZVNrZWxldG9uKFwicmVzL25ld2FuaS94aWFvamluZ3l1c1wiKTsgICAgICAgXG4gICAgICAgIC8vIOebkeWQrOabtOaWsOatpemqpFxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoXCJ1cGRhdGVTdGVwXCIsdGhpcy51cGRhdGFTdGVwSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8g55uR5ZCs6I635Y+W5q2l6aqkXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZShcImdldFN0ZXBcIix0aGlzLmdldFN0ZXBIYW5kbGVyLmJpbmQodGhpcykpOyAgICBcbiAgICAgICAgLy8g55uR5ZCs6IOM5pmv6Z+z5LmQXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZShcImJnTXVzaWNcIix0aGlzLmJnbXVzaWNQbGF5LmJpbmQodGhpcykpO1xuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoXCJ3aW53aW5cIix0aGlzLmFuc3dlcmNvcnJlY3RBbmltYXRpb24uYmluZCh0aGlzKSk7ICAgICBcbiAgICB9XG5cbiAgICAvLyDlrp7kvovljJblubbkuJTlrZjmlL7lvZPliY3pobXpnaLmiYDmnInlhYPntKBcbiAgICBwYWdlSGFuZGxlKGRhdGEpeyAgICBcbiAgICAgICAgdGhpcy5wYWdlRGF0YSA9IGRhdGE7ICAgICAgICBcbiAgICAgICAgLy/mt7vliqDog4zmma/lm75cbiAgICAgICAgLy8gYWxlcnQoZGF0YSk7XG4gICAgICAgIGlmKGRhdGEuQmFja2dyb3VuZCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuYmd1cmwgPSBHTS5JbWFnZUxpYnJhcnlbZGF0YS5CYWNrZ3JvdW5kXS5Vcmw7XG4gICAgICAgICAgICAvL+aYr+WQpuiDjOaZr+W+queOr1xuICAgICAgICAgICAgaWYoZGF0YS5DaXJjdWxhdGlvbk1vZGUgPiAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJnID0gbmV3IGJnQW5pbWF0aW9uKHRoaXMuYmd1cmwsZGF0YS5DaXJjdWxhdGlvbk1vZGUsZGF0YS5DaXJjdWxhdGlvblNwZWVkKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuYmcgPSBuZXcgTGF5YS5JbWFnZSh0aGlzLmJndXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmJnLnNpemUoMTIwMCw5MDApO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGRhdGEuRWxlbWVudEdyb3VwKXtcbiAgICAgICAgICAgIHRoaXMuRWxlbWVudEdyb3VwID0gZGF0YS5FbGVtZW50R3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgLy8g5a2Y5pS+6aG156CBXG4gICAgICAgIHRoaXMuUGFnZU51bSA9IGRhdGEuUGFnZU51bTtcbiAgICAgXG4gICAgICAgIC8v5Yik5pat6aG16Z2i6KeG6aKRXG4gICAgICAgIGlmKGRhdGEuQ291cnNlVmlkZW8pe1xuICAgICAgICAgICAgaWYoR00uSW1hZ2VMaWJyYXJ5W2RhdGEuQ291cnNlVmlkZW9dKXtcbiAgICAgICAgICAgICAgICB0aGlzLkNvdXJzZVZpZGVvVVJMID0gR00uSW1hZ2VMaWJyYXJ5W2RhdGEuQ291cnNlVmlkZW9dLlVybDtcbiAgICAgICAgICAgICAgICBpZih0aGlzLkNvdXJzZVZpZGVvVVJMICAmJiBHTS5yb2xlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnZpZGVvT2JqLmluaXQodGhpcy5Db3Vyc2VWaWRlb1VSTCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS52ZWRpb0J0bi52aXNpYmxlID0gdHJ1ZTsgICAgICAgIFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuQ291cnNlVmlkZW9VUkwgPSBudWxsO1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkudmVkaW9CdG4udmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8v6aG16Z2i6IOM5pmv6Z+z5LmQXG4gICAgICAgIGlmKEdNLkltYWdlTGlicmFyeVtkYXRhLkJHTV0pe1xuICAgICAgICAgICAgdGhpcy5iZ211c2ljSWQgPSBkYXRhLkJHTTtcbiAgICAgICAgICAgIHRoaXMuYmdtQXVkaW8gID0gR00uSW1hZ2VMaWJyYXJ5W2RhdGEuQkdNXS5Vcmw7XG4gICAgICAgIH1cblxuICAgICAgICAvL+mhtemdouaPkOekuumfs+WSjOaPkOekuumfs+aSreaUvueKtuaAgVxuICAgICAgICBpZihkYXRhLlByb21wdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5Qcm9tcHQgPSBHTS5JbWFnZUxpYnJhcnlbZGF0YS5Qcm9tcHRdLlVybDtcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmNyZWF0SWNvbihkYXRhLkhhc0F1dG9Qcm9tcHQsdGhpcy5Qcm9tcHQsZGF0YS5Qcm9tcHQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvL+i/h+WcuuWKqOeUu1xuICAgICAgICB0aGlzLk9wQW5pbWF0aW9uVHlwZSA9IGRhdGEuT3BBbmltYXRpb25UeXBlOyAgXG4gICAgICAgIGxldCBvbGRib3ggPSBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5vbGRib3g7XG4gICAgICAgIC8v5re75Yqg6IOM5pmv6Z+z5LmQXG4gICAgICAgIGlmKG9sZGJveCAmJiB0aGlzLmJnbUF1ZGlvID09PSBvbGRib3guYmdtQXVkaW8pe1xuICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYmdNdXNpYyl7XG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1RpbWUgPSBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5iZ011c2ljLnBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYmdNdXNpYyA9IG51bGw7ICAgXG4gICAgICAgIExheWEuU291bmRNYW5hZ2VyLnN0b3BNdXNpYygpO1xuICAgICAgICAvL+aaguaXtuS4jeehruWumu+8jGpzb27kuK3mnInmsqHmnIlPcEFuaW1hdGlvblR5cGXlsZ7mgKfvvIzku6XlkI7lsIZ0aGlzLk9wQW5pbWF0aW9uVHlwZeadoeS7tuWOu+aOiSAgIFxuICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5uZXh0ICYmIHRoaXMuT3BBbmltYXRpb25UeXBlKXtcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJvdHRvbS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5idG5MZWZ0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJ0blJpZ2h0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJ0blRvcC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBvbGRib3gudW5FdmVudHMoKTtcbiAgICAgICAgICAgIG9sZGJveC50aW1lT3V0RnJhbWVMb29wRXZlbnQoKTtcbiAgICAgICAgICAgIGlmKHRoaXMuT3BBbmltYXRpb25UeXBlID09PSA0KXtcbiAgICAgICAgICAgICAgICAvL+aTpumZpOWKqOeUu1xuICAgICAgICAgICAgICAgIGxldCBjYXRNID0gbmV3IHdpbmRvdy5jYXRNYXNrVUkoKTtcbiAgICAgICAgICAgICAgICBjYXRNLkJHLnNraW4gPSAgdGhpcy5iZ3VybDtcbiAgICAgICAgICAgICAgICBvbGRib3guYWRkQ2hpbGQoY2F0TSk7XG4gICAgICAgICAgICAgICAgY2F0TS5jYXRNYXNrQW5pLm9uKExheWEuRXZlbnQuQ09NUExFVEUsdGhpcywoKT0+e1xuICAgICAgICAgICAgICAgICAgICBvbGRib3guZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dTY2VuZUl0ZW0oZGF0YSk7ICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLk9wQW5pbWF0aW9uVHlwZSA9PT0gMyl7XG4gICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvd2Fsay5tcDNcIik7XG4gICAgICAgICAgICAgICAgLy/otbDot6/liqjnlLtcbiAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLmZyb20odGhpcyx7eDp0aGlzLnggKyAxMjAwfSwxODAwLExheWEuRWFzZS5saW5lYXJJbixudWxsLDAsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhvbGRib3gse3g6b2xkYm94LnggLSAxMjAwfSwxODAwLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICAgICAgb2xkYm94LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93U2NlbmVJdGVtKGRhdGEpOyAgICAgIFxuICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5zdG9wU291bmQoXCJzb3VuZC93YWxrLm1wM1wiKTtcbiAgICAgICAgICAgICAgICB9KSwwLHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLk9wQW5pbWF0aW9uVHlwZSA9PT0gMil7XG4gICAgICAgICAgICAgICAgbGV0IGZseVVJID0gbmV3IHdpbmRvdy5jdXJBbmlVSSgpO1xuICAgICAgICAgICAgICAgIG9sZGJveC5hZGRDaGlsZChmbHlVSSk7XG4gICAgICAgICAgICAgICAgZmx5VUkuZmx5LmFkZExhYmVsKCdtb3ZlJywgMSk7XG4gICAgICAgICAgICAgICAgZmx5VUkuZmx5LmFkZExhYmVsKCdtb3ZlJywgMTEpO1xuICAgICAgICAgICAgICAgIGZseVVJLmZseS5hZGRMYWJlbCgnbW92ZScsIDIwKTtcbiAgICAgICAgICAgICAgICBmbHlVSS5mbHkuYWRkTGFiZWwoJ2ZseScsIDM1KTtcbiAgICAgICAgICAgICAgICBmbHlVSS5mbHkuYWRkTGFiZWwoJ2ZseWVuZCcsIDE1MCk7XG4gICAgICAgICAgICAgICAgZmx5VUkuZmx5LmFkZExhYmVsKCd3aGl0ZScsIDE4NSk7XG4gICAgICAgICAgICAgICAgZmx5VUkuZmx5Lm9uKExheWEuRXZlbnQuTEFCRUwsdGhpcywoZXYpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmKGV2ID09PSAnbW92ZScpe1xuICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvZmx5L21vdmUubXAzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoZXYgPT09ICdmbHknKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZChcInNvdW5kL2ZseS9mbHkubXAzXCIpOyAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGV2ID09PSAnZmx5ZW5kJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5zdG9wU291bmQoXCJzb3VuZC9mbHkvZmx5Lm1wM1wiKTsgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGV2ID09PSAnd2hpdGUnKXsgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvZmx5L3doaXRlLm1wM1wiKTsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmbHlVSS5mbHkub24oTGF5YS5FdmVudC5DT01QTEVURSx0aGlzLCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGxldCB3aGl0ZWJnID0gbmV3IExheWEuSW1hZ2UoXCJyZXMvYW5pbWF0ZS9hbmliZy5wbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQod2hpdGViZyk7XG4gICAgICAgICAgICAgICAgICAgIG9sZGJveC5kaXNwb3NlKCk7ICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8od2hpdGViZyx7YWxwaGE6MH0sMjAwMCxMYXlhLkVhc2UubGluZWFySW4sTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dTY2VuZUl0ZW0oZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHdoaXRlYmcpO1xuICAgICAgICAgICAgICAgICAgICB9KSwwLHRydWUpO1xuICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuT3BBbmltYXRpb25UeXBlID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgcm9hZFVJID0gbmV3IHdpbmRvdy51aS5yb2FkVUkoKTtcbiAgICAgICAgICAgICAgICBvbGRib3guYWRkQ2hpbGQocm9hZFVJKTtcbiAgICAgICAgICAgICAgICByb2FkVUkuY2FyLmFkZExhYmVsKCdjYXJTaG93JywgNTApO1xuICAgICAgICAgICAgICAgIHJvYWRVSS5jYXIuYWRkTGFiZWwoJ21vdmUnLCAyKTtcbiAgICAgICAgICAgICAgICByb2FkVUkuY2FyLmFkZExhYmVsKCdtb3ZlJywgMTUpO1xuICAgICAgICAgICAgICAgIHJvYWRVSS5jYXIub24oTGF5YS5FdmVudC5MQUJFTCx0aGlzLChldik9PntcbiAgICAgICAgICAgICAgICAgICAgaWYoZXYgPT09ICdjYXJTaG93Jyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9jYXJTaG93Lm1wM1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoZXYgPT09ICdtb3ZlJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9mbHkvbW92ZS5tcDNcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJvYWRVSS5jYXIub24oTGF5YS5FdmVudC5DT01QTEVURSx0aGlzLCgpPT57XG4gICAgICAgICAgICAgICAgICAgIExheWEudGltZXIub25jZSg3MDAsdGhpcywoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi5mcm9tKHRoaXMse3g6dGhpcy54ICsgMTIwMH0sMTgwMCxMYXlhLkVhc2UubGluZWFySW4sbnVsbCwwLHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhvbGRib3gse3g6b2xkYm94LnggLSAxMjAwfSwxODAwLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRib3guZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1NjZW5lSXRlbShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLDAsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pOyBcblxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgLy/lj6ropoHliY3pnaLliqjnlLvov5vkuI3ljrvvvIzpgqPlsLHmmK/mkq3mlL7pu5jorqRcbiAgICAgICAgICAgICAgICAvL+aXoOWKqOeUu++8jOebtOaOpeW+gOS4i+i1sFxuICAgICAgICAgICAgICAgIG9sZGJveC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93U2NlbmVJdGVtKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICAvL+eUseS6juWJjemdouaaguaXtuWKoOeahHRoaXMuT3BBbmltYXRpb25UeXBl5p2h5Lu277yM5pyJ5Y+v6IO95a+86Ie0b2xkYm946L+Y5a2Y5ZyoXG4gICAgICAgICAgICBpZihvbGRib3gpe1xuICAgICAgICAgICAgICAgIG9sZGJveC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNob3dTY2VuZUl0ZW0oZGF0YSk7XG4gICAgICAgIH0gICAgICAgICAgICAgXG4gICAgfVxuICBcbiAgICAvL+a3u+WKoOmhtemdouWFg+e0oCAgICBcbiAgICBzaG93U2NlbmVJdGVtKGRhdGEpeyAgICBcbiAgICAgICAgLy/mt7vliqDog4zmma/pn7PkuZDku6Xlj4rmjInpkq7nirbmgIFcbiAgICAgICAgdGhpcy5idXR0b25Jbml0KCk7XG4gICAgICAgIGxldCBwaWNMaXN0ID0gZGF0YS5FbGVtZW50TGlzdDtcbiAgICAgICAgbGV0IGl0ZW07XG4gICAgICAgIGZvcihsZXQgaT0gMDsgaSA8IHBpY0xpc3QubGVuZ3RoOyBpKysgKXsgXG4gICAgICAgICAgICBpZihwaWNMaXN0W2ldLk5pY2tOYW1lID09IFwiZGlhbl9naWZcIiB8fCBwaWNMaXN0W2ldLk5pY2tOYW1lID09PSBcImZlbmdfZ2lmXCIgfHwgcGljTGlzdFtpXS5OaWNrTmFtZSA9PT0gXCJxaW5nX2dpZlwiIHx8ICBwaWNMaXN0W2ldLk5pY2tOYW1lID09PSBcInh1ZV9naWZcIiB8fCBwaWNMaXN0W2ldLk5pY2tOYW1lID09PSBcInl1X2dpZlwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8v54m55q6KZ2lmXG4gICAgICAgICAgICAgICAgaXRlbSA9IG5ldyBnaWZFbGVtZW50KHBpY0xpc3RbaV0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYocGljTGlzdFtpXS5UeXBlRWxlbWVudCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBuZXcgUGljdHVyZShwaWNMaXN0W2ldKTsgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKHBpY0xpc3RbaV0uVHlwZUVsZW1lbnQgPT09IDMpe1xuICAgICAgICAgICAgICAgICAgICBpdGVtID0gbmV3IExhYmVsKHBpY0xpc3RbaV0pOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihwaWNMaXN0W2ldLlR5cGVFbGVtZW50ID09PSA0KXtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLmiJHmmK/pqqjpqrzliqjnlLtcIik7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBuZXcgc3BpbmVBbmltYXRpb24ocGljTGlzdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYocGljTGlzdFtpXS5UeXBlRWxlbWVudCA9PT0gNSl7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBuZXcgY29tYmluYXRpb25ib3gocGljTGlzdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuZGljbmFtZVtpdGVtLm5hbWVdID0gaXRlbTsgXG4gICAgICAgICAgICB0aGlzLnBpY3R1cmVJdGVtLnB1c2goaXRlbSk7ICAgXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucGljdHVyZUl0ZW0ubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoaXRlbSk7ICAgICAgICAgIFxuICAgICAgICAgICAgaXRlbS52aXNpYmxlID0gZmFsc2U7ICAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g5Ye6546w6aG65bqPIOaMiWluZGV45Ye6546wIDDnmoTnm7TmjqXlh7rnjrBcbiAgICAgICAgICAgIGlmKGl0ZW0uRHJpdmVUeXBlID09IDAgJiYgaXRlbS5pbmRleCA9PSAwKXsgXG4gICAgICAgICAgICAgICAgLy/liKTmlq3mmK/lkKbogIHluIjlj6/op4EgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5Jc1N0dWRlbnRzSW52aXNpYmxlKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmKGl0ZW0uQW5pbWF0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFuaW1hdGlvbiA9IG5ldyBBbmltYXRpb24oaXRlbSxpdGVtLkFuaW1hdGlvbik7ICAgICBcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfWVsc2UgaWYoaXRlbS5Ecml2ZVR5cGUgPT0gMCl7XG4gICAgICAgICAgICAgICAgLy9Ecml2ZVR5cGUg5Li6MSDmmK/kuI3moLnmja5pbmRleOWHuueOsOeahCDkuI3pnIDopoHmlL7lhaVwYWdlY2hpbGRcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VDaGlsZC5wdXNoKGl0ZW0pOyBcbiAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgLy8g5a2Y5pS+562U5qGI5Yy6XG4gICAgICAgICAgICBpZihpdGVtLlRhZ1R5cGUgPT09IDIgKXtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlckFyZWEucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFR5cGVsZW5ndGgrKztcbiAgICAgICAgICAgICAgICAvLyDnrZTmoYjnu4Tph4zpnaLnmoTooajmoIfnrb7mjpLluo9cbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlQW5zd2VybGFiZWxzKGl0ZW0uRXZlbnRMaXN0LGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaXRlbS5UYWdUeXBlID09PSA1KXtcbiAgICAgICAgICAgICAgIHRoaXMuRWxlbWVudElkQWN0aW9uLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9IFxuICAgIFxuICAgICAgICAgICAgLy/lrZjmlL7kuovku7blhYPntKBcbiAgICAgICAgICAgIGlmKGl0ZW0uVGFnVHlwZSA9PT0gMSB8fCBpdGVtLlRhZ1R5cGUgPT09IDMgfHwgaXRlbS5UYWdUeXBlID09PSA0KXtcbiAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50VmlzaWJsZS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIC8v5Yik5pat5piv5ZCm5pyJ5YWD57Sg6KeG6aKRIOmfs+mikVxuICAgICAgICAgICAgaWYoaXRlbS5NZWRpYUlkICE9IG51bGwgJiYgR00uSW1hZ2VMaWJyYXJ5W2l0ZW0uTWVkaWFJZF0peyAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50TWVkaWEoaXRlbSk7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIC8v5Yik5pat5LiK5LiA5q2l5LiL5LiA5q2l5oyJ6ZKu5piv5ZCm572u54GwICAgICAgICAgIFxuICAgICAgICB0aGlzLmp1amVkQnV0dG9uZGlzYWJsZSgpOyAgXG4gICAgICAgIGlmKEdNLnJvbGUgPT09IDApe1xuICAgICAgICAgICAgdGhpcy5waWN0dXJlRXZlbnQoKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZWxlbG1lbnRDb250cm9sKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy/moLnmja7nrZTmoYjljLrliKTmlq3nrZTpopjmjInpkq7lkozlrZDlvLnpnaLmnb/mjInpkq5cbiAgICAgICAgdGhpcy5qdWplZEFuc3dlcmJ0bigpO1xuICAgICAgICAvL+WIpOaWreetlOahiHF15ZKM5YWD57Sg5piv5ZCm5Y+v6KeBXG4gICAgICAgIHRoaXMuanVqZGVhbnN3ZXJQb2ludCgpO1xuICAgICAgICAvLzF2MeiAgeW4iOacgOWQjuS4gOmhtea3u+WKoOivvuWQjuaKpeWRiuaMiemSrlxuICAgICAgICAvLyAgJiYgR00uRnJvbSAhPSAwXG4gICAgICAgIGlmKGRhdGEuUGFnZU51bSA9PT0gR00uTElCUkFSWS5sZW5ndGggJiYgR00ucm9sZSA9PT0gMCl7XG4gICAgICAgICAgICB0aGlzLmFkZEFmdGVycmVwb3J0KCk7XG4gICAgICAgIH0gIFxuXG4gICAgICAgIC8v57uZcm9vbea3u+WKoG1vdXNlY2xpY2tcbiAgICAgICAgdGhpcy5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sUm9vbVNjZW5lLmdldEluc3RhbmNlKCkubW91c2VQLFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLm1vdXNlUC5zZW5kTW91c2VjbGljayk7IFxuXG4gICAgICAgIC8v5re75Yqg5peB55m95Yqf6IO9ICAgICAgXG4gICAgICAgIGlmKHRoaXMuRWxlbWVudElkQWN0aW9uLmxlbmd0aD4wKXsgIFxuICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IHRoaXMuRWxlbWVudElkQWN0aW9uLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgICAgICAvL+mpseWKqOaWueW8j+S4uuiHquWKqOaXtiAg55u05o6l5Ye6546wICBcbiAgICAgICAgICAgICAgICAgaWYodGhpcy5FbGVtZW50SWRBY3Rpb25baV0uRHJpdmVUeXBlID09PSAwICYmIHRoaXMuRWxlbWVudElkQWN0aW9uW2ldLnZpc2libGUpeyAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmFzaWRlSGFuZGxlcih0aGlzLkVsZW1lbnRJZEFjdGlvbltpXSkgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIC8v5Zyo5YWD57Sg57uE5Lit55qE562U5qGI57uE5re75Yqg6aG65bqP5Lul5Y+K5re75Yqg5Ye6546w5raI5aSx5LqL5Lu2XG4gICAgICAgIGlmKHRoaXMuRWxlbWVudEdyb3VwKXtcbiAgICAgICAgICAgICBpZih0aGlzLkVsZW1lbnRHcm91cC5FbGVtZW50SW5mb0xpc3QubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5BbnN3ZXJncm91cCh0aGlzLkVsZW1lbnRHcm91cCk7XG4gICAgICAgICAgICAgfSAgXG4gICAgICAgIH1cbiAgICAgICBcbiAgICB9XG5cbiAgICAvL+WIneWni+WMluiDjOaZr+mfs+S5kOS7peWPiuaMiemSrueKtuaAgVxuICAgIGJ1dHRvbkluaXQoKXtcbiAgICAgICAgaWYodGhpcy5iZ21BdWRpbyl7XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5ib3R0b20uYmdzb3VuZEJ0bi52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKExheWEuU291bmRNYW5hZ2VyLm11c2ljTXV0ZWQpO1xuICAgICAgICAgICAgaWYoIUxheWEuU291bmRNYW5hZ2VyLm11c2ljTXV0ZWQpe1xuICAgICAgICAgICAgICAgIGlmKG1lc3NhZ2VDZW50ZXIuc291bmRvdXRQbGF5KCkpeyBcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwicGxheW11c2ljXCIse2lkOnRoaXMuYmdtdXNpY0lkLHN0YXR1Olwib3BlblwifSk7ICAgICAgXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJnTXVzaWMgPSBMYXlhLlNvdW5kTWFuYWdlci5wbGF5TXVzaWModGhpcy5iZ21BdWRpbywwLG51bGwsdGhpcy5tdXNpY1RpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgICBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5ib3R0b20uYmdzb3VuZEJ0bi52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy/mjInpkq7nirbmgIFcbiAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYm90dG9tLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJ0blJpZ2h0LmRpc2FibGVkID0gZmFsc2U7ICAgIFxuICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5idG5MZWZ0LmRpc2FibGVkID0gZmFsc2U7ICAgXG4gICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJ0blRvcC5kaXNhYmxlZCA9IGZhbHNlOyAgICAgIFxuICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5idG5SaWdodC5ncmF5ID0gdHJ1ZTtcbiAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYnRuTGVmdC5ncmF5ID0gdHJ1ZTsgICBcbiAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuY2FuY2VsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvL+a3u+WKoOWFg+e0oOWkmuWqkuS9k+eKtuaAgSjljIXmi6zlhYPntKDnmoTop4bpopHku6Xlj4rpn7PpopEpXG4gICAgYWRkRWxlbWVudE1lZGlhKGl0ZW0pe1xuICAgICAgICAvL+WcqOWFg+e0oOW3puS4iuinkua3u+WKoOaJk+W8gOaMiemSrlxuICAgICAgICBsZXQgaXRlbU1lZGllQnV0dG9uO1xuICAgICAgICBsZXQgbWVkaWF1cmwgPSBHTS5JbWFnZUxpYnJhcnlbaXRlbS5NZWRpYUlkXS5Vcmw7XG4gICAgICAgIGlmKEdNLkltYWdlTGlicmFyeVtpdGVtLk1lZGlhSWRdLnR5cGUgPT09IFwiYXVkaW9cIil7ICAgICAgICAgIFxuICAgICAgICAgICAgaXRlbU1lZGllQnV0dG9uID0gbmV3IGF1ZGlvSWNvbihpdGVtLk1lZGlhTW9kZSxHTS5JbWFnZUxpYnJhcnlbaXRlbS5NZWRpYUlkXS5VcmwsaXRlbS5NZWRpYURlbGF5LGl0ZW0uTWVkaWFJZCk7ICBcbiAgICAgICAgICAgIGl0ZW1NZWRpZUJ1dHRvbi5uYW1lID0gXCJhdWRpb1wiO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50QXVkaW8gPSBHTS5JbWFnZUxpYnJhcnlbaXRlbS5NZWRpYUlkXS5Vcmw7XG4gICAgICAgICAgICBpdGVtTWVkaWVCdXR0b24udmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgaXRlbS5hZGRDaGlsZChpdGVtTWVkaWVCdXR0b24pOyAgIFxuICAgICAgICAgICAgaWYoaXRlbS52aXNpYmxlICYmIEdNLkltYWdlTGlicmFyeVtpdGVtLk1lZGlhSWRdLnR5cGUgPT09IFwiYXVkaW9cIil7ICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZihHTS5yb2xlID09PSAwKXsgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1NZWRpZUJ1dHRvbi5NZWRpYU1vZGUgIT0gMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtTWVkaWVCdXR0b24udmlzaWJsZSA9IHRydWU7ICBcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0uZmluZChcImF1ZGlvXCIpLmNvbnN0cm9sTWVkaWFNb2RlKCk7ICBcbiAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoR00uSW1hZ2VMaWJyYXJ5W2l0ZW0uTWVkaWFJZF0udHlwZSA9PT0gXCJ2aWRlb1wiKXsgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGl0ZW1NZWRpZUJ1dHRvbiA9IG5ldyBMYXlhLkltYWdlKCdyZXMvY29tbW9ubi9pY29uX3ZkLnBuZycpOyAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaXRlbU1lZGllQnV0dG9uLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+eyAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkudmlkZW9PYmouaW5pdChtZWRpYXVybCk7ICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pOyAgICAgXG4gICAgICAgICAgICBpZihHTS5yb2xlID09PSAwKXtcbiAgICAgICAgICAgICAgICBpdGVtTWVkaWVCdXR0b24udmlzaWJsZSA9IHRydWU7ICBcbiAgICAgICAgICAgICAgICBpdGVtLmFkZENoaWxkKGl0ZW1NZWRpZUJ1dHRvbik7IFxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgaXRlbU1lZGllQnV0dG9uLnNpemUoMzAsMzApO1xuICAgICAgICBpZihpdGVtLmZpbmQoXCJzcGluZWFuaVwiKSl7XG4gICAgICAgICAgICBpdGVtTWVkaWVCdXR0b24uc2NhbGUoaXRlbU1lZGllQnV0dG9uLnNjYWxlWC9pdGVtTWVkaWVCdXR0b24uZ2xvYmFsU2NhbGVYLGl0ZW1NZWRpZUJ1dHRvbi5zY2FsZVkvaXRlbU1lZGllQnV0dG9uLmdsb2JhbFNjYWxlWSk7ICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBpdGVtTWVkaWVCdXR0b24uYW5jaG9yWCA9IDAuNTtcbiAgICAgICAgaXRlbU1lZGllQnV0dG9uLmFuY2hvclkgPSAwLjU7XG4gICAgICAgIGl0ZW1NZWRpZUJ1dHRvbi54ID0gaXRlbS53aWR0aC8yOyAgXG4gICAgICAgIGlmKGl0ZW0uTWlycm9yWCA9PSAtMSl7XG4gICAgICAgICAgICBpdGVtTWVkaWVCdXR0b24uc2tld1kgPSAgMTgwOyBcbiAgICAgICAgfSAgICAgICAgXG4gICAgICAgIGlmKGl0ZW0uTWlycm9yWSA9PSAtMSl7XG4gICAgICAgICAgICBpdGVtTWVkaWVCdXR0b24ueSA9ICBpdGVtLmhlaWdodDtcbiAgICAgICAgICAgIGl0ZW1NZWRpZUJ1dHRvbi5za2V3WCA9ICAxODA7XG4gICAgICAgIH0gICAgXG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBpdGVtTWVkaWVCdXR0b24ueSA9IC0xMDsgICAgICAgICAgICAgICBcbiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICBcbiAgICB9XG5cbiAgICAvL+WFg+e0oOiAgeW4iOWPr+ingeWKn+iDvVxuICAgIElzU3R1ZGVudHNJbnZpc2libGUoaXRlbSl7XG4gICAgICAgIGlmKGl0ZW0uSXNTdHVkZW50c0ludmlzaWJsZSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICBpZihHTS5yb2xlID09PSAwICl7XG4gICAgICAgICAgICAgICAgaXRlbS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpdGVtLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgICAgICAgICAgXG4gICAgLy/mt7vliqDor77lkI7miqXlkYpcbiAgICBhZGRBZnRlcnJlcG9ydCgpe1xuICAgICAgICB0aGlzLnJlcG9ydEJ0biA9IG5ldyBMYXlhLkltYWdlKFwicmVzL3JlcG9ydHMvYmFvZ2FvLnBuZ1wiKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnJlcG9ydEJ0bik7XG4gICAgICAgIHRoaXMucmVwb3J0QnRuLnJpZ2h0ID0gNTA7XG4gICAgICAgIHRoaXMucmVwb3J0QnRuLmJvdHRvbSA9IDEwMDtcbiAgICAgICAgdGhpcy5yZXBvcnRCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuivvuWQjuaKpeWRilwiKTtcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcImdldFJlcG9ydFwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBmaWdlcnJlcG9ydCA9IG5ldyBmaWdlUmVwb3J0VUkoKTtcbiAgICAgICAgdGhpcy5yZXBvcnRCdG4uYWRkQ2hpbGQoZmlnZXJyZXBvcnQpO1xuICAgICAgICBmaWdlcnJlcG9ydC5ib3R0b20gPSB0aGlzLnJlcG9ydEJ0bi5oZWlnaHQgKzEwO1xuICAgICAgICBmaWdlcnJlcG9ydC5sZWZ0ID0gLSBmaWdlcnJlcG9ydC53aWR0aC8yKzQ1O1xuICAgIH1cblxuICAgIC8v5qC55o2u562U5qGI57uE5Yik5pat562U6aKY5oyJ6ZKu5ZKM5a2Q5by56Z2i5p2/5oyJ6ZKuXG4gICAganVqZWRBbnN3ZXJidG4oKXtcbiAgICAgICAgaWYodGhpcy50YXJnZXRUeXBlbGVuZ3RoID09PSAwICYm44CAIXRoaXMucHV6emxlRmxhZyl7ICAgICAgICAgICBcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmFuc3dlckJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5ib3R0b20uYnV0dGV0QnRuLmRpc2FibGVkID0gdHJ1ZTsgICAgICAgICAgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYW5zd2VyQnRuLmRpc2FibGVkID0gZmFsc2U7IFxuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYm90dG9tLmJ1dHRldEJ0bi5kaXNhYmxlZCA9IGZhbHNlOyAgXG4gICAgICAgIH1cbiAgICB9XG4gICBcbiAgICAvL+mhtemdouaXgeeZveWFg+e0oFxuICAgIGFzaWRlSGFuZGxlcihpdGVtKXsgXG4gICAgICAgIC8vIDDngrnlh7sgIDHlh7rlnLogMiAg5Ye65Zy654K55Ye75bm25a2YXG4gICAgICAgIGxldCBvYmosc291bmRhO1xuICAgICAgICBpZihpdGVtLk1lZGlhTW9kZSA9PT0gMSB8fCBpdGVtLk1lZGlhTW9kZSA9PT0gMil7ICAgIFxuICAgICAgICAgICAgaWYoaXRlbS5maW5kKFwiYXVkaW9cIikpe1xuICAgICAgICAgICAgICAgIGxldCBzb3VuZGEgPSBpdGVtLmZpbmQoXCJhdWRpb1wiKS5zb3VuZGE7XG4gICAgICAgICAgICAgICAgLy/lrabnlJ/ml4Hnmb3moLnmja7lo7Dpn7Pml7bplb/otbAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYobWVzc2FnZUNlbnRlci5zb3VuZG91dFBsYXkoKSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHNvdW5kYSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtZXNzYWdlQ2VudGVyLmVtaXQoXCJjb25zb2xlXCIse3RleHQ6XCJhcHDmkq3mlL5cIn0pOyAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGltZSA9IGl0ZW0uZmluZChcImF1ZGlvXCIpLnNvdW5kdXJhdGlvbjsgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtZXNzYWdlQ2VudGVyLmVtaXQoXCJjb25zb2xlXCIsdGltZSk7ICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5FdmVudExpc3QubGVuZ3RoID4gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcihsZXQgaSBpbiBpdGVtLkV2ZW50TGlzdCl7ICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gaXRlbS5FdmVudExpc3RbMF07IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1lc3NhZ2VDZW50ZXIuZW1pdChcImNvbnNvbGVcIixvYmopOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIExheWEudGltZXIub25jZSh0aW1lKjEwMDAsdGhpcyx0aGlzLnNob3dDbGVhckV2ZW50TGlzdCxbb2JqXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfWVsc2V7ICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIGlmKHNvdW5kYSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc291bmRhLmR1cmF0aW9uIT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLlNvdW5kdXJhdGlvbiA9IHNvdW5kYS5kdXJhdGlvbjsgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5FdmVudExpc3QubGVuZ3RoID4gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IobGV0IGkgaW4gaXRlbS5FdmVudExpc3QpeyAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBpdGVtLkV2ZW50TGlzdFswXTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuU291bmR1cmF0aW9uKTsgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuU291bmR1cmF0aW9uKjEwMDAsdGhpcyx0aGlzLnNob3dDbGVhckV2ZW50TGlzdCxbb2JqXSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IFxuICAgICAgICB9ICBcbiAgICB9XG4gICBcbiAgICAvL+mhtemdouetlOahiOe7hOWIneWni+WMllxuICAgIHN0b3JlQW5zd2VybGFiZWxzKEV2ZW50TGlzdCxpdGVtKXsgICAgIFxuICAgICAgICAvLyDmjInnhadPcmRlckluZGV46L+b6KGM5qCH562+5o6S5bqPXG4gICAgICAgIGlmKEV2ZW50TGlzdCl7XG4gICAgICAgICAgICAgICBpdGVtLmFuc3dlcnRhZ0FycmF5ID0gW107XG4gICAgICAgICAgICAgICBsZXQgbGlzdCA9IHRoaXMuQW5zd2VybGFiZWxzc29ydChFdmVudExpc3QpO1xuICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDtpPGxpc3QubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYW5zd2VydGFnQXJyYXkucHVzaCh7aW5kZXg6aSxFdmVudExpc3Q6bGlzdFtpXX0pO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICB9ICAgXG4gICAgfVxuXG4gICAgLy/pobXpnaLnrZTmoYjnu4Tph4zpnaLnmoTmoIfnrb7mjpLluo9cbiAgICBBbnN3ZXJsYWJlbHNzb3J0KGxpc3QpeyAgICAgXG4gICAgICAgIHZhciBsaXN0QXJyID0gW107XG4gICAgICAgIGxpc3QuZm9yRWFjaCgoZWwsaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxsaXN0QXJyLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgICAgIC8vIOWvueavlOebuOWQjOeahOWtl+autWtlee+8jOebuOWQjOaUvuWFpeWvueW6lOeahOaVsOe7hFxuICAgICAgICAgICAgICAgIGlmKGxpc3RBcnJbaV0uT3JkZXJJbmRleCA9PSBlbC5PcmRlckluZGV4KXtcbiAgICAgICAgICAgICAgICAgICAgbGlzdEFycltpXS5saXN0SW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50VGFnOiBlbC5FdmVudFRhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50TGlzdDogZWxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDnrKzkuIDmrKHlr7nmr5TmsqHmnInlj4LnhafvvIzmlL7lhaXlj4LnhadcbiAgICAgICAgICAgIGxpc3RBcnIucHVzaCh7XG4gICAgICAgICAgICAgICAgT3JkZXJJbmRleDogZWwuT3JkZXJJbmRleCxcbiAgICAgICAgICAgICAgICBsaXN0SW5mbzogW3tcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRUYWc6IGVsLkV2ZW50VGFnLFxuICAgICAgICAgICAgICAgICAgICBFdmVudExpc3Q6IGVsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0pOyBcbiAgICAgICAgfSlcbiAgICAgICBcbiAgICAgICAgcmV0dXJuIGxpc3RBcnIuc29ydCh0aGlzLmNvbXBhcmUoJ09yZGVySW5kZXgnKSk7XG4gICAgfVxuXG4gICAgLy/pobXpnaLlhYPntKDnu4TliJ3lp4vljJZcbiAgICBBbnN3ZXJncm91cChFbGVtZW50R3JvdXApe1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRHcm91cFwiLEVsZW1lbnRHcm91cCk7ICAgICAgIFxuICAgICAgICAvL+agueaNrmluZGV457uZ55u45ZCMaW5kZXjnmoTlhYPntKDlvZLnsbtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmFjb3JkTnVtc29ydChFbGVtZW50R3JvdXAuRWxlbWVudEluZm9MaXN0KTtcbiAgICAgICAgY29uc29sZS5sb2cobGlzdCk7XG4gICAgICAgIC8vIOehruWumua7oei2s+asoeaVsCAg562J5LqOMCDku6Xlj4rlpKfkuo7lhYPntKDnu4RsZW5ndGjnmoQg5ruh6Laz5qyh5pWw562J5LqObGVuZ3RoXG4gICAgICAgIGlmKEVsZW1lbnRHcm91cC5TYXRpc2Z5TnVtID4gMCAmJuOAgEVsZW1lbnRHcm91cC5TYXRpc2Z5TnVtIDwgRWxlbWVudEdyb3VwLkVsZW1lbnRJbmZvTGlzdC5sZW5ndGgpe1xuICAgICAgICAgICAgdGhpcy5BbnN3ZXJTYXRpc2Z5TnVtID0ge1xuICAgICAgICAgICAgICAgIFNhdGlzZnlOdW06RWxlbWVudEdyb3VwLlNhdGlzZnlOdW0sXG4gICAgICAgICAgICAgICAgQ0V2ZW50OkVsZW1lbnRHcm91cC5DRXZlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgdGhpcy5BbnN3ZXJTYXRpc2Z5TnVtID0ge1xuICAgICAgICAgICAgICAgIFNhdGlzZnlOdW06RWxlbWVudEdyb3VwLkVsZW1lbnRJbmZvTGlzdC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgQ0V2ZW50OkVsZW1lbnRHcm91cC5DRXZlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIuWFqOmDqOetlOWvueasoeaVsOS7peWPiuetlOWvueeahOaViOaenFwiLHRoaXMuQW5zd2VyU2F0aXNmeU51bSk7XG4gICAgICAgIC8v57uZ55u45ZCM5YWD57Sg57uE5ZCI6L+b6KGM5o6S5bqPXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aTwgbGlzdC5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIHRoaXMuYWRkZWxlbWVudHBhcmFtYW5kSW5kZXgobGlzdFtpXS5saXN0SW5mbyxpKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgICAvL+mhtemdouWFg+e0oOe7hOWFg+e0oOaOkuW6j1xuICAgIGFkZGVsZW1lbnRwYXJhbWFuZEluZGV4KGxpc3QsaW5kZXgpe1xuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCBsaXN0Lmxlbmd0aDtpKyspeyAgICBcbiAgICAgICAgICAgIGlmKHRoaXMuZGljbmFtZVtsaXN0W2ldLk5hbWVdKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpY25hbWVbbGlzdFtpXS5OYW1lXS5pc0VsZW1lbnRHcm91cCA9IHtpbmRleDppbmRleH07IFxuICAgICAgICAgICAgICAgIHRoaXMuZGljbmFtZVtsaXN0W2ldLk5hbWVdLmlzRWxlbWVudFNhbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGljbmFtZVtsaXN0W2ldLk5hbWVdKSAgOyAgXG4gICAgICAgICAgICB9ICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOmhtemdouWFg+e0oOS4reebuOWQjOWFg+e0oOW9kuexu1xuICAgIGFjb3JkTnVtc29ydChsaXN0KXsgICAgIFxuICAgICAgICB2YXIgbGlzdEFyciA9IFtdO1xuICAgICAgICBsaXN0LmZvckVhY2goKGVsLGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8bGlzdEFyci5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgICAgICAvLyDlr7nmr5Tnm7jlkIznmoTlrZfmrrVrZXnvvIznm7jlkIzmlL7lhaXlr7nlupTnmoTmlbDnu4RcbiAgICAgICAgICAgICAgICBpZihsaXN0QXJyW2ldLk51bSA9PSBlbC5OdW0pe1xuICAgICAgICAgICAgICAgICAgICBsaXN0QXJyW2ldLmxpc3RJbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgTnVtOiBlbC5OdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBOYW1lOiBlbC5OYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g56ys5LiA5qyh5a+55q+U5rKh5pyJ5Y+C54Wn77yM5pS+5YWl5Y+C54WnXG4gICAgICAgICAgICBsaXN0QXJyLnB1c2goe1xuICAgICAgICAgICAgICAgIE51bTogZWwuTnVtLFxuICAgICAgICAgICAgICAgIGxpc3RJbmZvOiBbe1xuICAgICAgICAgICAgICAgICAgICBOdW06IGVsLk51bSxcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogZWwuTmFtZVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9KTsgXG4gICAgICAgIH0pXG4gICAgICAgXG4gICAgICAgIHJldHVybiBsaXN0QXJyLnNvcnQodGhpcy5jb21wYXJlKCdOdW0nKSk7XG4gICAgfVxuXG4gICAgLy8g5oyJ54WnT3JkZXJJbmRleOi/m+ihjOagh+etvuaOkuW6j1xuICAgIGNvbXBhcmUocHJvcGVydHkpe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oYSxiKXtcbiAgICAgICAgICAgIHZhciB2YWx1ZTEgPSBhW3Byb3BlcnR5XTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSBiW3Byb3BlcnR5XTtcbiAgICAgICAgICAgIGlmKHZhbHVlMSA9PT0gdmFsdWUyKXtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlMSAtIHZhbHVlMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOetlOahiOWMuua7oei2s+eahEV2ZW50bGlzdFxuICAgIHNob3dDbGVhckV2ZW50TGlzdChFdmVudExpc3Qpe1xuICAgICAgICBsZXQgRWxlbWVudElkLCBDbGVhckVsZW1lbnRJZCAgICBcbiAgICAgICAgbGV0IGRlbGF5ID0gRXZlbnRMaXN0LkRlbGF5KjEwMDA7IFxuICAgICAgICAvLyDlhYPntKDnmoRuYW1l5pyJ5Y+v6IO95pyJ5aW95Yeg5Liq5pS+5LiA5Liq5pWw57uE6YeMXG4gICAgICAgIGlmKEV2ZW50TGlzdC5FbGVtZW50SWQgIT0gXCJcIiAmJiBFdmVudExpc3QuRWxlbWVudElkICE9IG51bGwpe1xuICAgICAgICAgICAgRWxlbWVudElkID0gRXZlbnRMaXN0LkVsZW1lbnRJZC5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKGRlbGF5LHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICAvLyDlhYPntKDlh7rnjrBcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDbGVhckVsZW1lbnQoRWxlbWVudElkLDApOyAgXG4gICAgICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGlmKEV2ZW50TGlzdC5DbGVhckVsZW1lbnRJZCAhPSBcIlwiICYmIEV2ZW50TGlzdC5DbGVhckVsZW1lbnRJZCAhPSBudWxsKXtcbiAgICAgICAgICAgIENsZWFyRWxlbWVudElkID0gIEV2ZW50TGlzdC5DbGVhckVsZW1lbnRJZC5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKGRlbGF5LHRoaXMsKCk9PnsgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIOWFg+e0oOa2iOWksVxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NsZWFyRWxlbWVudChDbGVhckVsZW1lbnRJZCwxKTsgIFxuICAgICAgICAgICAgfSk7ICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGlmKEV2ZW50TGlzdC5Td2l0Y2hCb25lSWQpe1xuICAgICAgICAgICAgIC8vIOWIh+aNouWKqOeUu1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hTcGluZWFuaShFdmVudExpc3QuU3dpdGNoQm9uZUlkKTtcbiAgICAgICAgfVxuICAgICAgIFxuICAgIH1cblxuICAgIC8v6aqo6aq85Yqo55S75YiH5o2iXG4gICAgc3dpdGNoU3BpbmVhbmkocmVzKXtcbiAgICAgICAgY29uc29sZS5sb2coU3dpdGNoQm9uZUlkKTtcbiAgICAgICAgLy8g5Yik5pat5Ye6546w5raI5aSx6YeM6Z2i5piv5ZCm5pyJU3dpdGNoQm9uZUlk5a2X5q61XG4gICAgICAgIGxldCBFbGVtZW50O1xuICAgICAgICBsZXQgU3dpdGNoQm9uZUlkID0gSlNPTi5wYXJzZShyZXMpO1xuICAgICAgICBpZihTd2l0Y2hCb25lSWQubGVuZ3RoID4gMCApe1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDtpPFN3aXRjaEJvbmVJZC5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgICAgICBFbGVtZW50ID0gdGhpcy5kaWNuYW1lW1N3aXRjaEJvbmVJZFtpXS5JZF07XG4gICAgICAgICAgICAgICAgRWxlbWVudC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBFbGVtZW50LmNoYW5nZVBsYXlzdHlsZShTd2l0Y2hCb25lSWRbaV0uQWN0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9ICAgXG5cbiAgICB9XG5cblxuICAgIC8v562U5qGI5Yy65ruh6Laz55qERXZlbnRsaXN05YWD57Sg5Ye6546w5oiW6ICF5raI5aSxXG4gICAgc2hvd0NsZWFyRWxlbWVudChuYW1lLHR5cGUpe1xuICAgICAgICAvLyAw5piv5Ye6546wIDEg5piv5raI5aSxXG4gICAgICAgIGxldCBFbGVtZW50SWQ7XG4gICAgICAgIGxldCBzdGEgPSBmYWxzZTtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IG5hbWUubGVuZ3RoOyBqKysgKXtcbiAgICAgICAgICAgIEVsZW1lbnRJZCA9IHRoaXMuZGljbmFtZVtuYW1lW2pdXTsgICAgICAgICAgXG4gICAgICAgICAgICBpZihFbGVtZW50SWQpeyAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PSAwKXsgXG4gICAgICAgICAgICAgICAgICAgIHN0YSA9IHRydWU7ICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZShFbGVtZW50SWQpICAgIFxuICAgICAgICAgICAgICAgICAgICBsZXQgYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbihFbGVtZW50SWQsRWxlbWVudElkLkFuaW1hdGlvbik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvL+W4puWHuuWFg+e0oOS6i+aXgeeZveW5tuS4lOacieWjsOmfs+eahOWImeiuvue9ruWHuuWcuuaWueW8j+S4uuiHquWKqFxuICAgICAgICAgICAgICAgICAgICBsZXQgc2hvd2F1ZGlvID0gRWxlbWVudElkLmZpbmQoXCJhdWRpb1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoc2hvd2F1ZGlvKXsgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd2F1ZGlvLk1lZGlhTW9kZSA9IDE7ICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dhdWRpby5jb25zdHJvbE1lZGlhTW9kZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0eXBlID09IDEpe1xuICAgICAgICAgICAgICAgICAgICBzdGEgPSBmYWxzZTsgICAgXG4gICAgICAgICAgICAgICAgICAgIEVsZW1lbnRJZC52aXNpYmxlID0gZmFsc2U7ICAgIFxuICAgICAgICAgICAgICAgICAgICBpZihFbGVtZW50SWQuVGFnVHlwZSA9PT0gNCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIua2iOWkseeahOWFg+e0oOaYr+i/nue6v1wiLEVsZW1lbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+a2iOWkseeahOWFg+e0oOWmguaenOaYr+WPr+i/nue6v+eahFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuZXZlbnRzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggRWxlbWVudElkLm5hbWUgPT09IHRoaXMuZXZlbnRzW2ldLm5hbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50c1tpXS5kZXN0cm95aW1hZ2VMaWdhdHVyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZXZlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgOiBFbGVtZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXQgOiBzdGFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRJdGVtcy5wdXNoKG9iaik7IFxuICAgICAgICAgICAgfSAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLy/lh7rnjrDlkozmtojlpLHpg73pnIDopoHliKTmlq3lvIDlp4vnrZTpopjmjInpkq7mmK/lkKblj6/nrZTpopjnirbmgIFcbiAgICAgICAgdGhpcy5qdWpkZWFuc3dlclBvaW50KCk7XG5cbiAgICB9XG5cbiAgICAvL+WIpOaWreS4iuS4gOatpeS4i+S4gOatpeaMiemSruaYr+WQpue9rueBsFxuICAgIGp1amVkQnV0dG9uZGlzYWJsZSgpeyAgICBcbiAgICAgICAgaWYodGhpcy5wYWdlQ2hpbGQubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgIG9ic2VydmVyLnVuc3Vic2NyaWJlKFwidXBkYXRlU3RlcFwiKTtcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJ0bk5leHQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5idG5OZXh0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICBcbiAgICAvLyDog4zmma/pn7PkuZDkuqTkupIgXG4gICAgYmdtdXNpY1BsYXkoZGF0YSl7ICBcbiAgICAgICAgaWYoZGF0YS5zdGF0dSA9PT0gXCJjbG9zZVwiKXtcbiAgICAgICAgICAgIC8v5omL5py656uv6IOM5pmv6Z+z5LmQ5aSW5pS+XG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5tdXNpY011dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmKG1lc3NhZ2VDZW50ZXIuc291bmRvdXRQbGF5KCkpe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcInBsYXltdXNpY1wiLHtpZDp0aGlzLmJnbXVzaWNJZCxzdGF0dTpcImNsb3NlXCJ9KTsgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSAgICAgICBcbiAgICAgICAgfWVsc2UgaWYoZGF0YS5zdGF0dSA9PT0gXCJvcGVuXCIpe1xuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIubXVzaWNNdXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYobWVzc2FnZUNlbnRlci5zb3VuZG91dFBsYXkoKSl7XG4gICAgICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwicGxheW11c2ljXCIse2lkOnRoaXMuYmdtdXNpY0lkLHN0YXR1Olwib3BlblwifSk7ICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNleyAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZih0aGlzLmJnbUF1ZGlvKXtcbiAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheU11c2ljKHRoaXMuYmdtQXVkaW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgICAgICAgICBcbiAgICAgICAgfSAgIFxuICAgIH1cblxuICAgIC8vIOagueaNrlRhZ1R5cGXkuovku7bnsbvlnovnu5Hlrprkuovku7ZcbiAgICBwaWN0dXJlRXZlbnQoKXsgXG4gICAgICAgIHRoaXMuaXRlbURpYyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDtpPHRoaXMucGljdHVyZUl0ZW0ubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBsZXQgdGVtcDtcbiAgICAgICAgICAgIGlmKHRoaXMucGljdHVyZUl0ZW1baV0uVGFnVHlwZSA9PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRlbXAgPSBuZXcgRHJhZ0V2ZW50KHRoaXMucGljdHVyZUl0ZW0sdGhpcy5waWN0dXJlSXRlbVtpXSk7XG4gICAgICAgICAgICAgICAgLy/lrZflhbhcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1EaWNbdGhpcy5waWN0dXJlSXRlbVtpXS5uYW1lXSAgPSB0aGlzLnBpY3R1cmVJdGVtW2ldO1xuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5waWN0dXJlSXRlbVtpXS5UYWdUeXBlID09IDMpXG4gICAgICAgICAgICB7ICAgXG4gICAgICAgICAgICAgICAgdGVtcCA9IG5ldyBDbGlja0V2ZW50KHRoaXMucGljdHVyZUl0ZW0sdGhpcy5waWN0dXJlSXRlbVtpXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtRGljW3RoaXMucGljdHVyZUl0ZW1baV0ubmFtZV0gID0gdGhpcy5waWN0dXJlSXRlbVtpXTtcblxuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5waWN0dXJlSXRlbVtpXS5UYWdUeXBlID09IDQpXG4gICAgICAgICAgICB7ICAgXG4gICAgICAgICAgICAgICAgdGVtcCA9IG5ldyBMaWdhdHVyZUV2ZW50KHRoaXMucGljdHVyZUl0ZW0sdGhpcy5waWN0dXJlSXRlbVtpXSk7XG4gICAgICAgICAgICAgICAgLy/lrZflhbhcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1EaWNbdGhpcy5waWN0dXJlSXRlbVtpXS5uYW1lXSAgPSB0aGlzLnBpY3R1cmVJdGVtW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5waWN0dXJlSXRlbVtpXS5UYWdUeXBlID09IDYpe1xuICAgICAgICAgICAgICAgIHRoaXMucHV6emxlRmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLmiJHmmK8g5ou85Zu+XCIpO1xuICAgICAgICAgICAgICAgIGxldCAgdGVtcCA9IG5ldyBwdXp6bGVFdmVudCh0aGlzLnBpY3R1cmVJdGVtLHRoaXMucGljdHVyZUl0ZW1baV0pO1xuICAgICAgICAgICAgICAgIC8v5a2X5YW4XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtRGljW3RoaXMucGljdHVyZUl0ZW1baV0ubmFtZV0gID0gdGhpcy5waWN0dXJlSXRlbVtpXTtcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgICAgXG4gICAgICAgICAgICAvL+mUgOavgeaXtumBjeWOhuaJgOaciXRlbXDlhoXnmoRkaXNwb3Nl5Ye95pWwXG4gICAgICAgICAgICBpZih0ZW1wKXtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHRlbXApO1xuICAgICAgICAgICAgfSAgICAgXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8v5Yik5pat562U5qGI5Yy65ZKM5Y+v54K55Y+v5ouW5YWD57Sg5piv5ZCm5Y+v6KeBXG4gICAganVqZGVhbnN3ZXJQb2ludCgpe1xuICAgICAgICAvL+mBjeWOhuaJgOacieetlOahiOWMuuWSjOWFg+e0oOaYr+WQpuWPr+ingSBcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcbiAgICAgICAgaWYodGhpcy5hbnN3ZXJBcmVhLmxlbmd0aD4wKXtcbiAgICAgICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLmVsZW1lbnRWaXNpYmxlKXtcbiAgICAgICAgICAgIC8v5YWD57Sg5Y+v6KeBICDlubbkuJQg6L+Z5Liq5YWD57Sg55qE562U5qGI5Yy65Lmf5ZyoXG4gICAgICAgICAgICAgICAgZm9yKGxldCBqIGluIHRoaXMuYW5zd2VyQXJlYSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudFZpc2libGVbaV0udmlzaWJsZSAmJiB0aGlzLmFuc3dlckFyZWFbal0udmlzaWJsZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmFuc3dlckFyZWFbal0uRXZlbnRMaXN0ICE9IG51bGwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgayA9IDA7IGs8dGhpcy5hbnN3ZXJBcmVhW2pdLkV2ZW50TGlzdC5sZW5ndGg7aysrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50VmlzaWJsZVtpXS5UYWcgPT09IHRoaXMuYW5zd2VyQXJlYVtqXS5FdmVudExpc3Rba10uRXZlbnRUYWcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihpbmRleCA+IDAgKXtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlclZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlclZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5hbnN3ZXJWaXNpYmxlICYmICFSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hbnN3ZXJGaW5pc2hGbGFnKXtcbiAgICAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hbnN3ZXJCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLnB1enpsZUZsYWcpe1xuICAgICAgICAgICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYW5zd2VyQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuICAgXG4gICAgLy/orr7nva7lsYLnuqdcbiAgICBhbnN3ZXJJbmRleENoYW5nZShpdGVtKXtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fY2hpbGRzLmxlbmd0aCAtMTtcbiAgICAgICAgdGhpcy5zZXRDaGlsZEluZGV4KGl0ZW0saW5kZXgpO1xuICAgIH1cblxuICAgIC8v6YeN572u5L2N572uXG4gICAgcmVzZXRTdGF0ZSgpe1xuICAgICAgICB0aGlzLnJlc2V0QW5zd2VyYm94KCk7XG4gICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLnBpY3R1cmVJdGVtKXsgICAgIFxuICAgICAgICAgICAgaWYodGhpcy5wdXp6bGVGbGFnKXtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY3R1cmVJdGVtW2ldLnJvdGF0aW9uID0gdGhpcy5waWN0dXJlSXRlbVtpXS5Sb3RhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwb3N0aW9uWCA9IE51bWJlcih0aGlzLnBpY3R1cmVJdGVtW2ldLlBvc2l0aW9uLnNwbGl0KCcsJylbMF0pICArIHRoaXMucGljdHVyZUl0ZW1baV0ud2lkdGgvMjsgIFxuICAgICAgICAgICAgbGV0IHBvc3Rpb25ZID0gTnVtYmVyKHRoaXMucGljdHVyZUl0ZW1baV0uUG9zaXRpb24uc3BsaXQoJywnKVsxXSkgICsgdGhpcy5waWN0dXJlSXRlbVtpXS5oZWlnaHQvMjsgICAgXG4gICAgICAgICAgICBpZih0aGlzLnBpY3R1cmVJdGVtW2ldLnggIT0gcG9zdGlvblggfHwgdGhpcy5waWN0dXJlSXRlbVtpXS55ICE9IHBvc3Rpb25ZKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waWN0dXJlSXRlbVtpXS54ID0gcG9zdGlvblg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGljdHVyZUl0ZW1baV0ueSA9IHBvc3Rpb25ZO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8v6YeN572u562U5qGI57uEXG4gICAgcmVzZXRBbnN3ZXJib3goKXtcbiAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5hbnN3ZXJBcmVhKXtcbiAgICAgICAgICAgdGhpcy5zdG9yZUFuc3dlcmxhYmVscyh0aGlzLmFuc3dlckFyZWFbaV0uRXZlbnRMaXN0LHRoaXMuYW5zd2VyQXJlYVtpXSk7XG4gICAgICAgfSAgICAgIFxuICAgIH1cblxuICAgIC8v6Kej57uR5Lul5Y+K6ZSA5q+B5LqL5Lu2XG4gICAgdGltZU91dEZyYW1lTG9vcEV2ZW50KGRlc3Ryb3lFdmVudCl7ICAgICAgIFxuICAgICAgICAgLy9jb25zb2xlLmxvZyhcIuWPlua2iOS6i+S7tlwiKTtcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuaXRlbURpYyl7XG4gICAgICAgICAgICB0aGlzLm9mZkV2ZW50KHRoaXMuaXRlbURpY1tpXSk7XG4gICAgICAgIH0gICBcblxuICAgICAgICBpZihkZXN0cm95RXZlbnQgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAvL+WwhuS6i+S7tuS4reaJgOacieWunuS+i+WMlueahOWvueixoemUgOavgeaOiVxuICAgICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuZXZlbnRzKXtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50c1tpXS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICB9ICBcbiAgICB9XG5cbiAgICAvL+ino+e7keS6i+S7tlxuICAgIG9mZkV2ZW50KGl0ZW0pe1xuICAgICAgICBpdGVtLm9mZkFsbCgpO1xuICAgIH1cblxuICAgIC8v5YWD57Sg54q25oCB6L+Y5Y6fXG4gICAgcmV0dXJuaXRlbXMoKXtcbiAgICAgICAgdGhpcy5ldmVudEl0ZW1zID0gdGhpcy5ldmVudEl0ZW1zLnJldmVyc2UoKTtcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuZXZlbnRJdGVtcyl7XG4gICAgICAgICAgICB0aGlzLmV2ZW50SXRlbXNbaV0uZWxlbWVudC52aXNpYmxlID0gIXRoaXMuZXZlbnRJdGVtc1tpXS5zdGF0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRJdGVtcyA9IFtdO1xuICAgIH1cbiAgICBcbiAgICAvL+WIpOaWrXRhZ+aYr+WQpuebuOWQjFxuICAgIGxpc3RzaGlmdGZpcnN0KFRhZyxpdGVtLGRhdGEpe1xuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xuICAgICAgICBsZXQgbGlzdDtcbiAgICAgICAgaWYoVGFnLmFuc3dlcnRhZ0FycmF5Lmxlbmd0aCA+IDAgKXtcbiAgICAgICAgICAgICAgaWYoVGFnLmFuc3dlcnRhZ0FycmF5WzBdLkV2ZW50TGlzdCl7XG4gICAgICAgICAgICAgICAgbGlzdCA9IFRhZy5hbnN3ZXJ0YWdBcnJheVswXS5FdmVudExpc3QubGlzdEluZm87XG4gICAgICAgICAgICAgIH0gICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGlmKGxpc3Qpe1xuICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwO2k8bGlzdC5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgICAgICBpZihpdGVtLlRhZyA9PT0gbGlzdFtpXS5FdmVudFRhZyl7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlOyAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHNpY0Fuc3dlcm9uZShUYWcsbGlzdFtpXSxpdGVtKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvL+agueaNrmluZGV45Yig6Zmk6YeM6Z2idGFn5qCH562+XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGxpc3QuaW5kZXhPZihsaXN0W2ldKTsgXG4gICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LDEpXG4gICAgICAgICAgICAgICAgICAgIGlmKGxpc3QubGVuZ3RoID09PSAwKXsgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5PcmRlckluZGV4Kys7ICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgVGFnLmFuc3dlcnRhZ0FycmF5LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0c2ljQW5zd2VyZ3JvdXAoVGFnLGRhdGEpOyAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDov5Tlm550cnVlXG4gICAgICAgICAgICBpZihmbGFnKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxuXG4gICAgLy/mu6HotrPlhbbkuK3kuIDkuKrnrZTmoYjljLpcbiAgICBzdHNpY0Fuc3dlcm9uZShUYWcsVGFnRXZlbnRMaXN0LGl0ZW0sZGF0YSl7ICAgICAgICAgICAgICAgXG4gICAgICAgIC8v5bGV56S65Ye6546w5raI5aSx5YWD57SgXG4gICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvRXZlbnRzL3NtYWxsV2luLm1wMycpOyBcbiAgICAgICAgdGhpcy5zaG93Q2xlYXJFdmVudExpc3QoVGFnRXZlbnRMaXN0LkV2ZW50TGlzdCk7ICAgXG4gICAgfVxuIFxuICAgIC8vIOa7oei2s+WFtuS4reS4gOS4quetlOahiOe7hFxuICAgIHN0c2ljQW5zd2VyZ3JvdXAoVGFnLGRhdGEpe1xuICAgICAgICBpZihUYWcuYW5zd2VydGFnQXJyYXkubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgIHRoaXMuRWxlbWVudEluZGV4Kys7XG4gICAgICAgICAgICB0aGlzLk9yZGVySW5kZXggPSAwO1xuICAgICAgICAgICAgaWYoVGFnLmlzRWxlbWVudEdyb3VwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRWxlbWVudEdyb3VwTnVtICsrO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfSAgICBcbiAgICAgICAgdGhpcy5icmluZ091dEVsZW1lbnQoZGF0YSk7ICAgICAgICAgICAgICAgXG4gICAgIH1cbiAgIFxuICAgIC8v562U6aKY57uE5Lul5Y+K5YWD57Sg57uE5Yik5a+5XG4gICAgYnJpbmdPdXRFbGVtZW50KGRhdGEpeyBcbiAgICAgICAgbGV0IHJpZ2h0RmxhZyA9IGZhbHNlO1xuICAgICAgICAvLyDnrZTmoYjnu4Tmu6HotrNcbiAgICAgICAgaWYodGhpcy5FbGVtZW50SW5kZXggPT09IHRoaXMuYW5zd2VyQXJlYS5sZW5ndGgpe1xuICAgICAgICAgICAgcmlnaHRGbGFnID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvL+WFg+e0oOe7hOWtmOWcqCAmJiDlhYPntKDnu4Tmu6HotrPmrKHmlbBTYXRpc2Z5TnVt6L6+5YiwXG4gICAgICAgIGlmKHRoaXMuRWxlbWVudEdyb3VwLkVsZW1lbnRJbmZvTGlzdC5sZW5ndGggPiAwICYm44CAIXRoaXMuaXNFbGVtZW50R3JvdXBGbGFnICl7XG4gICAgICAgICAgICBpZih0aGlzLmlzRWxlbWVudEdyb3VwTnVtID09PSB0aGlzLkFuc3dlclNhdGlzZnlOdW0uU2F0aXNmeU51bSl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5FbGVtZW50R3JvdXAuRWxlbWVudEluZm9MaXN0Lmxlbmd0aCA9PT0gdGhpcy50YXJnZXRUeXBlbGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgIHJpZ2h0RmxhZyA9IHRydWU7ICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy/lhYPntKDnu4Tlj6rmu6HotrPkuIDmrKFcbiAgICAgICAgICAgICAgICB0aGlzLmlzRWxlbWVudEdyb3VwRmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Q2xlYXJFdmVudExpc3QodGhpcy5BbnN3ZXJTYXRpc2Z5TnVtLkNFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAvL+WIpOaWreetlOmimOasoeaVsOaYr+WQpuetieS6juetlOahiOe7hOasoeaVsFxuICAgICAgIGlmKHJpZ2h0RmxhZyl7IFxuICAgICAgICAgICAgaWYoR00ucm9sZSA9PT0gMSAmJiBHTS5jbGFzc01vZGUgPT09IFwiMXY2XCIgJiYgZGF0YSA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICAvLzF2NuaDheWGtSDlrabnlJ/nrZTlr7nlkYror4nlkYror4nogIHluIjnrZTpopjmraPnoa5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRBbnN3ZXIoXCJhbGxyaWdodFwiLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLDMpOyAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/lrabnlJ/op4bop5LliJnlj6rmkq3mlL7liqjnlLvvvIzml6DpnIDph43nva4g5peg5o6S5ZCNXG4gICAgICAgICAgICAvL+iAgeW4iOinhuinkiDogIHluIjoh6rlt7HmmL7npLog5bm25LiU5Y+R6YCBXG4gICAgICAgICAgICBpZihHTS5yb2xlID09PSAwICYmIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmNoYW5nZXJvbGVTdHVkZW50SWQpeyAgICAgIFxuICAgICAgICAgICAgICAgIC8vIG9ic2VydmVyLnB1Ymxpc2goXCJ3aW53aW5cIik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlckNvcnJlY3QoZGF0YSk7XG4gICAgICAgICAgICB9ICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKCdzb3VuZC9FdmVudHMvc21hbGxXaW4ubXAzJyk7IFxuICAgICAgICB9ICAgICAgXG4gICAgfVxuXG4gICAgLy/nrZTpopjmraPnoa7lkI7lpITnkIZcbiAgICBhbnN3ZXJDb3JyZWN0KGRhdGEpeyAgICAgXG4gICAgICAgIC8v562U6aKY5q2j56Gu5ZCO6YeN572u5Y+C5pWwXG4gICAgICAgIHRoaXMuaXNXaW5lZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYW5zd2VycGFyYW1yZXNldCgpO1xuICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hbnN3ZXJpbmcgPSB0cnVlOyBcbiAgICAgICAgLy8g5byA5aeL562U6aKY5oyJ6ZKu572u54GwXG4gICAgICAgIGlmKEdNLnJvbGUgPT09IDApe1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuY2hhbmdlQW5zd2VyQnRuKCdmaW5pc2gnKTtcbiAgICAgICAgfSAgICBcbiAgICAgICAgLy/kuIrkuIDlhYPntKDkuIvkuIDlhYPntKDliKTmlq3nirbmgIEgICBcbiAgICAgICAgdGhpcy5qdWplZEJ1dHRvbmRpc2FibGUoKTsgICBcbiAgICAgICAgLy8g5aaC5p6c6IOM5pmv6Z+z5LmQ5a2Y5Zyo5YiZ5pKt5pS+77yM5LiN5a2Y5Zyo5YiZ5YGc5q2i562U6aKY6Z+z5pWIXG4gICAgICAgIC8vIGlmKHRoaXMuYmdtQXVkaW8pe1xuICAgICAgICAvLyAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYmdNdXNpYyA9IExheWEuU291bmRNYW5hZ2VyLnBsYXlNdXNpYyh0aGlzLmJnbUF1ZGlvKTsgICAgICAgICAgIFxuICAgICAgICAvLyB9ZWxzZXtcbiAgICAgICAgLy8gICAgIExheWEuU291bmRNYW5hZ2VyLnN0b3BNdXNpYygpOyAgXG4gICAgICAgIC8vIH0gICAgIFxuICAgICAgICBpZihHTS5mbGFnID09PSAwKXtcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJ3aW53aW5cIik7XG4gICAgICAgIH0gXG4gICAgICAgICAgXG4gICAgICAgIC8vIGRhdGEucm9sZeS4jeS4uuepuu+8jOivtOaYjuaYr3Jvb23ph4zpnaLov5vmnaXnmoTvvIznhLblkI7oh6rlt7Hlj4jmmK/ogIHluIjpgqPkuYjlj5HpgIHkvaDotaLkuoblvLnlsYLjgIJcbiAgICAgICAgaWYoR00ucm9sZSA9PT0gMCl7XG4gICAgICAgICAgICAvL+S9oOi1ouS6huW8ueWxguW8gOWQr1xuICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwicmFua1ZpZXdcIix7cmFua251bSA6IDAgLCBzaG93RGlhbG9nIDp0cnVlICAsIHN0dUlkIDogR00uc2VuZGVySWQsIHN0YXQgOiBcIk9wZW5cIn0pOyAgXG4gICAgICAgIH1cbiAgICAgICAgLy8g562U6aKY57uT5p2f5ZCOLOWmguaenOacieaPkOekuumfs+aMiemSruWImee9ruS4umZhbHNlXG4gICAgICAgIGlmKEdNLnJvbGUgPT09IDEpe1xuICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYXVkaW9JdGVtKXtcbiAgICAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hdWRpb0l0ZW0udmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8v5Y+W5raIY291bnREb3duVmlldyAgIFxuICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5jb3VudFVJKXsgICBcbiAgICAgICAgICAgIC8v5Y+R6YCB5a2m55Sf562U6aKY6L+H56iLXG4gICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMTAwMCx0aGlzLCgpPT57XG4gICAgICAgICAgICAgICAgLy/lrabnlJ/oh6rlt7HnrZTpophkYXRh5pivdW5kZWZpbmVkLOiAgeW4iOetlOmimOWtpueUn+mAmui/h2Fuc3dlcmZpbnNo6L+b5YWl6L+Z5Liq5Ye95pWwZGF0YeS4gOWumuS4jeS4uuepuu+8jOmCo+WwseS4jei1sOS4i+mdoueahGlmXG4gICAgICAgICAgICAgICAgaWYoR00ucm9sZSA9PT0gMSl7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1c2VyVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhbGx0aW1lICA9IDk5OTtcbiAgICAgICAgICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuY291bnRVSS5jb3VudFVJKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lcnRleHQgPSBOdW1iZXIoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuY291bnRVSS5jb3VudFVJLmNvdW50LnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsdGltZSA9IE51bWJlcihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5jb3VudFRpbWVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclRpbWUgPSBhbGx0aW1lIC0gdGltZXJ0ZXh0LTE7ICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclRpbWUgPSBOdW1iZXIoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuY291bnRVSS51c2VUaW1lKS0xOyBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9sb2FkSGFuZGxlcih1c2VyVGltZSx0aGlzLnNlbmRGZWVkQXJyKTsgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRGZWVkTG9nKHVzZXJUaW1lLGFsbHRpbWUsdGhpcy5zZW5kRmVlZEFycik7ICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhckFsbChSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5jb3VudFVJKTtcbiAgICAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5yZW1vdmVDaGlsZChSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5jb3VudFVJKTsgIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICAvL+ino+e7keaJgOacieS6i+S7tu+8jOaXoOmcgOmUgOavgVxuICAgICAgICB0aGlzLnRpbWVPdXRGcmFtZUxvb3BFdmVudCh0cnVlKTtcbiAgICAgICAgdGhpcy5zb3VuZGZsYWdlID0gdHJ1ZTtcblxuICAgIH1cblxuICAgIGFuc3dlcnBhcmFtcmVzZXQoKXtcbiAgICAgICAgdGhpcy5FbGVtZW50SW5kZXggPSAwO1xuICAgICAgICB0aGlzLk9yZGVySW5kZXggPSAwOyAgICAgXG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXBOdW0gPSAwO1xuICAgIH1cblxuICAgICAvLyDnrZTpopjmraPnoa7pmo/mnLrliqjnlLtcbiAgICBhbnN3ZXJjb3JyZWN0QW5pbWF0aW9uKCkgeyAgIFxuICAgICAgICB0aGlzLnJhbmRvbWEgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSozKTsgIFxuICAgICAgICBpZih0aGlzLnJhbmRvbWEgPT09IDEgKXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnNvdW5kZmxhZ2Upe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kZmxhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvbmV3c291bmQvd2luY2FvLm1wM1wiKTsgIFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy56aGlodWljYW8ucG9zKC0xMDAsMTAwMCk7ICBcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuemhpaHVpY2FvKTsgXG4gICAgICAgICAgICAgICAgdGhpcy56aGlodWljYW8ucGxheSgwLGZhbHNlKTtcbiAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuemhpaHVpY2FvLHt4OjkwLHk6ODAwLHJvdGF0aW9uOjQ1LHNjYWxlWDowLjcsc2NhbGVZOjAuN30sNTAwLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLnpoaWh1aWNhbyx7eDo5MCx5OjgwMCxyb3RhdGlvbjo0NSxzY2FsZVg6MC43LHNjYWxlWTowLjd9LDEwMDAsTGF5YS5FYXNlLmxpbmVhckluLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuemhpaHVpY2FvLHt4Oi0xMDAseToxMDAwLHJvdGF0aW9uOjQ1LHNjYWxlWDowLjcsc2NhbGVZOjAuN30sNTAwLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PnsgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuemhpaHVpY2FvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnpoaWh1aWNhby5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLDAsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLDAsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSksMCx0cnVlKTtcbiAgICAgICAgfWVsc2UgaWYodGhpcy5yYW5kb21hID09PSAyKXsgICAgICAgICBcbiAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9uZXdzb3VuZC93aW5kb3UubXAzXCIpOyAgICAgICAgICBcbiAgICAgICAgICAgICB0aGlzLmRvdXppLnNjYWxlKDAuNywgMC43KVxuICAgICAgICAgICAgIHRoaXMuZG91emkucG9zKDEwMCw4MDApO1xuICAgICAgICAgICAgIHRoaXMuZG91emkucGxheSgwLGZhbHNlKTtcbiAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuZG91emkpO1xuICAgICAgICAgICAgIHRoaXMuZG91emkub24oTGF5YS5FdmVudC5TVE9QUEVELHRoaXMsKCkgPT4ge1xuICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmRvdXppKTtcbiAgICAgICAgICAgICAgIHRoaXMuZG91emkuZGVzdHJveSgpO1xuICAgICAgICAgICAgIH0pOyAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB9ZWxzZSBpZih0aGlzLnJhbmRvbWEgPT09IDMpeyAgICAgXG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9uZXdzb3VuZC93aW5maXNoLm1wM1wiKTsgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy53aW5qaW55dS5zY2FsZSgwLjQsIDAuNClcbiAgICAgICAgICAgIHRoaXMud2luamlueXUucG9zKDEyMDAsOTcwKTtcbiAgICAgICAgICAgIHRoaXMud2luamlueXUucGxheSgwLGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy53aW5qaW55dSk7XG4gICAgICAgICAgICB0aGlzLndpbmppbnl1Lm9uKExheWEuRXZlbnQuU1RPUFBFRCx0aGlzLCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMud2luamlueXUpO1xuICAgICAgICAgICAgICAgIHRoaXMud2luamlueXUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSk7ICAgICAgICAgXG4gICAgICAgIH0gIFxuICAgIH1cbiAgXG4gICAgLy8g5Zue562U6ZSZ6K+v55qE6ZqP5py65Yqo55S75o+Q56S6ICDngrnlh7vpopjvvIzmi5bmi73popjvvIzov57nur/popjpg73nlKjkuoYgICAgXG4gICAgYW5zd2VyRXJyb3JBbmltYXRpb24oKXtcbiAgICAgICAgdGhpcy5yYW5kb20gPSBudWxsO1xuICAgICAgICB0aGlzLmFuc3dlcmVycm95TnVtKys7XG4gICAgICAgIC8vIOacrOasoei/nue7rTPmrKHplJnor6/mj5DphpLvvIzkuIvkuIDmrKHov57nu6015qyh6ZSZ6K+v5o+Q6YaS77yMMyDot58gNSDlvqrnjq/lh7rnjrBcbiAgICAgICAgaWYgKCh0aGlzLmFuc3dlcmVycm95TnVtID09IDMgJiYgdGhpcy5uZXh0QW5zd2VyZXJyb3lOdW1OdW0gPT0gMykgfHwgKHRoaXMuYW5zd2VyZXJyb3lOdW0gPT0gNSAmJiB0aGlzLm5leHRBbnN3ZXJlcnJveU51bU51bSA9PSA1KSkge1xuICAgICAgICAgICAgdGhpcy5yYW5kb20gPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoyKTtcbiAgICAgICAgICAgIHRoaXMubmV4dEFuc3dlcmVycm95TnVtTnVtID0gdGhpcy5uZXh0QW5zd2VyZXJyb3lOdW1OdW0gPT0gMyA/IDUgOiAzICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMucmFuZG9tKSB7XG4gICAgICAgICAgICBsZXQgZXJyYW5pO1xuICAgICAgICAgICAgc3dpdGNoKHRoaXMucmFuZG9tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgZXJyYW5pID0gbmV3IGNyZWF0ZVNrZWxldG9uKFwicmVzL25ld2FuaS9kYXdhbmdfc2lrYW9cIik7XG4gICAgICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZChcInNvdW5kL25ld3NvdW5kL2Vycm9yaGVhZC5tcDNcIik7IFxuICAgICAgICAgICAgICAgICAgICBlcnJhbmkuc2NhbGUoMC40LCAwLjQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvbmV3c291bmQvZXJyb3Jsb29rLm1wM1wiKTsgXG4gICAgICAgICAgICAgICAgICAgIGVycmFuaSA9IG5ldyBjcmVhdGVTa2VsZXRvbihcInJlcy9uZXdhbmkvZ3VhbmNoYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyYW5pLnNjYWxlKDAuMywgMC4zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVycmFuaS5wb3MoLTEwMCw4MDApO1xuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhlcnJhbmkse3g6MzAwLHk6ODAwfSw1MDAsTGF5YS5FYXNlLmxpbmVhckluLG51bGwsNTAwLGZhbHNlKTtcbiAgICAgICAgICAgIGVycmFuaS5uYW1lID0gXCJlcnJhbmlcIjtcbiAgICAgICAgICAgIGVycmFuaS5wbGF5KDAsZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChlcnJhbmkpO1xuICAgICAgICAgICAgdGhpcy5lcnJhbmkgPSBlcnJhbmk7XG4gICAgICAgICAgICAvLyDmnInkuKrkuIDpl67popjvvIzngrnlh7vlpKrlv6vvvIzliqjnlLvlh7rmnaXlkI7lsLHkuI3kvJrmtojlpLHkuoZcbiAgICAgICAgICAgIGVycmFuaS5vbihMYXlhLkV2ZW50LlNUT1BQRUQsdGhpcywoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95QW5pKFwiZXJyYW5pXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyYW5pID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlcmVycm95TnVtID0gMDtcbiAgICAgICAgICAgIH0pOyAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL+mUgOavgeWKqOeUu1xuICAgIGRlc3Ryb3lBbmkobmFtZSl7XG4gICAgICAgIGxldCBhbmlBcnJheSA9IHRoaXMuZmluZChuYW1lKTtcbiAgICAgICAgdGhpcy5hbmlBcnJheS5wdXNoKGFuaUFycmF5KTtcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuYW5pQXJyYXkpe1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmFuaUFycmF5W2ldKTtcbiAgICAgICAgICAgIHRoaXMuYW5pQXJyYXlbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy/lpITnkIblrozmiJDluqYgIOWIhuaekOi2heaXtuetlOWvuVxuICAgIHByb2xvYWRIYW5kbGVyKHVzZXJ0aW1lLGFycil7XG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBpZih1c2VydGltZSA+IDApe1xuICAgICAgICAgICAgLy8g5YWo6YOo562U5a+5XG4gICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnRpbWU6dXNlcnRpbWUsXG4gICAgICAgICAgICAgICAgICAgIHByb2xvYWQ6MVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8v6LaF5pe2XG4gICAgICAgICAgICAgZm9yKGxldCBpIGluIGFycil7XG4gICAgICAgICAgICAgICAgaWYoYXJyW2ldLmFuc3dlcnN0YXRlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgIGxldCBwcmUgPSBpbmRleC90aGlzLnRhcmdldFR5cGVsZW5ndGg7XG4gICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgdXNlcnRpbWU6LTEsXG4gICAgICAgICAgICAgICAgIHByb2xvYWQ6cHJlXG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZUFuc3d3ZXJhbGwucHVzaChkYXRhKTtcbiAgICB9XG5cbiAgICAvL+WPkemAgeWtpueUn+etlOmimOi/h+eoi1xuICAgIHNlbmRGZWVkTG9nKHVzZXJ0aW1lLGFsbHRpbWUscHJvZ3Jlc3Mpe1xuICAgICAgICBjb25zb2xlLmxvZyhcImxvZzExMTExMTExMTExMTExXCIscHJvZ3Jlc3MpO1xuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJsb2dcIix7bmlja05hbWU6R00ubmlja05hbWUsc2VuZGVySWQ6R00uc2VuZGVySWQscm9sZVR5cGU6R00ucm9sZVR5cGUscGFnZU51bTp0aGlzLlBhZ2VOdW0tMSx1c2VydGltZTp1c2VydGltZSxhbGx0aW1lOmFsbHRpbWUscHJvZ3Jlc3M6cHJvZ3Jlc3N9KTtcbiAgICAgICAgLy8g5q+P5qyh562U5a6M6aKY55uu5Y+R6YCB5pWw5o2u5ZCO5oqK5pWw57uE5riF56m6XG4gICAgICAgIHRoaXMuc2VuZEZlZWRBcnIgPSBbXTsgICAgICAgIFxuICAgIH1cblxuICAgICAvL+eykuWtkOeJueaViCBcbiAgICBzaG93UGFydGljbGUoeCx5LG5hbWUpe1xuICAgICAgICBsZXQgc2V0dGluZ3MgPSBMYXlhLmxvYWRlci5nZXRSZXMobmFtZSk7XG4gICAgICAgIGxldCBzcCA9IG5ldyBMYXlhLlBhcnRpY2xlMkQoc2V0dGluZ3MpO1xuICAgICAgICBzcC5lbWl0dGVyLnN0YXJ0KCk7XG4gICAgICAgIHNwLnBsYXkoKTtcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChzcCk7XG4gICAgICAgIHRoaXMucGFydGljZWxzLnB1c2goc3ApO1xuICAgICAgICBzcC54ID0geFxuICAgICAgICBzcC55ID0geTtcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDEwMDAsdGhpcywoKT0+e1xuICAgICAgICAgICAgc3Auc3RvcCgpO1xuICAgICAgICAgICAgc3AuZGVzdHJveSgpO1xuICAgICAgICB9KTsgIFxuXHR9XG4gIFxuICAgIC8v5LiL5LiA5q2lXG4gICAgc2hvd0l0ZW0oKXsgICAgICAgXG4gICAgICAgIGlmKHRoaXMucGFnZUNoaWxkLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy/ogIHluIjlkozlrabnlJ/nmoTorrDlvZXlhajpg6jmuIXpmaRcbiAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYW5zd2VyRmluc2loTGVuZ3RocyAgPSBbXTtcbiAgICAgICAgbGV0IGluZGV4YXJyYXkgPSB0aGlzLnBhZ2VDaGlsZFswXS5pbmRleDsgXG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBhbGxSZW1vdmVPYmogPSBbXTsgLy/miYDmnInliKDpmaTnmoTlhYPntKDpm4blkIhcbiAgICAgICAgbGV0IHJlbW92ZUluZGV4ID1bXTsgICAvL+aJgOacieWIoOmZpOeahEluZGV457Si5byVXG4gICAgICAgIGxldCBwb3N0aW9uWCxwb3N0aW9uWTtcbiAgICAgICBcbiAgICAgICAgZm9yKGxldCBrID0gMTsgayA8IHRoaXMucGFnZUNoaWxkLmxlbmd0aDsgaysrKVxuICAgICAgICB7XG4gICAgICAgICAgICAgaWYodGhpcy5wYWdlQ2hpbGRba10uRHJpdmVUeXBlID09IDApe1xuICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGluZGV4YXJyYXkgPiB0aGlzLnBhZ2VDaGlsZFtrXS5pbmRleCl7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4YXJyYXkgPSB0aGlzLnBhZ2VDaGlsZFtrXS5pbmRleDsgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gICAgXG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMucGFnZUNoaWxkLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICAgaWYoaW5kZXhhcnJheSA9PSB0aGlzLnBhZ2VDaGlsZFtpXS5pbmRleCl7ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgIHRoaXMuSXNTdHVkZW50c0ludmlzaWJsZSh0aGlzLnBhZ2VDaGlsZFtpXSlcbiAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnBhZ2VDaGlsZFtpXS5pbmRleCk7XG4gICAgICAgICAgICAgICAgIHBvc3Rpb25YID0gTnVtYmVyKHRoaXMucGFnZUNoaWxkW2ldLlBvc2l0aW9uLnNwbGl0KCcsJylbMF0pOyAgXG4gICAgICAgICAgICAgICAgIHBvc3Rpb25ZID0gTnVtYmVyKHRoaXMucGFnZUNoaWxkW2ldLlBvc2l0aW9uLnNwbGl0KCcsJylbMV0pOyAgXG4gICAgICAgICAgICAgICAgIGxldCBhbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKHRoaXMucGFnZUNoaWxkW2ldLHRoaXMucGFnZUNoaWxkW2ldLkFuaW1hdGlvbik7ICBcbiAgICAgICAgICAgICAgICAgaWYodGhpcy5wYWdlQ2hpbGRbaV0uYWN0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ2hpbGRbaV0ucGxheWFuZFN0b3AoMCk7XG4gICAgICAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgICAgICBpZih0aGlzLnBhZ2VDaGlsZFtpXS5maW5kKFwiYXVkaW9cIikpeyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUNoaWxkW2ldLmZpbmQoXCJhdWRpb1wiKS5jb25zdHJvbE1lZGlhTW9kZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgIH0gICAgXG4gICAgICAgICAgICAgICAgICAvL+iusOW9leS4i+WIoOmZpOeahOWvueixoVxuICAgICAgICAgICAgICAgICByZW1vdmVJbmRleC5wdXNoKGkpO1xuICAgICAgICAgICB9ICAgICAgICAgICBcbiAgICAgICAgfSBcblxuICAgICAgICBmb3IobGV0IGogPSAwIDtqIDwgcmVtb3ZlSW5kZXgubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByZW1vdmV0ZW1wID0gIHRoaXMucGFnZUNoaWxkLnNwbGljZShyZW1vdmVJbmRleFtqXSAtIGosMSk7XG5cbiAgICAgICAgICAgIGFsbFJlbW92ZU9iai5wdXNoKHJlbW92ZXRlbXBbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoYWxsUmVtb3ZlT2JqLmxlbmd0aCA9PSAxKXtcbiAgICAgICAgICAgICAgICAvL+avj+asoeeCueWHu+S4i+S4gOatpeaXtuS/neWtmOS5i+WJjeeahOaJgOacieS/oeaBr1xuICAgICAgICAgICAgICAgIGxldCBzQkZJID0gbmV3IFNhdmVCZWZvcmVJbmZvKGFsbFJlbW92ZU9ialswXSxpbmRleCxudWxsKTsgICAgICAgICAgIFxuICAgICAgICAgICAgICAgLy/lsIbmlbDmja7lr7nnlKhPcGVyYXRpb25JbmRleOatpeaVsOaUvuWFpW9ialBvb2zliJfooahcbiAgICAgICAgICAgICAgICB0aGlzLm9ialBvb2xbdGhpcy5PcGVyYXRpb25JbmRleF0gPSBzQkZJO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgIC8v5q+P5qyh54K55Ye75LiL5LiA5q2l5pe25L+d5a2Y5LmL5YmN55qE5omA5pyJ5L+h5oGvXG4gICAgICAgICAgICAgICAgbGV0IHNCRkkgPSBuZXcgU2F2ZUJlZm9yZUluZm8obnVsbCxpbmRleCxhbGxSZW1vdmVPYmopO1xuICAgICAgICAgICAgICAgLy/lsIbmlbDmja7lr7nnlKhPcGVyYXRpb25JbmRleOatpeaVsOaUvuWFpW9ialBvb2zliJfooahcbiAgICAgICAgICAgICAgICB0aGlzLm9ialBvb2xbdGhpcy5PcGVyYXRpb25JbmRleF0gPSBzQkZJO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLk9wZXJhdGlvbkluZGV4Kys7ICBcblxuICAgICAgICAvL3RoaXMucGFnZUNoaWxk6ZW/5bqm5Y+YMO+8jOivtOaYjuayoeacieS4i+S4gOatpe+8jOS4i+S4gOatpeaMiemSrue9rueBsFxuICAgICAgICBpZih0aGlzLnBhZ2VDaGlsZC5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYnRuTmV4dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy9Db3Vyc2VWaWRlb1xuICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5jYW5jZWwuZGlzYWJsZWQpe1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuY2FuY2VsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5qdWpkZWFuc3dlclBvaW50KCk7XG4gICAgfVxuIFxuICAgIC8v6L+U5Zue5LiK5LiA5q2l77yaXG4gICAgcmV0dXJuQmVmb3JlKCl7IFxuICAgICAgICAvL+iAgeW4iOWSjOWtpueUn+eahOiusOW9leWFqOmDqOa4hemZpFxuICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5hbnN3ZXJGaW5zaWhMZW5ndGhzICA9IFtdOyBcbiAgICAgICAgdGhpcy5hbnN3ZXJBcnJheSA9IFtdOyAgIFxuICAgICAgICAvL+W9k+ayoeacieWcqOetlOmimOaXtuaJjeWPr+S7pemHjeaWsOa3u+WKoOS6i+S7tlxuICAgICAgICAvL+WwhuS6i+S7tuS4rea2iOWkseWSjOmakOiXj+eahOWFg+e0oOebuOWPjSAgICAgICAgICBcbiAgICAgICAgdGhpcy5yZXR1cm5pdGVtcygpO1xuICAgICAgICAvL+ino+e7keaJgOacieS6i+S7tiDpmLLmraLph43lpI3mt7vliqBcbiAgICAgICAgdGhpcy50aW1lT3V0RnJhbWVMb29wRXZlbnQoKTtcbiAgICAgICAgdGhpcy51bkV2ZW50cygpOyAgICBcbiAgICAgICAgLy/muIXnqbppdGVtRGlj77yM54S25ZCO5re75Yqg5LqL5Lu2XG4gICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xuICAgICAgICAvL+etlOmimOW8gOWQr+WQjiDnu5nlrabnlJ/mt7vliqDkuIrkuovku7Yg5ZCm5YiZ57uZ6ICB5biI5re75Yqg5LiK5LqL5Lu2XG4gICAgICAgIC8vZmFsc2Xku6PooajlvIDlp4vnrZTpophcbiAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYW5zd2VyaW5nKXtcbiAgICAgICAgICAgIGlmKEdNLnJvbGUgPT09IDApe1xuICAgICAgICAgICAgICAgIHRoaXMucGljdHVyZUV2ZW50KCk7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9ZWxzZXsgICAgICAgXG4gICAgICAgICAgICBpZihHTS5yb2xlID09PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY3R1cmVFdmVudCgpO1xuICAgICAgICAgICAgfSAgXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5PcGVyYXRpb25JbmRleC0tO1xuICAgICAgICBpZih0aGlzLm9ialBvb2xbdGhpcy5PcGVyYXRpb25JbmRleF0uVGVtcERhdGEgIT0gbnVsbCl7XG4gICAgICAgICAgICAvL+WwhuWvueW6lOeahOWFg+e0oOWGjeaUvuWFpeaVsOe7hFxuICAgICAgICAgICAgdGhpcy5wYWdlQ2hpbGQuc3BsaWNlKHRoaXMub2JqUG9vbFt0aGlzLk9wZXJhdGlvbkluZGV4XS5QYWdlQ2hpbGRJbmRleCwwLHRoaXMub2JqUG9vbFt0aGlzLk9wZXJhdGlvbkluZGV4XS5UZW1wRGF0YSk7aWYodGhpcy5wYWdlQ2hpbGRbdGhpcy5vYmpQb29sW3RoaXMuT3BlcmF0aW9uSW5kZXhdLlBhZ2VDaGlsZEluZGV4XS5hY3Rpb24pe1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZUNoaWxkW3RoaXMub2JqUG9vbFt0aGlzLk9wZXJhdGlvbkluZGV4XS5QYWdlQ2hpbGRJbmRleF0ucGxheWFuZFN0b3AoMSk7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMucGFnZUNoaWxkW3RoaXMub2JqUG9vbFt0aGlzLk9wZXJhdGlvbkluZGV4XS5QYWdlQ2hpbGRJbmRleF0udmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy/lho3lsIbmlbDnu4TkuK3mnIDlkI7kuIDkuKrlhYPntKDliKDpmaRcbiAgICAgICAgICAgIHRoaXMub2JqUG9vbC5wb3AoKTtcblxuICAgICAgICB9ZWxzZXsgICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5vYmpQb29sW3RoaXMuT3BlcmF0aW9uSW5kZXhdLnBhZ2VDaGlsZGJveCl7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlQ2hpbGQuc3BsaWNlKHRoaXMub2JqUG9vbFt0aGlzLk9wZXJhdGlvbkluZGV4XS5QYWdlQ2hpbGRJbmRleCwwLHRoaXMub2JqUG9vbFt0aGlzLk9wZXJhdGlvbkluZGV4XS5wYWdlQ2hpbGRib3hbaV0pOyAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VDaGlsZFt0aGlzLm9ialBvb2xbdGhpcy5PcGVyYXRpb25JbmRleF0uUGFnZUNoaWxkSW5kZXhdLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnBhZ2VDaGlsZFt0aGlzLm9ialBvb2xbdGhpcy5PcGVyYXRpb25JbmRleF0uUGFnZUNoaWxkSW5kZXhdLmFjdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUNoaWxkW3RoaXMub2JqUG9vbFt0aGlzLk9wZXJhdGlvbkluZGV4XS5QYWdlQ2hpbGRJbmRleF0ucGxheWFuZFN0b3AoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8v5YaN5bCG5pWw57uE5Lit5pyA5ZCO5LiA5Liq5YWD57Sg5Yig6ZmkXG4gICAgICAgICAgICAgIHRoaXMub2JqUG9vbC5wb3AoKTtcbiAgICAgICAgfSAgICAgXG4gICAgICAgIC8vT3BlcmF0aW9uSW5kZXjkuLowIOivtOaYjuaYr+WIsOi+vuesrOS4gOatpeS6hlxuICAgICAgICBpZih0aGlzLk9wZXJhdGlvbkluZGV4ID09PSAwKXtcbiAgICAgICAgICAgIC8v5Yiw5LqG56ys5LiA5q2l77yM5bCG5LiK5LiA5q2l5oyJ6ZKu572u54GwXG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5jYW5jZWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8v5b6A5LiK6LWw5LiA5q2l5ZCO77yM5LiL5LiA5q2l5oyJ6ZKu5r+A5rS7XG4gICAgICAgIGlmKFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmJ0bk5leHQuZGlzYWJsZWQpe1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkuYnRuTmV4dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuanVqZGVhbnN3ZXJQb2ludCgpO1xuICAgIH1cbiAgIFxuICAgIC8vIOiOt+WPluatpemqpFxuICAgIGdldFN0ZXBIYW5kbGVyKGRhdGEpe1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuiOt+WPluW9k+WJjeatpemqpFwiLGRhdGEpO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZGF0YTsgaSsrKXtcbiAgICAgICAgICAgIHRoaXMuc2hvd0l0ZW0oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8v5LiL5LiA5q2l5pON5L2cXG4gICAgdXBkYXRhU3RlcEhhbmRsZXIoZGF0YSl7IFxuICAgICAgICAvLyBjb25zb2xlLmxvZygxMTExMTExMSk7ICAgICAgICAgICBcbiAgICAgICAgaWYoZGF0YS5vcHQgPT0gXCJuZXh0XCIpeyAgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuc2hvd0l0ZW0oKTtcbiAgICAgICAgfWVsc2UgaWYoZGF0YS5vcHQgPT0gXCJ1bmRvXCIpe1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5CZWZvcmUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9ICAgXG4gICAgfVxuICAgIC8vICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKFwiZHJvcFwiLGl0ZW0ubmFtZSxjb2xsaWRlck9iai5uYW1lLG1vdXNlVXBQb3NYLG1vdXNlVXBQb3NZLDEpO1xuICAgIC8vIOWPkemAgeetlOmimOWPjemmiCAvLyBldmVudFR5cGUgMCBjbGljayAxIGRyb3AgMiBsaWdhdHVyZVxuICAgIHNlbmRBbnN3ZXIoZXZlbnRUeXBlLHN0YXJ0bmFtZSx0YWduYW1lLHN0YXJ0bmlja25hbWUsdGFnbmlja25hbWUsbW91c2VVcFBvc1gsbW91c2VVcFBvc1ksYW5zd2Vyc3RhdGUsYWxscmlnaHQpeyAgICBcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRlcklkOkdNLnNlbmRlcklkLFxuICAgICAgICAgICAgICAgICAgICBwYWdlOnRoaXMuUGFnZU51bSxcbiAgICAgICAgICAgICAgICAgICAgbmlja05hbWU6R00ubmlja05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHJvbGUgIDogR00ucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZVR5cGU6R00ucm9sZVR5cGUsICBcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOmV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbW91c2VVcFBvc1g6bW91c2VVcFBvc1gsXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlVXBQb3NZOm1vdXNlVXBQb3NZLFxuICAgICAgICAgICAgICAgICAgICBzdGFydG5hbWU6c3RhcnRuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0YWduYW1lOnRhZ25hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0bmlja25hbWU6c3RhcnRuaWNrbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGFnbmlja25hbWU6dGFnbmlja25hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFuc3dlcnN0YXRlOmFuc3dlcnN0YXRlXG4gICAgICAgICAgICB9XG4gICAgICAgIC8vIOWtpueUn+S4ujHlubbkuJTmsqHmnInlrozlhajnrZTlr7lcbiAgICAgICAgaWYoR00ucm9sZSA9PT0gMSAmJiAhYWxscmlnaHQpe1xuICAgICAgICAgICAgLy/lsIbmr4/mrKHnrZTpopjnmoTov4fnqIvmlL7lhaVzZW5kZmVlZGJhY2vkuK1cbiAgICAgICAgICAgIHRoaXMuc2VuZEZlZWRBcnIucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuc3dlckFycmF5LnB1c2goZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5Lyg6L6T562U6aKY5Y+N6aaIXCIsdGhpcy5hbnN3ZXJBcnJheSk7XG4gICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcImFuc3dlckZpbmlzaFwiLHtzZW5kZXJJZDpHTS5zZW5kZXJJZCxwYWdlOnRoaXMuUGFnZU51bS0xLGxpc3Q6dGhpcy5hbnN3ZXJBcnJheX0pOyAgICAgICAgXG4gICAgfVxuICBcblxuICAgIC8v6ZSA5q+B77yM5Zue5pS26LWE5rqQXG4gICAgZGlzcG9zZSgpeyAgICAgIFxuICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiY2xvc2VNYXNrXCIpO1xuICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiZ2lmZGlzXCIpOyAgICAgXG4gICAgICAgIExheWEudGltZXIuY2xlYXJBbGwodGhpcyk7ICBcbiAgICAgICAgdGhpcy50aW1lT3V0RnJhbWVMb29wRXZlbnQoKTtcbiAgICAgICAgdGhpcy5hbnN3ZXJwYXJhbXJlc2V0KCk7XG4gICAgICAgIC8vIOmUgOavgeS6i+S7tlxuICAgICAgICB0aGlzLnVuRXZlbnRzKCk7XG4gICAgICAgIC8vIOmUgOavgeWFg+e0oFxuICAgICAgICB0aGlzLmRlc3Ryb3lhbGxTcHJpdGUoKTsgICBcbiAgICAgICAgdGhpcy5wYWdlRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VuZEZlZWRBcnIgPSBudWxsOyAvL+etlOmimOi/h+eoi+aXtumXtOiusOW9lVxuICAgICAgICB0aGlzLmluZGV4YXJyYXkgPSBudWxsOyAvL+WtmOaUvuaSreaUvueahGluZGV4XG4gICAgICAgIHRoaXMucGFnZUNoaWxkID0gbnVsbDsvL+WIpOaWreS4i+S4gOS4queahOaVsOe7hFxuICAgICAgICB0aGlzLmRpY25hbWUgPSBudWxsOyAvL+WtmOaUvm5hbWXnmoTmlbDnu4RcbiAgICAgICAgdGhpcy5vYmpQb29sID0gbnVsbDsvL+WtmOaUvuS4iuS4gOWFg+e0oOS4i+S4gOWFg+e0oOWvueixoVxuICAgICAgICB0aGlzLmV2ZW50SXRlbXMgPSBudWxsOy8v6YCa6L+HZXZlbnTlrozmiJDkuobkuovku7bnmoTlhYPntKAgICBcbiAgICAgICAgdGhpcy5FbGVtZW50SWRBY3Rpb24gPSBudWxsOyAvL+aXgeeZveWFg+e0oOaVsOe7hFxuICAgICAgICB0aGlzLmFuaUFycmF5ID0gbnVsbDsgLy/lrZjmlL7pobXpnaLmiYDmnInnmoTnrZTplJnliqjnlLtcbiAgICAgICAgdGhpcy5hbnN3ZXJBcnJheSA9IG51bGw7ICAvL+WtmOaUvuavj+asoeetlOmimOeahOaVsOe7hFxuICAgICAgICB0aGlzLml0ZW1EaWMgPSBudWxsOyAvL+Wtl+WFuFxuICAgICAgICB0aGlzLmVsZW1lbnRWaXNpYmxlID0gbnVsbDsgLy/lkozlhYPntKBcbiAgICAgICAgdGhpcy5hbnN3ZXJBcmVhID0gbnVsbDsgLy/nrZTmoYjljLpcbiAgICAgICAgdGhpcy5hbnN3ZXJlcnJveU51bSA9IG51bGw7IC8vIOWbnuetlOeahOmUmeivr+asoeaVsFxuICAgICAgICB0aGlzLm5leHRBbnN3ZXJlcnJveU51bU51bSA9IG51bGw7IC8vIOS4i+S4gOasoei/nue7reWbnuetlCAzIOaIluiAhSA1IOasoemUmeivr+WHuuadpeeahOWKqOeUu1xuICAgICAgICB0aGlzLmlzRWxlbWVudEdyb3VwTnVtID0gbnVsbDsgIC8v5YWD57Sg57uE5ruh6Laz6KaB5rGCXG4gICAgICAgIHRoaXMuRWxlbWVudEluZGV4ID0gbnVsbDsgLy/lhYPntKDnu4Tluo/lj7flr7nmr5RcbiAgICAgICAgdGhpcy5PcmRlckluZGV4ID0gbnVsbDsgICAvL+etlOahiOe7hOa7oei2s+asoeaVsFxuICAgICAgICB0aGlzLk9wZXJhdGlvbkluZGV4ID0gbnVsbDsgLy/mk43kvZzmraXmlbDvvIzliLAw5Li656ys5LiA5q2lXG4gICAgICAgIHRoaXMubXVzaWNUaW1lID0gbnVsbDsgLy/mkq3mlL7ov5vluqZcbiAgICAgICAgdGhpcy50YXJnZXRUeXBlbGVuZ3RoID0gbnVsbDsgLy/nrZTmoYjljLrnmoTkuKrmlbAgICAgICAgICBcbiAgICAgICAgdGhpcy5PcEFuaW1hdGlvblR5cGUgPSBudWxsOyAvL+m7mOiupOi/h+WcuuWKqOeUuyAgICBcbiAgICAgICAgdGhpcy5hbnN3ZXJWaXNpYmxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wdXp6bGVGbGFnID0gbnVsbDsgLy/mmK/lkKbmmK/mi7zlm77popjlnotcbiAgICAgICAgdGhpcy5zb3VuZGZsYWdlID0gbnVsbDsgLy8v56Gu6K6k5aOw6Z+z5Y+q5pKt5pS+5LiA5qyhXG4gICAgICAgIHRoaXMuaXNFbGVtZW50R3JvdXBGbGFnID0gbnVsbDsgLy/lhYPntKDnu4Tmu6HotrPkuIDmrKHkuYvlkI4g5LiN5Lya5YaN5qyh5Ye6546wXG4gICAgICAgIHRoaXMuaXNXaW5lZCA9IG51bGw7XG4gICAgICAgIHRoaXMuYmdtQXVkaW8gPSBudWxsOyAvL+WjsOmfs1xuICAgICAgICB0aGlzLmJndXJsID0gbnVsbDsgLy/og4zmma/lm751cmxcbiAgICAgICAgdGhpcy5hbGxhbnN3ZXJUaW1lciAgPSBudWxsOyAvL+etlOmimOiAl+aXtlxuICAgICAgICB0aGlzLlBhZ2VOdW0gPSBudWxsOyAvL+W9k+WJjemhteeggSAgICBcbiAgICAgICAgdGhpcy5yZXBvcnRCdG4gPSBudWxsOyAvL+aKpeWRiuaMiemSriAgIFxuICAgICAgICB0aGlzLmJnID0gbnVsbDsgLy/og4zmma9cbiAgICAgICAgdGhpcy5Db3Vyc2VWaWRlb1VSTCA9IG51bGw7ICAvL+mhtemdouinhumikVxuICAgICAgICB0aGlzLlByb21wdCA9IG51bGw7ICAvL+mhtemdouaPkOekuumfs1xuICAgICAgICB0aGlzLmVsZW1lbnRBdWRpbyA9IG51bGw7IC8v5YWD57Sg5o+Q56S66Z+z6ZO+5o6lXG4gICAgICAgIHRoaXMuRWxlbWVudEdyb3VwID0gbnVsbCAgLy/lhYPntKDnu4RcbiAgICAgICAgdGhpcy5BbnN3ZXJTYXRpc2Z5TnVtID0gbnVsbDsgLy/lhYPntKDnu4Tmu6HotrPmrKHmlbDku6Xlj4rop6blj5Hkuovku7YgXG4gICAgICAgIHRoaXMuZG91emkgPSBudWxsOyAvL+ato+ehruixhuWtkOWKqOeUu1xuICAgICAgICB0aGlzLnpoaWh1aWNhbyA9IG51bGw7IC8v5q2j56Gu5pm65oWn6I2J5Yqo55S7XG4gICAgICAgIHRoaXMud2luamlueXUgPSBudWxsOy8v5q2j56Gu6bK46bG85Yqo55S7ICAgICAgICAgIFxuICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuXG4gICAgLy/muIXpmaTpobXpnaLmiYDmnIlpdGVtIOWFg+e0oFxuICAgIGRlc3Ryb3lhbGxTcHJpdGUoKXtcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMucGljdHVyZUl0ZW0pe1xuICAgICAgICAgICAgaWYodGhpcy5waWN0dXJlSXRlbVtpXS5maW5kKFwiYXVkaW9cIikpe1xuICAgICAgICAgICAgICAgIHRoaXMucGljdHVyZUl0ZW1baV0uZmluZChcImF1ZGlvXCIpLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGljdHVyZUl0ZW1baV0uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGljdHVyZUl0ZW0gPSBbXTsgXG4gICAgfVxuXG4gICAgLy/op6PpmaR1cGRhdGVTdGVw55uR5ZCsXG4gICAgdW5TdWJzY3JpYmUoKXtcbiAgICAgICAgIG9ic2VydmVyLnVuc3Vic2NyaWJlKFwiYmdNdXNpY1wiKTtcbiAgICAgICAgIG9ic2VydmVyLnVuc3Vic2NyaWJlKFwidXBkYXRlU3RlcFwiKTsgXG4gICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZShcIndpbndpblwiKTtcbiAgICB9XG4gICAgXG4gICAgLy/op6Pnu5HmiYDmnInnlLvnur/jgIHkvovlrZBcbiAgICB1bkV2ZW50cygpe1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvcihpIGluIHRoaXMuaW1hZ2VMaWdhdHVyZXMpe1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pbWFnZUxpZ2F0dXJlcyk7XG4gICAgICAgICAgICB0aGlzLmltYWdlTGlnYXR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmltYWdlTGlnYXR1cmVzID0gW107XG5cbiAgICAgICAgaSA9IDA7XG4gICAgICAgIGZvcihpIGluIHRoaXMucGFydGljZWxzKXtcbiAgICAgICAgICAgIGlmKHRoaXMucGFydGljZWxzW2ldKXtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRpY2Vsc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSAgIFxuICAgICAgICB0aGlzLnBhcnRpY2VscyA9IFtdO1xuICAgIH1cbiAgXG59XG5cblxuLy8gVHlwZUVsZW1lbnQgNOmqqOmqvOWKqOeUu1xuLy8gRWxlbWVudCAg5bGe5oCn5LitIDHjgIFJc1N0dWRlbnRzSW52aXNpYmxlIOaYr+WQpuS4uuiAgeW4iOWPr+inge+8jDLjgIFBbmdsZUdyb3VwICAgIOinkuW6pue7hFxuXG4vLyDnrZTmoYjnu4Qg5ZyoZXZlbnRsaXN0XG5cbi8vIEVsZW1lbnRHcm91cCDlhYPntKDnu4RcblxuLy8gQ0V2ZW50ICBcbi8vICAgICBDbGVhckVsZW1lbnRJZCDmtojlpLFcbi8vICAgICBEZWxheSDml7bpl7Rcbi8vICAgICBFbGVtZW50SWQgIOWHuueOsFxuLy8gICAgIEV2ZW50VGFnICDmoIfnrb5cbi8vICAgICBPcmRlckluZGV4ICDluo/lj7dcblxuIFxuLy8gRWxlbWVudEluZm9MaXN0ICDlj4LkuI7lhYPntKAgICBcbi8vIFNhdGlzZnlOdW0gIOa7oei2s+adoeS7tlxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9lbGVtZW50L3BhZ2UuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBc0JBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBMUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9CQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0NBO0FBZ0RBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFmQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7OztBQXo1Q0E7QUFDQTtBQTY1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoN0NBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./Course/src/mainscene/events/clickEvent.js ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 点击题 @param {*liujiaojiao}\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar ClickEvent = function (_Laya$Sprite) {\n    _inherits(ClickEvent, _Laya$Sprite);\n\n    function ClickEvent(pictureItem, item) {\n        _classCallCheck(this, ClickEvent);\n\n        var _this = _possibleConstructorReturn(this, (ClickEvent.__proto__ || Object.getPrototypeOf(ClickEvent)).call(this));\n\n        _this.pictureItem = pictureItem;\n        _this.item = item;\n        _this.clickHandle(item);\n        return _this;\n    }\n    // 绑定点击事件 并且监听事件    \n\n\n    _createClass(ClickEvent, [{\n        key: 'clickHandle',\n        value: function clickHandle(item) {\n            item.on(Laya.Event.CLICK, this, this.itemMouseClick, [item]);\n        }\n\n        //点击事件\n\n    }, {\n        key: 'itemMouseClick',\n        value: function itemMouseClick(item) {\n            //console.log(\"点击事件\" + item)\n            var flag = false;\n            var colliderObj = item;\n            var tagname = void 0;\n            var TagEventList = void 0;\n            for (var i = 0; i < this.pictureItem.length; i++) {\n                //检测标签相同       \n                if (this.pictureItem[i].answertagArray.length > 0 && this.pictureItem[i].TagType === 2) {\n                    TagEventList = this.pictureItem[i].answertagArray[0];\n                    if (_room2.default.getInstance().pagebox.OrderIndex === TagEventList.index) {\n                        if (this.pictureItem[i].answertagArray.length > 0) {\n                            flag = _room2.default.getInstance().pagebox.listshiftfirst(this.pictureItem[i], item);\n                            if (flag) {\n                                tagname = this.pictureItem[i];\n                                item.offAll();\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            if (flag) {\n                this.answerResult(flag, item, tagname);\n            } else {\n                this.answerResult(flag, item, colliderObj);\n            }\n        }\n    }, {\n        key: 'answerResult',\n        value: function answerResult(flag, item, colliderObj) {\n            if (!flag) {\n                // 回答错误\n                _room2.default.getInstance().pagebox.answerErrorAnimation();\n                Laya.SoundManager.playSound('sound/Events/smallErrorWithThing.mp3');\n                _room2.default.getInstance().pagebox.sendAnswer(\"click\", item.name, colliderObj.name, item.nickName, colliderObj.nickName, 0, 0, 1);\n\n                Laya.Tween.to(item, { rotation: 10 }, 100, Laya.Ease.linearIn, Laya.Handler.create(this, function () {\n                    item.rotation = item.Rotation;\n                }), 0, true);\n            } else {\n                _room2.default.getInstance().pagebox.sendAnswer(\"click\", item.name, colliderObj.name, item.nickName, colliderObj.nickName, 0, 0, 0);\n                _room2.default.getInstance().pagebox.showParticle(Laya.stage.mouseX, Laya.stage.mouseY, \"WinParticle.part\");\n            }\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            Laya.timer.clearAll(this);\n            this.pictureItem = [];\n\n            this.destroy();\n        }\n    }]);\n\n    return ClickEvent;\n}(Laya.Sprite);\n\nexports.default = ClickEvent;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZXZlbnRzL2NsaWNrRXZlbnQuanM/YmQ1MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOeCueWHu+mimCBAcGFyYW0geypsaXVqaWFvamlhb31cbiAqL1xuaW1wb3J0IFJvb21TY2VuZSBmcm9tICcuLi9yb29tJ1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xpY2tFdmVudCBleHRlbmRzIExheWEuU3ByaXRle1xuICAgIGNvbnN0cnVjdG9yKHBpY3R1cmVJdGVtLGl0ZW0pe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBpY3R1cmVJdGVtID0gcGljdHVyZUl0ZW07XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07ICAgIFxuICAgICAgICB0aGlzLmNsaWNrSGFuZGxlKGl0ZW0pO1xuICAgIH1cbiAgICAgLy8g57uR5a6a54K55Ye75LqL5Lu2IOW5tuS4lOebkeWQrOS6i+S7tiAgICBcbiAgICBjbGlja0hhbmRsZShpdGVtKXtcbiAgICAgICAgaXRlbS5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsdGhpcy5pdGVtTW91c2VDbGljayxbaXRlbV0pO1xuICAgIH1cblxuICAgICAvL+eCueWHu+S6i+S7tlxuICAgIGl0ZW1Nb3VzZUNsaWNrKGl0ZW0pe1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwi54K55Ye75LqL5Lu2XCIgKyBpdGVtKVxuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xuICAgICAgICBsZXQgY29sbGlkZXJPYmogPSBpdGVtOyBcbiAgICAgICAgbGV0IHRhZ25hbWU7XG4gICAgICAgIGxldCBUYWdFdmVudExpc3Q7ICAgXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IHRoaXMucGljdHVyZUl0ZW0ubGVuZ3RoO2krKyl7ICAgICAgICAgICBcbiAgICAgICAgICAgIC8v5qOA5rWL5qCH562+55u45ZCMICAgICAgIFxuICAgICAgICAgICAgaWYoIHRoaXMucGljdHVyZUl0ZW1baV0uYW5zd2VydGFnQXJyYXkubGVuZ3RoID4gMCAmJuOAgHRoaXMucGljdHVyZUl0ZW1baV0uVGFnVHlwZSA9PT0gMiApe1xuICAgICAgICAgICAgICAgIFRhZ0V2ZW50TGlzdCA9IHRoaXMucGljdHVyZUl0ZW1baV0uYW5zd2VydGFnQXJyYXlbMF07XG4gICAgICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5PcmRlckluZGV4ID09PSBUYWdFdmVudExpc3QuaW5kZXgpe1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5waWN0dXJlSXRlbVtpXS5hbnN3ZXJ0YWdBcnJheS5sZW5ndGggPiAwICl7ICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94Lmxpc3RzaGlmdGZpcnN0KHRoaXMucGljdHVyZUl0ZW1baV0saXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gdGhpcy5waWN0dXJlSXRlbVtpXTsgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub2ZmQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgICBcbiAgICAgICAgfSBcbiAgICAgICAgaWYoZmxhZyl7ICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5hbnN3ZXJSZXN1bHQoZmxhZyxpdGVtLHRhZ25hbWUpOyBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmFuc3dlclJlc3VsdChmbGFnLGl0ZW0sY29sbGlkZXJPYmopOyAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgXG4gICAgfVxuICAgIGFuc3dlclJlc3VsdChmbGFnLGl0ZW0sY29sbGlkZXJPYmope1xuICAgICAgICAgaWYoIWZsYWcpe1xuICAgICAgICAgICAgIC8vIOWbnuetlOmUmeivr1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5hbnN3ZXJFcnJvckFuaW1hdGlvbigpO1xuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKCdzb3VuZC9FdmVudHMvc21hbGxFcnJvcldpdGhUaGluZy5tcDMnKTtcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guc2VuZEFuc3dlcihcImNsaWNrXCIsaXRlbS5uYW1lLGNvbGxpZGVyT2JqLm5hbWUsaXRlbS5uaWNrTmFtZSxjb2xsaWRlck9iai5uaWNrTmFtZSwwLDAsMSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhpdGVtLHtyb3RhdGlvbjoxMH0sMTAwLExheWEuRWFzZS5saW5lYXJJbixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICBpdGVtLnJvdGF0aW9uID0gaXRlbS5Sb3RhdGlvbjtcbiAgICAgICAgICAgIH0pLDAsdHJ1ZSk7ICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guc2VuZEFuc3dlcihcImNsaWNrXCIsaXRlbS5uYW1lLGNvbGxpZGVyT2JqLm5hbWUsaXRlbS5uaWNrTmFtZSxjb2xsaWRlck9iai5uaWNrTmFtZSwwLDAsMCk7ICAgICBcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guc2hvd1BhcnRpY2xlKExheWEuc3RhZ2UubW91c2VYLExheWEuc3RhZ2UubW91c2VZLFwiV2luUGFydGljbGUucGFydFwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgIFxuICAgIH0gXG5cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIExheWEudGltZXIuY2xlYXJBbGwodGhpcyk7XG4gICAgICAgIHRoaXMucGljdHVyZUl0ZW0gPSBbXTtcbiAgICAgICBcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9ldmVudHMvY2xpY2tFdmVudC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTtBQUNBOzs7Ozs7Ozs7QUFKQTs7Ozs7QUFJQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7OztBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBcEVBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n");

/***/ }),
/* 28 */
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./Course/src/mainscene/events/dragEvent.js ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 拖拽题\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar DragEvent = function (_Laya$Sprite) {\n    _inherits(DragEvent, _Laya$Sprite);\n\n    function DragEvent(pictureItem, item, width, height) {\n        _classCallCheck(this, DragEvent);\n\n        var _this = _possibleConstructorReturn(this, (DragEvent.__proto__ || Object.getPrototypeOf(DragEvent)).call(this));\n\n        _this.pictureItem = pictureItem;\n        _this.item = item;\n        _this.DragStat = 0; //0为down后有up   1为只有down没有up\n        _this.tweenObj = null;\n        _this.itemindex = null;\n        _this.itemani = item.find(\"spineani\");\n        _this.postionX = null;\n        _this.postionY = null;\n        _this.dragHandle(item);\n        return _this;\n    }\n    //拖拽事件\n\n\n    _createClass(DragEvent, [{\n        key: 'dragHandle',\n        value: function dragHandle(item) {\n            var postionX = Number(item.Position.split(',')[0]) + item.itemWidth / 2;\n            var postionY = Number(item.Position.split(',')[1]) + item.itemHeight / 2;\n            this.postionX = postionX;\n            this.postionY = postionY;\n            var rectangle1 = new Laya.Rectangle(0, 0, Laya.stage.width, Laya.stage.height); //978\n            //console.log(rectangle1);\n            //绑定事件改为drag中的\n            item.on(Laya.Event.MOUSE_DOWN, this, this.itemMouseDown, [item, rectangle1, postionX, postionY]);\n            item.on(Laya.Event.MOUSE_UP, this, this.itemMouseUp, [item, rectangle1, postionX, postionY]);\n            //错误检测\n            //Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.errorDetection,[item,postionX,postionY]);\n        }\n    }, {\n        key: 'errorDetection',\n        value: function errorDetection(item, postionX, postionY) {\n            //console.log(RoomScene.getInstance().mouseStat);\n            if (this.DragStat === 1 && !_room2.default.getInstance().mouseStat) {\n                Laya.timer.clear(this, this.errorDetection);\n                item.off(Laya.Event.DRAG_MOVE, this, this.dragLimit);\n                Laya.Tween.to(item, { x: postionX, y: postionY }, 300, Laya.Ease.linearIn);\n                _room2.default.getInstance().pagebox.sendAnswer(1, item.name, \"背景\", item.nickName, \"背景\", Laya.stage.mouseX, Laya.stage.mouseY, 1);\n                if (this.itemani) {\n                    this.itemani.scaleX = 1;this.itemani.scaleY = 1;\n                } else {\n                    item.scaleX = 1;item.scaleY = 1;\n                }\n                this.DragStat = 0;\n                // item.spec.visible = true;\n            }\n        }\n        //拖拽是否到屏幕边缘的判断\n\n    }, {\n        key: 'dragLimit',\n        value: function dragLimit(rectangle1, item, postionX, postionY, mouX, mouY) {\n            //console.log(item.x,item.y);\n            //计算四个顶点\n            var angle = Math.PI / 180 * item.Rotation;\n            var tempXS = [];\n            var tempYS = [];\n            tempXS[0] = item.width / 2 * Math.cos(angle) - item.height / 2 * Math.sin(angle) + item.x;\n            tempXS[1] = -item.width / 2 * Math.cos(angle) - -item.height / 2 * Math.sin(angle) + item.x;\n            tempYS[0] = item.width / 2 * Math.sin(angle) + item.height / 2 * Math.cos(angle) + item.y;\n            tempYS[1] = -item.width / 2 * Math.sin(angle) + -item.height / 2 * Math.cos(angle) + item.y;\n            var angle2 = Math.PI / 180 * -item.Rotation;\n            tempXS[2] = item.width / 2 * Math.cos(angle2) - item.height / 2 * Math.sin(angle2) + item.x;\n            tempXS[3] = -item.width / 2 * Math.cos(angle2) - -item.height / 2 * Math.sin(angle2) + item.x;\n            tempYS[2] = item.width / 2 * Math.sin(angle2) + item.height / 2 * Math.cos(angle2) + item.y;\n            tempYS[3] = -item.width / 2 * Math.sin(angle2) + -item.height / 2 * Math.cos(angle2) + item.y;\n            //从小到大排序\n            tempXS = tempXS.sort();\n            tempYS = tempYS.sort();\n            if (tempXS[3] >= rectangle1.width + item.width / 2 || tempYS[3] >= rectangle1.height + item.height / 2 || tempXS[0] <= rectangle1.x + item.width / 2 || tempYS[0] <= rectangle1.y + item.height / 2) {\n                //console.log(\"超出屏幕范围\");\n                item.stopDrag();\n                if (this.itemani) {\n                    this.itemani.scaleX = 1;this.itemani.scaleY = 1;\n                } else {\n                    item.scaleX = 1;item.scaleY = 1;\n                }\n                Laya.Tween.to(item, { x: postionX, y: postionY }, 300, Laya.Ease.linearIn, null, 0, true);\n                item.off(Laya.Event.DRAG_MOVE, this, this.dragLimit);\n            }\n        }\n\n        //item鼠标按下事件\n\n    }, {\n        key: 'itemMouseDown',\n        value: function itemMouseDown(item, rectangle1, postionX, postionY) {\n            this.DragStat = 1;\n            this.itemindex = _room2.default.getInstance().pagebox.getChildIndex(item);\n            var index = _room2.default.getInstance().pagebox._childs.length - 1;\n            _room2.default.getInstance().pagebox.setChildIndex(item, index);\n\n            item.startDrag();\n            if (this.itemani && this.item.child === null) {\n                this.itemani.scaleX = 1.2;this.itemani.scaleY = 1.2;\n            } else {\n                item.scaleX = 1.2;item.scaleY = 1.2;\n            }\n\n            // item.spec.visible = false;\n\n            Laya.timer.frameLoop(1, this, this.errorDetection, [item, postionX, postionY]);\n        }\n        //item鼠标松开事件\n\n    }, {\n        key: 'itemMouseUp',\n        value: function itemMouseUp(item, rectangle1, postionX, postionY) {\n            // item.on(Laya.Event.DRAG_MOVE,this,this.dragLimit,[rectangle1,item,postionX,postionY,Laya.stage.mouseX,Laya.stage.mouseY]);\n            // RoomScene.getInstance().pagebox.setChildIndex(item,this.itemindex);\n            Laya.timer.clear(this, this.errorDetection);\n            // item.off(Laya.Event.DRAG_MOVE,this,this.dragLimit);\n            item.stopDrag();\n            // item.spec.visible = true;\n            if (this.tweenObj) {\n                this.tweenObj.complete();\n            }\n            this.DragStat = 0;\n            var flag = false;\n            var colliderObj = \"背景\"; //碰撞对象\n            var tagname = void 0;\n            var mouseUpPosX = void 0;var mouseUpPosY = void 0,\n                picItem = void 0,\n                TagEventList = void 0;\n            if (this.itemani && this.item.child === null) {\n                this.itemani.scaleX = 1;this.itemani.scaleY = 1;\n            } else {\n                item.scaleX = 1;item.scaleY = 1;\n            }\n            mouseUpPosX = Laya.stage.mouseX;\n            mouseUpPosY = Laya.stage.mouseY;\n            for (var i = 0; i < this.pictureItem.length; i++) {\n                //判断碰到到的元素\n                if (this.pictureItem[i].hitTestPoint(Laya.stage.mouseX, Laya.stage.mouseY) && item != this.pictureItem[i]) {\n                    //修改item的位置，并记录位置\n                    item.x = Laya.stage.mouseX;\n                    item.y = Laya.stage.mouseY;\n                    colliderObj = this.pictureItem[i];\n                    // 判断是否是答案区\n                    if (this.pictureItem[i].answertagArray.length > 0 && this.pictureItem[i].TagType === 2) {\n                        TagEventList = this.pictureItem[i].answertagArray[0];\n                        if (_room2.default.getInstance().pagebox.OrderIndex === TagEventList.index) {\n                            if (this.pictureItem[i].answertagArray.length > 0) {\n                                flag = _room2.default.getInstance().pagebox.listshiftfirst(this.pictureItem[i], item);\n                                if (flag) {\n                                    tagname = this.pictureItem[i];\n                                    item.offAll();\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (flag) {\n                this.answerResult(flag, item, tagname, mouseUpPosX, mouseUpPosY, postionX, postionY);\n            } else {\n                this.answerResult(flag, item, colliderObj, mouseUpPosX, mouseUpPosY, postionX, postionY);\n            }\n        }\n    }, {\n        key: 'answerResult',\n        value: function answerResult(flag, item, colliderObj, mouseUpPosX, mouseUpPosY, postionX, postionY) {\n            //  RoomScene.getInstance().pagebox.setChildIndex(item,this.itemindex);     \n            if (!flag) {\n                // 回答错误\n                _room2.default.getInstance().pagebox.answerErrorAnimation();\n                if (colliderObj != \"背景\") {\n                    Laya.SoundManager.playSound('sound/Events/smallErrorWithThing.mp3');\n                    _room2.default.getInstance().pagebox.sendAnswer(\"drop\", item.name, colliderObj.name, item.nickName, colliderObj.nickName, mouseUpPosX, mouseUpPosY, 1);\n                } else {\n                    Laya.SoundManager.playSound('sound/Events/smallErrorOutThing.mp3');\n                    _room2.default.getInstance().pagebox.sendAnswer(\"drop\", item.name, \"背景\", item.nickName, \"背景\", mouseUpPosX, mouseUpPosY, 1);\n                }\n\n                this.tweenObj = Laya.Tween.to(item, { x: this.postionX, y: this.postionY }, 300, Laya.Ease.linearIn, null, 0, true);\n            } else {\n                _room2.default.getInstance().pagebox.sendAnswer(\"drop\", item.name, colliderObj.name, item.nickName, colliderObj.nickName, mouseUpPosX, mouseUpPosY, 0);\n                _room2.default.getInstance().pagebox.showParticle(Laya.stage.mouseX, Laya.stage.mouseY, 'WinParticle.part');\n            }\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            //Laya.timer.clear(this,this.errorDetection);\n            //Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.errorDetection);\n            Laya.timer.clearAll(this);\n            this.pictureItem = [];\n            this.destroy();\n        }\n    }]);\n\n    return DragEvent;\n}(Laya.Sprite);\n\nexports.default = DragEvent;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZXZlbnRzL2RyYWdFdmVudC5qcz8wMDlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5ouW5ou96aKYXG4gKi9cbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi4vcm9vbSdcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdFdmVudCBleHRlbmRzIExheWEuU3ByaXRle1xuICAgIGNvbnN0cnVjdG9yKHBpY3R1cmVJdGVtLGl0ZW0sd2lkdGgsaGVpZ2h0KXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5waWN0dXJlSXRlbSA9IHBpY3R1cmVJdGVtOyAgICBcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTsgICAgICAgICBcbiAgICAgICAgdGhpcy5EcmFnU3RhdCA9IDA7IC8vMOS4umRvd27lkI7mnIl1cCAgIDHkuLrlj6rmnIlkb3du5rKh5pyJdXBcbiAgICAgICAgdGhpcy50d2Vlbk9iaiA9IG51bGw7XG4gICAgICAgIHRoaXMuaXRlbWluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtYW5pID0gaXRlbS5maW5kKFwic3BpbmVhbmlcIik7XG4gICAgICAgIHRoaXMucG9zdGlvblggPSBudWxsO1xuICAgICAgICB0aGlzLnBvc3Rpb25ZID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmFnSGFuZGxlKGl0ZW0pO1xuICAgIH0gICAgXG4gICAgIC8v5ouW5ou95LqL5Lu2XG4gICAgZHJhZ0hhbmRsZShpdGVtKXsgICAgIFxuICAgICAgICBsZXQgcG9zdGlvblggPSBOdW1iZXIoaXRlbS5Qb3NpdGlvbi5zcGxpdCgnLCcpWzBdKSArIGl0ZW0uaXRlbVdpZHRoLzI7XG4gICAgICAgIGxldCBwb3N0aW9uWSA9IE51bWJlcihpdGVtLlBvc2l0aW9uLnNwbGl0KCcsJylbMV0pICsgaXRlbS5pdGVtSGVpZ2h0LzI7ICBcbiAgICAgICAgdGhpcy5wb3N0aW9uWCA9IHBvc3Rpb25YO1xuICAgICAgICB0aGlzLnBvc3Rpb25ZID0gcG9zdGlvblk7XG4gICAgICAgIGxldCByZWN0YW5nbGUxID0gbmV3IExheWEuUmVjdGFuZ2xlKDAsIDAsTGF5YS5zdGFnZS53aWR0aCxMYXlhLnN0YWdlLmhlaWdodCk7Ly85NzhcbiAgICAgICAgLy9jb25zb2xlLmxvZyhyZWN0YW5nbGUxKTtcbiAgICAgICAgLy/nu5Hlrprkuovku7bmlLnkuLpkcmFn5Lit55qEXG4gICAgICAgIGl0ZW0ub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLHRoaXMsdGhpcy5pdGVtTW91c2VEb3duLFtpdGVtLHJlY3RhbmdsZTEscG9zdGlvblgscG9zdGlvblldKTtcbiAgICAgICAgaXRlbS5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsdGhpcy5pdGVtTW91c2VVcCxbaXRlbSxyZWN0YW5nbGUxLHBvc3Rpb25YLHBvc3Rpb25ZXSk7XG4gICAgICAgIC8v6ZSZ6K+v5qOA5rWLXG4gICAgICAgIC8vTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX09VVCx0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24sW2l0ZW0scG9zdGlvblgscG9zdGlvblldKTtcbiAgICB9XG4gICAgZXJyb3JEZXRlY3Rpb24oaXRlbSxwb3N0aW9uWCxwb3N0aW9uWSl7ICBcbiAgICAgICAgLy9jb25zb2xlLmxvZyhSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5tb3VzZVN0YXQpO1xuICAgICAgICBpZih0aGlzLkRyYWdTdGF0ID09PSAxICYmICFSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5tb3VzZVN0YXQpe1xuICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24pO1xuICAgICAgICAgICAgaXRlbS5vZmYoTGF5YS5FdmVudC5EUkFHX01PVkUsdGhpcyx0aGlzLmRyYWdMaW1pdCk7XG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKGl0ZW0se3g6cG9zdGlvblgseTpwb3N0aW9uWX0sMzAwLExheWEuRWFzZS5saW5lYXJJbik7IFxuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKDEsaXRlbS5uYW1lLFwi6IOM5pmvXCIsaXRlbS5uaWNrTmFtZSxcIuiDjOaZr1wiLExheWEuc3RhZ2UubW91c2VYLExheWEuc3RhZ2UubW91c2VZLDEpO1xuICAgICAgICAgICAgaWYodGhpcy5pdGVtYW5pKXsgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbWFuaS5zY2FsZVggPSAxOyB0aGlzLml0ZW1hbmkuc2NhbGVZID0gMTsgXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBpdGVtLnNjYWxlWCA9IDE7IGl0ZW0uc2NhbGVZID0gMTsgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLkRyYWdTdGF0ID0gMDtcbiAgICAgICAgICAgIC8vIGl0ZW0uc3BlYy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL+aLluaLveaYr+WQpuWIsOWxj+W5lei+uee8mOeahOWIpOaWrVxuICAgIGRyYWdMaW1pdChyZWN0YW5nbGUxLGl0ZW0scG9zdGlvblgscG9zdGlvblksbW91WCxtb3VZKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhpdGVtLngsaXRlbS55KTtcbiAgICAgICAgLy/orqHnrpflm5vkuKrpobbngrlcbiAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5QSSAvMTgwICogaXRlbS5Sb3RhdGlvbjtcbiAgICAgICAgbGV0IHRlbXBYUyA9IFtdO1xuICAgICAgICBsZXQgdGVtcFlTID0gW107ICAgIFxuICAgICAgICB0ZW1wWFNbMF0gPSAoaXRlbS53aWR0aC8yKSpNYXRoLmNvcyhhbmdsZSkgLSAoaXRlbS5oZWlnaHQvMikqTWF0aC5zaW4oYW5nbGUpICsgaXRlbS54O1xuICAgICAgICB0ZW1wWFNbMV0gPSAoLWl0ZW0ud2lkdGgvMikqTWF0aC5jb3MoYW5nbGUpIC0gKC1pdGVtLmhlaWdodC8yKSpNYXRoLnNpbihhbmdsZSkgKyBpdGVtLng7XG4gICAgICAgIHRlbXBZU1swXSA9IChpdGVtLndpZHRoLzIpKk1hdGguc2luKGFuZ2xlKSArIChpdGVtLmhlaWdodC8yKSpNYXRoLmNvcyhhbmdsZSkgKyBpdGVtLnk7XG4gICAgICAgIHRlbXBZU1sxXSA9ICgtaXRlbS53aWR0aC8yKSpNYXRoLnNpbihhbmdsZSkgKyAoLWl0ZW0uaGVpZ2h0LzIpKk1hdGguY29zKGFuZ2xlKSArIGl0ZW0ueTtcbiAgICAgICAgbGV0IGFuZ2xlMiA9IE1hdGguUEkgLzE4MCAqIC1pdGVtLlJvdGF0aW9uO1xuICAgICAgICB0ZW1wWFNbMl0gPSAoaXRlbS53aWR0aC8yKSpNYXRoLmNvcyhhbmdsZTIpIC0gKGl0ZW0uaGVpZ2h0LzIpKk1hdGguc2luKGFuZ2xlMikgKyBpdGVtLng7XG4gICAgICAgIHRlbXBYU1szXSA9ICgtaXRlbS53aWR0aC8yKSpNYXRoLmNvcyhhbmdsZTIpIC0gKC1pdGVtLmhlaWdodC8yKSpNYXRoLnNpbihhbmdsZTIpICsgaXRlbS54O1xuICAgICAgICB0ZW1wWVNbMl0gPSAoaXRlbS53aWR0aC8yKSpNYXRoLnNpbihhbmdsZTIpICsgKGl0ZW0uaGVpZ2h0LzIpKk1hdGguY29zKGFuZ2xlMikgKyBpdGVtLnk7XG4gICAgICAgIHRlbXBZU1szXSA9ICgtaXRlbS53aWR0aC8yKSpNYXRoLnNpbihhbmdsZTIpICsgKC1pdGVtLmhlaWdodC8yKSpNYXRoLmNvcyhhbmdsZTIpICsgaXRlbS55O1xuICAgICAgICAvL+S7juWwj+WIsOWkp+aOkuW6j1xuICAgICAgICB0ZW1wWFMgPSB0ZW1wWFMuc29ydCgpO1xuICAgICAgICB0ZW1wWVMgPSB0ZW1wWVMuc29ydCgpO1xuICAgICAgICAgIGlmKHRlbXBYU1szXSA+PSAocmVjdGFuZ2xlMS53aWR0aCtpdGVtLndpZHRoLzIpIHx8IHRlbXBZU1szXSA+PSAocmVjdGFuZ2xlMS5oZWlnaHQraXRlbS5oZWlnaHQvMikgfHwgdGVtcFhTWzBdICA8PSAocmVjdGFuZ2xlMS54K2l0ZW0ud2lkdGgvMikgIHx8IHRlbXBZU1swXSA8PSAocmVjdGFuZ2xlMS55K2l0ZW0uaGVpZ2h0LzIpKXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCLotoXlh7rlsY/luZXojIPlm7RcIik7XG4gICAgICAgICAgICBpdGVtLnN0b3BEcmFnKCk7XG4gICAgICAgICAgICBpZih0aGlzLml0ZW1hbmkpeyAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtYW5pLnNjYWxlWCA9IDE7IHRoaXMuaXRlbWFuaS5zY2FsZVkgPSAxOyBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGl0ZW0uc2NhbGVYID0gMTsgaXRlbS5zY2FsZVkgPSAxOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIExheWEuVHdlZW4udG8oaXRlbSx7eDpwb3N0aW9uWCx5OnBvc3Rpb25ZfSwzMDAsTGF5YS5FYXNlLmxpbmVhckluLG51bGwsMCx0cnVlKTsgIFxuICAgICAgICAgICAgaXRlbS5vZmYoTGF5YS5FdmVudC5EUkFHX01PVkUsdGhpcyx0aGlzLmRyYWdMaW1pdCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vaXRlbem8oOagh+aMieS4i+S6i+S7tlxuICAgIGl0ZW1Nb3VzZURvd24oaXRlbSxyZWN0YW5nbGUxLHBvc3Rpb25YLHBvc3Rpb25ZKXtcbiAgICAgICAgdGhpcy5EcmFnU3RhdCA9IDE7XG4gICAgICAgIHRoaXMuaXRlbWluZGV4ID0gIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guZ2V0Q2hpbGRJbmRleChpdGVtKTtcbiAgICAgICAgbGV0IGluZGV4ID0gUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5fY2hpbGRzLmxlbmd0aCAtMTtcbiAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZXRDaGlsZEluZGV4KGl0ZW0saW5kZXgpO1xuICAgICAgIFxuICAgICAgICBpdGVtLnN0YXJ0RHJhZygpOyAgXG4gICAgICAgIGlmKHRoaXMuaXRlbWFuaSAmJiB0aGlzLml0ZW0uY2hpbGQgPT09IG51bGwpeyAgICAgICAgXG4gICAgICAgICAgICB0aGlzLml0ZW1hbmkuc2NhbGVYID0gMS4yOyB0aGlzLml0ZW1hbmkuc2NhbGVZID0gMS4yOyBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpdGVtLnNjYWxlWCA9IDEuMjsgaXRlbS5zY2FsZVkgPSAxLjI7IFxuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgLy8gaXRlbS5zcGVjLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIExheWEudGltZXIuZnJhbWVMb29wKDEsdGhpcyx0aGlzLmVycm9yRGV0ZWN0aW9uLFtpdGVtLHBvc3Rpb25YLHBvc3Rpb25ZXSk7XG4gICAgfVxuICAgIC8vaXRlbem8oOagh+advuW8gOS6i+S7tlxuICAgIGl0ZW1Nb3VzZVVwKGl0ZW0scmVjdGFuZ2xlMSxwb3N0aW9uWCxwb3N0aW9uWSl7IFxuICAgICAgICAvLyBpdGVtLm9uKExheWEuRXZlbnQuRFJBR19NT1ZFLHRoaXMsdGhpcy5kcmFnTGltaXQsW3JlY3RhbmdsZTEsaXRlbSxwb3N0aW9uWCxwb3N0aW9uWSxMYXlhLnN0YWdlLm1vdXNlWCxMYXlhLnN0YWdlLm1vdXNlWV0pO1xuICAgICAgICAvLyBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnNldENoaWxkSW5kZXgoaXRlbSx0aGlzLml0ZW1pbmRleCk7XG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyx0aGlzLmVycm9yRGV0ZWN0aW9uKTtcbiAgICAgICAgLy8gaXRlbS5vZmYoTGF5YS5FdmVudC5EUkFHX01PVkUsdGhpcyx0aGlzLmRyYWdMaW1pdCk7XG4gICAgICAgIGl0ZW0uc3RvcERyYWcoKTtcbiAgICAgICAgLy8gaXRlbS5zcGVjLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBpZih0aGlzLnR3ZWVuT2JqKXtcbiAgICAgICAgICAgIHRoaXMudHdlZW5PYmouY29tcGxldGUoKTsgXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5EcmFnU3RhdCA9IDA7ICAgICBcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNvbGxpZGVyT2JqID0gXCLog4zmma9cIjsgLy/norDmkp7lr7nosaFcbiAgICAgICAgbGV0IHRhZ25hbWU7XG4gICAgICAgIGxldCBtb3VzZVVwUG9zWDtsZXQgbW91c2VVcFBvc1kscGljSXRlbSxUYWdFdmVudExpc3Q7XG4gICAgICAgIGlmKHRoaXMuaXRlbWFuaSAmJiB0aGlzLml0ZW0uY2hpbGQgPT09IG51bGwpeyAgICAgICAgXG4gICAgICAgICAgICB0aGlzLml0ZW1hbmkuc2NhbGVYID0gMTsgdGhpcy5pdGVtYW5pLnNjYWxlWSA9IDE7IFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGl0ZW0uc2NhbGVYID0gMTsgaXRlbS5zY2FsZVkgPSAxOyBcbiAgICAgICAgfVxuICAgICAgICBtb3VzZVVwUG9zWCA9IExheWEuc3RhZ2UubW91c2VYO1xuICAgICAgICBtb3VzZVVwUG9zWSA9IExheWEuc3RhZ2UubW91c2VZO1xuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCB0aGlzLnBpY3R1cmVJdGVtLmxlbmd0aDtpKyspeyAgXG4gICAgICAgICAgICAvL+WIpOaWreeisOWIsOWIsOeahOWFg+e0oFxuICAgICAgICAgICAgaWYodGhpcy5waWN0dXJlSXRlbVtpXS5oaXRUZXN0UG9pbnQoTGF5YS5zdGFnZS5tb3VzZVgsTGF5YS5zdGFnZS5tb3VzZVkpICYmIGl0ZW0gIT0gdGhpcy5waWN0dXJlSXRlbVtpXSl7XG4gICAgICAgICAgICAgICAgLy/kv67mlLlpdGVt55qE5L2N572u77yM5bm26K6w5b2V5L2N572uXG4gICAgICAgICAgICAgICAgaXRlbS54ID0gTGF5YS5zdGFnZS5tb3VzZVg7XG4gICAgICAgICAgICAgICAgaXRlbS55ID0gTGF5YS5zdGFnZS5tb3VzZVk7XG4gICAgICAgICAgICAgICAgY29sbGlkZXJPYmogPSB0aGlzLnBpY3R1cmVJdGVtW2ldOyAgXG4gICAgICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5piv562U5qGI5Yy6XG4gICAgICAgICAgICAgICAgaWYoIHRoaXMucGljdHVyZUl0ZW1baV0uYW5zd2VydGFnQXJyYXkubGVuZ3RoID4gMCAmJuOAgHRoaXMucGljdHVyZUl0ZW1baV0uVGFnVHlwZSA9PT0gMiApe1xuICAgICAgICAgICAgICAgICAgICAgVGFnRXZlbnRMaXN0ID0gdGhpcy5waWN0dXJlSXRlbVtpXS5hbnN3ZXJ0YWdBcnJheVswXTtcbiAgICAgICAgICAgICAgICAgICAgIGlmKFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guT3JkZXJJbmRleCA9PT0gVGFnRXZlbnRMaXN0LmluZGV4KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzLnBpY3R1cmVJdGVtW2ldLmFuc3dlcnRhZ0FycmF5Lmxlbmd0aCA+IDAgKXsgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94Lmxpc3RzaGlmdGZpcnN0KHRoaXMucGljdHVyZUl0ZW1baV0saXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IHRoaXMucGljdHVyZUl0ZW1baV07ICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vZmZBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgICAgIGlmKGZsYWcpeyAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuYW5zd2VyUmVzdWx0KGZsYWcsaXRlbSx0YWduYW1lLG1vdXNlVXBQb3NYLG1vdXNlVXBQb3NZLHBvc3Rpb25YLHBvc3Rpb25ZKTsgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5hbnN3ZXJSZXN1bHQoZmxhZyxpdGVtLGNvbGxpZGVyT2JqLG1vdXNlVXBQb3NYLG1vdXNlVXBQb3NZLHBvc3Rpb25YLHBvc3Rpb25ZKTsgIFxuICAgICAgICB9XG4gICAgICAgICAgXG4gICAgfVxuXG4gICAgYW5zd2VyUmVzdWx0KGZsYWcsaXRlbSxjb2xsaWRlck9iaixtb3VzZVVwUG9zWCxtb3VzZVVwUG9zWSxwb3N0aW9uWCxwb3N0aW9uWSl7IFxuICAgICAgICAvLyAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZXRDaGlsZEluZGV4KGl0ZW0sdGhpcy5pdGVtaW5kZXgpOyAgICAgXG4gICAgICAgICBpZighZmxhZyl7XG4gICAgICAgICAgICAgLy8g5Zue562U6ZSZ6K+vXG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LmFuc3dlckVycm9yQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBpZihjb2xsaWRlck9iaiAhPSBcIuiDjOaZr1wiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvRXZlbnRzL3NtYWxsRXJyb3JXaXRoVGhpbmcubXAzJyk7XG4gICAgICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKFwiZHJvcFwiLGl0ZW0ubmFtZSxjb2xsaWRlck9iai5uYW1lLGl0ZW0ubmlja05hbWUsY29sbGlkZXJPYmoubmlja05hbWUsbW91c2VVcFBvc1gsbW91c2VVcFBvc1ksMSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvRXZlbnRzL3NtYWxsRXJyb3JPdXRUaGluZy5tcDMnKTtcbiAgICAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnNlbmRBbnN3ZXIoXCJkcm9wXCIsaXRlbS5uYW1lLFwi6IOM5pmvXCIsaXRlbS5uaWNrTmFtZSxcIuiDjOaZr1wiLG1vdXNlVXBQb3NYLG1vdXNlVXBQb3NZLDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMudHdlZW5PYmogPSBMYXlhLlR3ZWVuLnRvKGl0ZW0se3g6dGhpcy5wb3N0aW9uWCx5OnRoaXMucG9zdGlvbll9LDMwMCxMYXlhLkVhc2UubGluZWFySW4sbnVsbCwwLHRydWUpOyAgIFxuICAgICAgICB9IFxuICAgICAgICBlbHNleyAgICAgXG4gICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKFwiZHJvcFwiLGl0ZW0ubmFtZSxjb2xsaWRlck9iai5uYW1lLGl0ZW0ubmlja05hbWUsY29sbGlkZXJPYmoubmlja05hbWUsbW91c2VVcFBvc1gsbW91c2VVcFBvc1ksMCk7XG4gICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zaG93UGFydGljbGUoTGF5YS5zdGFnZS5tb3VzZVgsTGF5YS5zdGFnZS5tb3VzZVksJ1dpblBhcnRpY2xlLnBhcnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIC8vTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24pO1xuICAgICAgICAvL0xheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfT1VULHRoaXMsdGhpcy5lcnJvckRldGVjdGlvbik7XG4gICAgICAgIExheWEudGltZXIuY2xlYXJBbGwodGhpcyk7XG4gICAgICAgIHRoaXMucGljdHVyZUl0ZW0gPSBbXTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9ldmVudHMvZHJhZ0V2ZW50LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBO0FBQ0E7Ozs7Ozs7OztBQUpBOzs7OztBQUlBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFXQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBcExBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n");

/***/ }),
/* 29 */
/* no static exports found */
/* all exports used */
/*!******************************************************!*\
  !*** ./Course/src/mainscene/events/ligatureEvent.js ***!
  \******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 连线题\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar LigatureEvent = function (_Laya$Sprite) {\n    _inherits(LigatureEvent, _Laya$Sprite);\n\n    function LigatureEvent(pictureItem, item) {\n        _classCallCheck(this, LigatureEvent);\n\n        var _this = _possibleConstructorReturn(this, (LigatureEvent.__proto__ || Object.getPrototypeOf(LigatureEvent)).call(this));\n\n        _this.pictureItem = pictureItem;\n        _this.name = item.name;\n        _this.DragStat = 0; //0为down后有up  1为只有down没有up\n        _this.imageLigature = null; //画线组件\n        _this.startPoint = [];\n        _this.endPoint = [];\n        _this.ligatureHandle(item);\n        return _this;\n    }\n\n    //画线事件\n\n\n    _createClass(LigatureEvent, [{\n        key: 'ligatureHandle',\n        value: function ligatureHandle(item) {\n            var startpostionX = Number(item.Position.split(',')[0]) + item.itemWidth / 2;\n            var startpostionY = Number(item.Position.split(',')[1]) + item.itemHeight / 2;\n            this.startPoint.push(startpostionX, startpostionY);\n            //限制画线区域\n            var rectangle1 = new Laya.Rectangle(0, 0, Laya.stage.width, Laya.stage.height);\n            //绑定事件改为drag中的\n            item.on(Laya.Event.MOUSE_DOWN, this, this.itemMouseDown, [item, rectangle1]);\n            //错误检测\n            //Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.errorDetection,[item]);\n        }\n    }, {\n        key: 'errorDetection',\n        value: function errorDetection(rectangle1, item) {\n            if (this.DragStat === 1 && !_room2.default.getInstance().mouseStat) {\n                this.imageLigature.graphics.clear();\n                Laya.timer.clear(this, this.outScreen);\n                Laya.timer.clear(this, this.errorDetection);\n                //Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.errorDetection);\n                Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.dragLimit);\n                //清除这个货的Laya事件\n                Laya.stage.off(Laya.Event.MOUSE_UP, this, this.itemMouseUp);\n                item.on(Laya.Event.MOUSE_DOWN, this, this.itemMouseDown, [item, rectangle1]);\n                _room2.default.getInstance().pagebox.sendAnswer(2, item.name, \"背景\", Laya.stage.mouseX, Laya.stage.mouseY, 1);\n                this.DragStat = 0;\n            }\n        }\n    }, {\n        key: 'outScreen',\n        value: function outScreen(rectangle1, item) {\n            if (Laya.stage.mouseX <= rectangle1.x || Laya.stage.mouseX >= rectangle1.width || Laya.stage.mouseY <= rectangle1.y || Laya.stage.mouseY >= rectangle1.height) {\n                _room2.default.getInstance().pagebox.sendAnswer(2, item.name, \"背景\", Laya.stage.mouseX, Laya.stage.mouseY, 1);\n                this.imageLigature.graphics.clear();\n                Laya.timer.clear(this, this.outScreen);\n                Laya.timer.clear(this, this.errorDetection);\n                //Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.errorDetection);\n                Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.dragLimit);\n                //清除这个货的Laya事件\n                Laya.stage.off(Laya.Event.MOUSE_UP, this, this.itemMouseUp);\n                item.on(Laya.Event.MOUSE_DOWN, this, this.itemMouseDown, [item, rectangle1]);\n            }\n        }\n\n        //item鼠标按下事件\n\n    }, {\n        key: 'itemMouseDown',\n        value: function itemMouseDown(item, rectangle1) {\n            this.DragStat = 1;\n            if (!this.imageLigature) {\n                // this.imageLigature.destroy();\n                //创建画线组件，并且设定初值\n                this.imageLigature = new Laya.Sprite();\n                _room2.default.getInstance().pagebox.addChild(this.imageLigature);\n            }\n            Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.dragLimit, [item]);\n            Laya.stage.on(Laya.Event.MOUSE_UP, this, this.itemMouseUp, [item, rectangle1]);\n\n            //判断鼠标是否超出屏幕\n            Laya.timer.frameLoop(1, this, this.outScreen, [rectangle1, item]);\n            Laya.timer.frameLoop(1, this, this.errorDetection, [rectangle1, item]);\n        }\n        //鼠标移动画线\n\n    }, {\n        key: 'dragLimit',\n        value: function dragLimit(item) {\n            item.off(Laya.Event.MOUSE_DOWN, this, this.itemMouseDown);\n            this.endPoint[0] = Laya.stage.mouseX;\n            this.endPoint[1] = Laya.stage.mouseY;\n            this.imageLigature.graphics.clear();\n            //画直线\n            this.imageLigature.graphics.drawLine(this.startPoint[0], this.startPoint[1], this.endPoint[0], this.endPoint[1], \"#8ccfd5\", 8);\n            this.imageLigature.graphics.drawCircle(this.startPoint[0], this.startPoint[1], 10, \"#8ccfd5\");\n            this.imageLigature.graphics.drawCircle(this.endPoint[0], this.endPoint[1], 10, \"#8ccfd5\");\n        }\n        //item鼠标松开事件\n\n    }, {\n        key: 'itemMouseUp',\n        value: function itemMouseUp(item, rectangle1) {\n            this.DragStat = 0;\n            Laya.timer.clear(this, this.outScreen);\n            Laya.timer.clear(this, this.errorDetection);\n            //Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.errorDetection);\n            Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.dragLimit);\n            //清除这个货的Laya事件\n            Laya.stage.off(Laya.Event.MOUSE_UP, this, this.itemMouseUp);\n            var flag = false;\n            var colliderObj = \"背景\"; //碰撞对象\n            var mouseUpPosX = void 0;var mouseUpPosY = void 0,\n                TagEventList = void 0;\n            var picItem = void 0,\n                tagname = void 0;\n            mouseUpPosX = Laya.stage.mouseX;\n            mouseUpPosY = Laya.stage.mouseY;\n            for (var i = 0; i < this.pictureItem.length; i++) {\n                //判断碰到到的元素\n                if (this.pictureItem[i].hitTestPoint(Laya.stage.mouseX, Laya.stage.mouseY) && item != this.pictureItem[i]) {\n                    //记录碰撞对象  \n                    colliderObj = this.pictureItem[i];\n                    // 判断是否是答案区\n                    if (this.pictureItem[i].answertagArray.length > 0 && this.pictureItem[i].TagType === 2) {\n                        TagEventList = this.pictureItem[i].answertagArray[0];\n                        if (_room2.default.getInstance().pagebox.OrderIndex === TagEventList.index) {\n                            if (this.pictureItem[i].answertagArray.length > 0) {\n                                flag = _room2.default.getInstance().pagebox.listshiftfirst(this.pictureItem[i], item);\n                                if (flag) {\n                                    tagname = this.pictureItem[i];\n                                    item.offAll();\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (flag) {\n                this.answerResult(flag, item, tagname, mouseUpPosX, mouseUpPosY, rectangle1);\n            } else {\n                this.answerResult(flag, item, colliderObj, mouseUpPosX, mouseUpPosY, rectangle1);\n            }\n        }\n    }, {\n        key: 'answerResult',\n        value: function answerResult(flag, item, colliderObj, mouseUpPosX, mouseUpPosY, rectangle1) {\n            var _this2 = this;\n\n            var TagName = colliderObj.name;\n            if (!flag) {\n                //回答错误\n                _room2.default.getInstance().pagebox.answerErrorAnimation();\n                //线性插值\n                var lateTime = 50;\n\n                var _loop = function _loop(i) {\n                    Laya.timer.once(lateTime * i, _this2, function () {\n                        var v = i / 5;\n                        v = _this2.smoothstep(v);\n                        var x = _this2.startPoint[0] * v + _this2.endPoint[0] * (1 - v);\n                        var y = _this2.startPoint[1] * v + _this2.endPoint[1] * (1 - v);\n                        _this2.imageLigature.graphics.clear();\n                        _this2.imageLigature.graphics.drawLine(_this2.startPoint[0], _this2.startPoint[1], x, y, \"#8ccfd5\", 8);\n                        _this2.imageLigature.graphics.drawCircle(_this2.startPoint[0], _this2.startPoint[1], 10, \"#8ccfd5\");\n                        _this2.imageLigature.graphics.drawCircle(x, y, 10, \"#8ccfd5\");\n                    });\n                };\n\n                for (var i = 0; i < 5; i++) {\n                    _loop(i);\n                }\n                Laya.timer.once(5 * lateTime, this, function () {\n                    _this2.imageLigature.graphics.clear();\n                    item.on(Laya.Event.MOUSE_DOWN, _this2, _this2.itemMouseDown, [item, rectangle1]);\n                });\n\n                if (colliderObj != \"背景\") {\n                    Laya.SoundManager.playSound('sound/Events/smallErrorWithThing.mp3');\n                    _room2.default.getInstance().pagebox.sendAnswer(\"ligature\", item.name, TagName, item.nickName, colliderObj.nickName, mouseUpPosX, mouseUpPosY, 1);\n                } else {\n                    _room2.default.getInstance().pagebox.sendAnswer(\"ligature\", item.name, TagName, item.nickName, \"背景\", mouseUpPosX, mouseUpPosY, 1);\n                    Laya.SoundManager.playSound('sound/Events/smallErrorOutThing.mp3');\n                }\n                // RoomScene.getInstance().pagebox.sendAnswer(\"ligature\",item.name,TagName,item.nickName,colliderObj.nickName,mouseUpPosX,mouseUpPosY,1);                      \n            } else {\n                (function () {\n                    var picItem = colliderObj;\n                    //画一条直线\n                    _this2.imageLigature.graphics.clear();\n                    var endpostionX = Number(picItem.Position.split(',')[0]) + picItem.itemWidth / 2;\n                    var endpostionY = Number(picItem.Position.split(',')[1]) + picItem.itemHeight / 2;\n                    _this2.imageLigature.graphics.drawLine(_this2.startPoint[0], _this2.startPoint[1], endpostionX, endpostionY, \"#8ccfd5\", 8);\n                    _this2.imageLigature.graphics.drawCircle(_this2.startPoint[0], _this2.startPoint[1], 10, \"#8ccfd5\");\n                    _this2.imageLigature.graphics.drawCircle(endpostionX, endpostionY, 10, \"#8ccfd5\");\n                    _room2.default.getInstance().pagebox.sendAnswer(\"ligature\", item.name, TagName, item.nickName, colliderObj.nickName, mouseUpPosX, mouseUpPosY, 0);\n                    //(x1 - x2)平方 + (y1 - y2)平方  最后开根号\n                    var num = parseInt(Math.sqrt(Math.pow(endpostionX - _this2.startPoint[0], 2) + Math.pow(endpostionY - _this2.startPoint[1], 2)) / 60);\n\n                    var _loop2 = function _loop2(i) {\n                        Laya.timer.once(10 * i, _this2, function () {\n                            var x = (endpostionX * i + _this2.startPoint[0] * (num - i)) / num;\n                            var y = (endpostionY * i + _this2.startPoint[1] * (num - i)) / num;\n                            _room2.default.getInstance().pagebox.showParticle(x, y, \"lianxianWin.part\");\n                        });\n                    };\n\n                    for (var i = 0; i < num; i++) {\n                        _loop2(i);\n                    }\n                })();\n            }\n        }\n    }, {\n        key: 'smoothstep',\n        value: function smoothstep(x) {\n            return x * x * x * (x * (x * 6 - 15) + 10);\n        }\n    }, {\n        key: 'destroyimageLigature',\n        value: function destroyimageLigature() {\n            if (this.imageLigature) {\n                this.imageLigature.destroy();\n            }\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            if (this.imageLigature) {\n                this.imageLigature.destroy();\n            }\n            //Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.errorDetection);\n            Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.dragLimit);\n            Laya.stage.off(Laya.Event.MOUSE_UP, this, this.itemMouseUp);\n            Laya.timer.clearAll(this);\n            this.pictureItem = [];\n            this.destroy();\n        }\n    }]);\n\n    return LigatureEvent;\n}(Laya.Sprite);\n\nexports.default = LigatureEvent;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZXZlbnRzL2xpZ2F0dXJlRXZlbnQuanM/YzEzYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOi/nue6v+mimFxuICovXG5pbXBvcnQgUm9vbVNjZW5lIGZyb20gJy4uL3Jvb20nXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWdhdHVyZUV2ZW50IGV4dGVuZHMgTGF5YS5TcHJpdGV7XG4gICAgY29uc3RydWN0b3IocGljdHVyZUl0ZW0saXRlbSl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGljdHVyZUl0ZW0gPSBwaWN0dXJlSXRlbTsgIFxuICAgICAgICB0aGlzLm5hbWUgPSBpdGVtLm5hbWU7XG4gICAgICAgIHRoaXMuRHJhZ1N0YXQgPSAwOyAvLzDkuLpkb3du5ZCO5pyJdXAgIDHkuLrlj6rmnIlkb3du5rKh5pyJdXBcbiAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlID0gbnVsbDsvL+eUu+e6v+e7hOS7tlxuICAgICAgICB0aGlzLnN0YXJ0UG9pbnQgPSBbXTtcbiAgICAgICAgdGhpcy5lbmRQb2ludCA9IFtdOyAgICAgIFxuICAgICAgICB0aGlzLmxpZ2F0dXJlSGFuZGxlKGl0ZW0pO1xuICAgIH1cbiAgICBcbiAgICAvL+eUu+e6v+S6i+S7tlxuICAgIGxpZ2F0dXJlSGFuZGxlKGl0ZW0pe1xuICAgICAgICBsZXQgc3RhcnRwb3N0aW9uWCA9IE51bWJlcihpdGVtLlBvc2l0aW9uLnNwbGl0KCcsJylbMF0pICsgaXRlbS5pdGVtV2lkdGgvMjsgIFxuICAgICAgICBsZXQgc3RhcnRwb3N0aW9uWSA9IE51bWJlcihpdGVtLlBvc2l0aW9uLnNwbGl0KCcsJylbMV0pICsgaXRlbS5pdGVtSGVpZ2h0LzI7ICAgXG4gICAgICAgIHRoaXMuc3RhcnRQb2ludC5wdXNoKHN0YXJ0cG9zdGlvblgsc3RhcnRwb3N0aW9uWSk7XG4gICAgICAgIC8v6ZmQ5Yi255S757q/5Yy65Z+fXG4gICAgICAgIGxldCByZWN0YW5nbGUxID0gbmV3IExheWEuUmVjdGFuZ2xlKDAsIDAsTGF5YS5zdGFnZS53aWR0aCxMYXlhLnN0YWdlLmhlaWdodCk7XG4gICAgICAgIC8v57uR5a6a5LqL5Lu25pS55Li6ZHJhZ+S4reeahFxuICAgICAgICBpdGVtLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTix0aGlzLHRoaXMuaXRlbU1vdXNlRG93bixbaXRlbSxyZWN0YW5nbGUxXSk7XG4gICAgICAgIC8v6ZSZ6K+v5qOA5rWLXG4gICAgICAgIC8vTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX09VVCx0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24sW2l0ZW1dKTtcblxuICAgIH1cbiAgICBlcnJvckRldGVjdGlvbihyZWN0YW5nbGUxLGl0ZW0peyAgIFxuICAgICAgICBpZih0aGlzLkRyYWdTdGF0ID09PSAxICYmICFSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5tb3VzZVN0YXQpe1xuICAgICAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlLmdyYXBoaWNzLmNsZWFyKCk7XG4gICAgICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy5vdXRTY3JlZW4pO1xuICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24pO1xuICAgICAgICAgICAgLy9MYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX09VVCx0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24pO1xuICAgICAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9NT1ZFLHRoaXMsdGhpcy5kcmFnTGltaXQpO1xuICAgICAgICAgICAgLy/muIXpmaTov5nkuKrotKfnmoRMYXlh5LqL5Lu2XG4gICAgICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsdGhpcy5pdGVtTW91c2VVcCk7XG4gICAgICAgICAgICBpdGVtLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTix0aGlzLHRoaXMuaXRlbU1vdXNlRG93bixbaXRlbSxyZWN0YW5nbGUxXSk7XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnNlbmRBbnN3ZXIoMixpdGVtLm5hbWUsXCLog4zmma9cIixMYXlhLnN0YWdlLm1vdXNlWCxMYXlhLnN0YWdlLm1vdXNlWSwxKTtcbiAgICAgICAgICAgIHRoaXMuRHJhZ1N0YXQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIG91dFNjcmVlbihyZWN0YW5nbGUxLGl0ZW0pe1xuICAgICAgICBpZihMYXlhLnN0YWdlLm1vdXNlWCA8PSByZWN0YW5nbGUxLnggfHxMYXlhLnN0YWdlLm1vdXNlWCA+PSByZWN0YW5nbGUxLndpZHRoIHx8IExheWEuc3RhZ2UubW91c2VZIDw9IHJlY3RhbmdsZTEueSB8fCBMYXlhLnN0YWdlLm1vdXNlWSA+PSByZWN0YW5nbGUxLmhlaWdodCl7XG4gICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnNlbmRBbnN3ZXIoMixpdGVtLm5hbWUsXCLog4zmma9cIixMYXlhLnN0YWdlLm1vdXNlWCxMYXlhLnN0YWdlLm1vdXNlWSwxKTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VMaWdhdHVyZS5ncmFwaGljcy5jbGVhcigpO1xuICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMub3V0U2NyZWVuKTtcbiAgICAgICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyx0aGlzLmVycm9yRGV0ZWN0aW9uKTtcbiAgICAgICAgICAgIC8vTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9PVVQsdGhpcyx0aGlzLmVycm9yRGV0ZWN0aW9uKTtcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfTU9WRSx0aGlzLHRoaXMuZHJhZ0xpbWl0KTtcbiAgICAgICAgICAgIC8v5riF6Zmk6L+Z5Liq6LSn55qETGF5YeS6i+S7tlxuICAgICAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9VUCx0aGlzLHRoaXMuaXRlbU1vdXNlVXApO1xuICAgICAgICAgICAgaXRlbS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcyx0aGlzLml0ZW1Nb3VzZURvd24sW2l0ZW0scmVjdGFuZ2xlMV0pO1xuICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvL2l0ZW3pvKDmoIfmjInkuIvkuovku7ZcbiAgICBpdGVtTW91c2VEb3duKGl0ZW0scmVjdGFuZ2xlMSl7ICAgICAgXG4gICAgICAgIHRoaXMuRHJhZ1N0YXQgPSAxO1xuICAgICAgICBpZighdGhpcy5pbWFnZUxpZ2F0dXJlKXtcbiAgICAgICAgICAgIC8vIHRoaXMuaW1hZ2VMaWdhdHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAvL+WIm+W7uueUu+e6v+e7hOS7tu+8jOW5tuS4lOiuvuWumuWIneWAvFxuICAgICAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlID0gbmV3IExheWEuU3ByaXRlKCk7XHRcbiAgICAgICAgICAgIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guYWRkQ2hpbGQodGhpcy5pbWFnZUxpZ2F0dXJlKTtcbiAgICAgICAgfSAgICAgICAgXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9NT1ZFLHRoaXMsdGhpcy5kcmFnTGltaXQsW2l0ZW1dKTtcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsdGhpcy5pdGVtTW91c2VVcCxbaXRlbSxyZWN0YW5nbGUxXSk7ICAgICBcbiAgICAgICAgICBcbiAgICAgICAgLy/liKTmlq3pvKDmoIfmmK/lkKbotoXlh7rlsY/luZVcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSx0aGlzLHRoaXMub3V0U2NyZWVuLFtyZWN0YW5nbGUxLGl0ZW1dKTtcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSx0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24sW3JlY3RhbmdsZTEsaXRlbV0pO1xuICAgIH1cbiAgICAvL+m8oOagh+enu+WKqOeUu+e6v1xuICAgIGRyYWdMaW1pdChpdGVtKXtcbiAgICAgICAgaXRlbS5vZmYoTGF5YS5FdmVudC5NT1VTRV9ET1dOLHRoaXMsdGhpcy5pdGVtTW91c2VEb3duKTtcbiAgICAgICAgdGhpcy5lbmRQb2ludFswXSA9IExheWEuc3RhZ2UubW91c2VYO1xuICAgICAgICB0aGlzLmVuZFBvaW50WzFdID0gTGF5YS5zdGFnZS5tb3VzZVk7ICAgIFxuXHRcdHRoaXMuaW1hZ2VMaWdhdHVyZS5ncmFwaGljcy5jbGVhcigpO1xuICAgICAgICAvL+eUu+ebtOe6v1xuXHRcdHRoaXMuaW1hZ2VMaWdhdHVyZS5ncmFwaGljcy5kcmF3TGluZSh0aGlzLnN0YXJ0UG9pbnRbMF0sdGhpcy5zdGFydFBvaW50WzFdLHRoaXMuZW5kUG9pbnRbMF0gLHRoaXMuZW5kUG9pbnRbMV0gLFwiIzhjY2ZkNVwiLCA4KTtcbiAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlLmdyYXBoaWNzLmRyYXdDaXJjbGUodGhpcy5zdGFydFBvaW50WzBdLHRoaXMuc3RhcnRQb2ludFsxXSwgMTAsIFwiIzhjY2ZkNVwiKTtcbiAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlLmdyYXBoaWNzLmRyYXdDaXJjbGUodGhpcy5lbmRQb2ludFswXSAsdGhpcy5lbmRQb2ludFsxXSwgMTAsIFwiIzhjY2ZkNVwiKTtcbiAgICB9XG4gICAgLy9pdGVt6byg5qCH5p2+5byA5LqL5Lu2XG4gICAgaXRlbU1vdXNlVXAoaXRlbSxyZWN0YW5nbGUxKXsgXG4gICAgICAgIHRoaXMuRHJhZ1N0YXQgPSAwO1xuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy5vdXRTY3JlZW4pO1xuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy5lcnJvckRldGVjdGlvbik7XG4gICAgICAgIC8vTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9PVVQsdGhpcyx0aGlzLmVycm9yRGV0ZWN0aW9uKTtcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9NT1ZFLHRoaXMsdGhpcy5kcmFnTGltaXQpO1xuICAgICAgICAvL+a4hemZpOi/meS4qui0p+eahExheWHkuovku7ZcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9VUCx0aGlzLHRoaXMuaXRlbU1vdXNlVXApO1xuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xuICAgICAgICBsZXQgY29sbGlkZXJPYmogPSBcIuiDjOaZr1wiOyAvL+eisOaSnuWvueixoVxuICAgICAgICBsZXQgbW91c2VVcFBvc1g7bGV0IG1vdXNlVXBQb3NZLFRhZ0V2ZW50TGlzdDtcbiAgICAgICAgbGV0IHBpY0l0ZW0sdGFnbmFtZTtcbiAgICAgICAgbW91c2VVcFBvc1ggPSBMYXlhLnN0YWdlLm1vdXNlWDtcbiAgICAgICAgbW91c2VVcFBvc1kgPSBMYXlhLnN0YWdlLm1vdXNlWTtcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgdGhpcy5waWN0dXJlSXRlbS5sZW5ndGg7aSsrKXsgIFxuICAgICAgICAgICAgLy/liKTmlq3norDliLDliLDnmoTlhYPntKBcbiAgICAgICAgICAgIGlmKHRoaXMucGljdHVyZUl0ZW1baV0uaGl0VGVzdFBvaW50KExheWEuc3RhZ2UubW91c2VYLExheWEuc3RhZ2UubW91c2VZKSAmJiBpdGVtICE9IHRoaXMucGljdHVyZUl0ZW1baV0peyAgXG4gICAgICAgICAgICAgICAgLy/orrDlvZXnorDmkp7lr7nosaEgIFxuICAgICAgICAgICAgICAgIGNvbGxpZGVyT2JqID0gdGhpcy5waWN0dXJlSXRlbVtpXTsgIFxuICAgICAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuaYr+etlOahiOWMulxuICAgICAgICAgICAgICAgIGlmKCB0aGlzLnBpY3R1cmVJdGVtW2ldLmFuc3dlcnRhZ0FycmF5Lmxlbmd0aCA+IDAgJibjgIB0aGlzLnBpY3R1cmVJdGVtW2ldLlRhZ1R5cGUgPT09IDIgKXtcbiAgICAgICAgICAgICAgICAgICAgIFRhZ0V2ZW50TGlzdCA9IHRoaXMucGljdHVyZUl0ZW1baV0uYW5zd2VydGFnQXJyYXlbMF07XG4gICAgICAgICAgICAgICAgICAgICBpZihSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94Lk9yZGVySW5kZXggPT09IFRhZ0V2ZW50TGlzdC5pbmRleCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5waWN0dXJlSXRlbVtpXS5hbnN3ZXJ0YWdBcnJheS5sZW5ndGggPiAwICl7ICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5saXN0c2hpZnRmaXJzdCh0aGlzLnBpY3R1cmVJdGVtW2ldLGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZsYWcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IHRoaXMucGljdHVyZUl0ZW1baV07ICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub2ZmQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgICB9ICBcbiAgICAgICAgfSAgXG5cbiAgICAgICAgaWYoZmxhZyl7ICAgICAgXG4gICAgICAgICAgICAgdGhpcy5hbnN3ZXJSZXN1bHQoZmxhZyxpdGVtLHRhZ25hbWUsbW91c2VVcFBvc1gsbW91c2VVcFBvc1kscmVjdGFuZ2xlMSk7ICAgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgIHRoaXMuYW5zd2VyUmVzdWx0KGZsYWcsaXRlbSxjb2xsaWRlck9iaixtb3VzZVVwUG9zWCxtb3VzZVVwUG9zWSxyZWN0YW5nbGUxKTtcbiAgICAgICAgfVxuICAgICAgIFxuICAgICBcbiAgICB9XG5cbiAgICBhbnN3ZXJSZXN1bHQoZmxhZyxpdGVtLGNvbGxpZGVyT2JqLG1vdXNlVXBQb3NYLG1vdXNlVXBQb3NZLHJlY3RhbmdsZTEpe1xuICAgICAgICBsZXQgVGFnTmFtZSA9IGNvbGxpZGVyT2JqLm5hbWU7ICAgICAgIFxuICAgICAgICBpZighZmxhZyl7XG4gICAgICAgICAgICAvL+WbnuetlOmUmeivr1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5hbnN3ZXJFcnJvckFuaW1hdGlvbigpO1xuICAgICAgICAgICAgLy/nur/mgKfmj5LlgLxcbiAgICAgICAgICAgIGxldCBsYXRlVGltZSA9IDUwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHsgXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKGxhdGVUaW1lICogaSx0aGlzLCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGxldCB2ID0gaSAvIDU7XG4gICAgICAgICAgICAgICAgICAgIHYgPSB0aGlzLnNtb290aHN0ZXAodik7IFxuICAgICAgICAgICAgICAgICAgICBsZXQgeCA9ICh0aGlzLnN0YXJ0UG9pbnRbMF0gKiB2KSArICh0aGlzLmVuZFBvaW50WzBdICogKDEgLSB2KSk7IFxuICAgICAgICAgICAgICAgICAgICBsZXQgeSA9ICh0aGlzLnN0YXJ0UG9pbnRbMV0gKiB2KSArICh0aGlzLmVuZFBvaW50WzFdICogKDEgLSB2KSk7IFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlTGlnYXR1cmUuZ3JhcGhpY3MuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlLmdyYXBoaWNzLmRyYXdMaW5lKHRoaXMuc3RhcnRQb2ludFswXSx0aGlzLnN0YXJ0UG9pbnRbMV0seCx5ICxcIiM4Y2NmZDVcIiwgOCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VMaWdhdHVyZS5ncmFwaGljcy5kcmF3Q2lyY2xlKHRoaXMuc3RhcnRQb2ludFswXSx0aGlzLnN0YXJ0UG9pbnRbMV0sIDEwLCBcIiM4Y2NmZDVcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VMaWdhdHVyZS5ncmFwaGljcy5kcmF3Q2lyY2xlKHggLHksIDEwLCBcIiM4Y2NmZDVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIExheWEudGltZXIub25jZSgoNSkgKiBsYXRlVGltZSx0aGlzLCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlLmdyYXBoaWNzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgaXRlbS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcyx0aGlzLml0ZW1Nb3VzZURvd24sW2l0ZW0scmVjdGFuZ2xlMV0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKGNvbGxpZGVyT2JqICE9IFwi6IOM5pmvXCIpe1xuICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvRXZlbnRzL3NtYWxsRXJyb3JXaXRoVGhpbmcubXAzJyk7XG4gICAgICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKFwibGlnYXR1cmVcIixpdGVtLm5hbWUsVGFnTmFtZSxpdGVtLm5pY2tOYW1lLGNvbGxpZGVyT2JqLm5pY2tOYW1lLG1vdXNlVXBQb3NYLG1vdXNlVXBQb3NZLDEpOyAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKFwibGlnYXR1cmVcIixpdGVtLm5hbWUsVGFnTmFtZSxpdGVtLm5pY2tOYW1lLFwi6IOM5pmvXCIsbW91c2VVcFBvc1gsbW91c2VVcFBvc1ksMSk7ICAgICAgIFxuICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvRXZlbnRzL3NtYWxsRXJyb3JPdXRUaGluZy5tcDMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guc2VuZEFuc3dlcihcImxpZ2F0dXJlXCIsaXRlbS5uYW1lLFRhZ05hbWUsaXRlbS5uaWNrTmFtZSxjb2xsaWRlck9iai5uaWNrTmFtZSxtb3VzZVVwUG9zWCxtb3VzZVVwUG9zWSwxKTsgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIH0gXG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBsZXQgcGljSXRlbSA9IGNvbGxpZGVyT2JqOyAgICAgICAgICBcbiAgICAgICAgICAgICAvL+eUu+S4gOadoeebtOe6v1xuICAgICAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlLmdyYXBoaWNzLmNsZWFyKCk7XG4gICAgICAgICAgICBsZXQgZW5kcG9zdGlvblggPSBOdW1iZXIocGljSXRlbS5Qb3NpdGlvbi5zcGxpdCgnLCcpWzBdKSArIHBpY0l0ZW0uaXRlbVdpZHRoLzI7ICBcbiAgICAgICAgICAgIGxldCBlbmRwb3N0aW9uWSA9IE51bWJlcihwaWNJdGVtLlBvc2l0aW9uLnNwbGl0KCcsJylbMV0pICsgcGljSXRlbS5pdGVtSGVpZ2h0LzI7ICAgXG4gICAgICAgICAgICB0aGlzLmltYWdlTGlnYXR1cmUuZ3JhcGhpY3MuZHJhd0xpbmUodGhpcy5zdGFydFBvaW50WzBdLHRoaXMuc3RhcnRQb2ludFsxXSxlbmRwb3N0aW9uWCxlbmRwb3N0aW9uWSwgXCIjOGNjZmQ1XCIsIDgpO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlLmdyYXBoaWNzLmRyYXdDaXJjbGUodGhpcy5zdGFydFBvaW50WzBdLHRoaXMuc3RhcnRQb2ludFsxXSwgMTAsIFwiIzhjY2ZkNVwiKTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VMaWdhdHVyZS5ncmFwaGljcy5kcmF3Q2lyY2xlKGVuZHBvc3Rpb25YLGVuZHBvc3Rpb25ZLCAxMCwgXCIjOGNjZmQ1XCIpO1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKFwibGlnYXR1cmVcIixpdGVtLm5hbWUsVGFnTmFtZSxpdGVtLm5pY2tOYW1lLGNvbGxpZGVyT2JqLm5pY2tOYW1lLG1vdXNlVXBQb3NYLG1vdXNlVXBQb3NZLDApO1xuICAgICAgICAgICAgIC8vKHgxIC0geDIp5bmz5pa5ICsgKHkxIC0geTIp5bmz5pa5ICDmnIDlkI7lvIDmoLnlj7dcbiAgICAgICAgICAgIGxldCBudW0gPSBwYXJzZUludCgoTWF0aC5zcXJ0KE1hdGgucG93KChlbmRwb3N0aW9uWCAtIHRoaXMuc3RhcnRQb2ludFswXSksMikgKyBNYXRoLnBvdygoZW5kcG9zdGlvblkgLSB0aGlzLnN0YXJ0UG9pbnRbMV0pLDIpKSkgLyA2MCk7ICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bTsgaSsrKSB7IFxuICAgICAgICAgICAgICAgIExheWEudGltZXIub25jZSgxMCAqIGksdGhpcywoKT0+e1xuICAgICAgICAgICAgICAgICAgICBsZXQgeCA9ICgoZW5kcG9zdGlvblggKiBpKSArICh0aGlzLnN0YXJ0UG9pbnRbMF0gKiAobnVtIC0gaSkpKSAvIG51bTsgXG4gICAgICAgICAgICAgICAgICAgIGxldCB5ID0gKChlbmRwb3N0aW9uWSAqIGkpICsgKHRoaXMuc3RhcnRQb2ludFsxXSAqIChudW0gLSBpKSkpIC8gbnVtOyAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnNob3dQYXJ0aWNsZSh4LHksXCJsaWFueGlhbldpbi5wYXJ0XCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc21vb3Roc3RlcCh4KSB7IFxuICAgICAgICByZXR1cm4geCAqIHggKiB4ICogKHggKiAoeCAqIDYgLSAxNSkgKyAxMCk7XG4gICAgfVxuICAgIFxuICAgIGRlc3Ryb3lpbWFnZUxpZ2F0dXJlKCl7XG4gICAgICAgIGlmKHRoaXMuaW1hZ2VMaWdhdHVyZSl7XG4gICAgICAgICAgICB0aGlzLmltYWdlTGlnYXR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICBpZih0aGlzLmltYWdlTGlnYXR1cmUpe1xuICAgICAgICAgICAgdGhpcy5pbWFnZUxpZ2F0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICAvL0xheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfT1VULHRoaXMsdGhpcy5lcnJvckRldGVjdGlvbik7XG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfTU9WRSx0aGlzLHRoaXMuZHJhZ0xpbWl0KTtcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9VUCx0aGlzLHRoaXMuaXRlbU1vdXNlVXApOyAgICAgIFxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyQWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnBpY3R1cmVJdGVtID0gW107ICAgICAgXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvZXZlbnRzL2xpZ2F0dXJlRXZlbnQuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTs7Ozs7Ozs7O0FBSkE7Ozs7O0FBSUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7QUFDQTtBQUlBO0FBQUE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQUNBO0FBV0E7QUFBQTtBQU1BO0FBbEJBO0FBb0JBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQTdNQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///29\n");

/***/ }),
/* 30 */
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./Course/src/mainscene/events/puzzleEvent.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 拼图题目\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar puzzleEvent = function (_Laya$Sprite) {\n    _inherits(puzzleEvent, _Laya$Sprite);\n\n    function puzzleEvent(pictureItem, item, width, height) {\n        _classCallCheck(this, puzzleEvent);\n\n        var _this = _possibleConstructorReturn(this, (puzzleEvent.__proto__ || Object.getPrototypeOf(puzzleEvent)).call(this));\n\n        _this.pictureItem = pictureItem;\n        _this.item = item;\n        _this.DragStat = 0; //0为down后有up   1为只有down没有up\n        _this.tweenObj = null;\n        _this.hasMove = false; //全局标识，初始化标识元素没有发生mousemove\n        _this.firstTime = null; //按下时间\n        _this.clickTimes = -1;\n        _this.dragHandle(item);\n        return _this;\n    }\n    //拖拽事件\n\n\n    _createClass(puzzleEvent, [{\n        key: 'dragHandle',\n        value: function dragHandle(item) {\n            var postionX = Number(item.Position.split(',')[0]) + item.itemWidth / 2;\n            var postionY = Number(item.Position.split(',')[1]) + item.itemHeight / 2;\n            var rectangle1 = new Laya.Rectangle(0, 0, Laya.stage.width, Laya.stage.height); //978\n            //console.log(rectangle1);\n            //绑定事件改为drag中的\n            item.on(Laya.Event.MOUSE_DOWN, this, this.itemMouseDown, [item, rectangle1, postionX, postionY]);\n            item.on(Laya.Event.MOUSE_UP, this, this.itemMouseUp, [item, postionX, postionY]);\n            item.on(Laya.Event.CLICK, this, this.angleHandler, [item]);\n            //错误检测\n            // Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.errorDetection,[item,postionX,postionY]);\n        }\n\n        //点击旋转角度\n\n    }, {\n        key: 'angleHandler',\n        value: function angleHandler(item) {\n            if (this.hasMove && item.AngleGroup.length > 0) {\n                console.log(\"点击\");\n                this.hasMove = false;\n                var AngleGroup = [];\n                this.clickTimes++;\n                for (var i in item.AngleGroup) {\n                    if (item.AngleGroup[i] > 0) {\n                        AngleGroup.push(item.AngleGroup[i]);\n                    }\n                }\n                var itemangle = AngleGroup.sort(this.sequence);\n                if (this.clickTimes >= itemangle.length) {\n                    this.clickTimes = -1;\n                    item.rotation = 0;\n                } else {\n                    item.rotation = itemangle[this.clickTimes];\n                }\n                this.itemrotation = item.rotation;\n                console.log(this.itemrotation);\n                Laya.SoundManager.playSound('sound/Events/smallErrorWithThing.mp3');\n                _room2.default.getInstance().pagebox.sendAnswer(\"puzzle\", item.name, item.rotation, null, null, null, null, 4);\n            }\n        }\n        // 排序函数\n\n    }, {\n        key: 'sequence',\n        value: function sequence(a, b) {\n            if (a > b) {\n                return 1;\n            } else if (a < b) {\n                return -1;\n            } else {\n                return 0;\n            }\n        }\n    }, {\n        key: 'errorDetection',\n        value: function errorDetection(item, postionX, postionY) {\n            //console.log(RoomScene.getInstance().mouseStat);\n            if (this.DragStat === 1 && !_room2.default.getInstance().mouseStat) {\n                Laya.timer.clear(this, this.errorDetection);\n                item.off(Laya.Event.DRAG_MOVE, this, this.dragLimit);\n                Laya.Tween.to(item, { x: postionX, y: postionY }, 300, Laya.Ease.linearIn);\n                _room2.default.getInstance().pagebox.sendAnswer(1, item.name, \"背景\", null, null, Laya.stage.mouseX, Laya.stage.mouseY, 1);\n                // item.scaleX = 1; item.scaleY = 1;\n                this.DragStat = 0;\n                // item.spec.visible = true;\n            }\n        }\n        //拖拽是否到屏幕边缘的判断\n\n    }, {\n        key: 'dragLimit',\n        value: function dragLimit(rectangle1, item, postionX, postionY, mouX, mouY) {\n            //console.log(item.x,item.y);\n            //计算四个顶点\n            var angle = Math.PI / 180 * item.Rotation;\n            var tempXS = [];\n            var tempYS = [];\n            tempXS[0] = item.width / 2 * Math.cos(angle) - item.height / 2 * Math.sin(angle) + item.x;\n            tempXS[1] = -item.width / 2 * Math.cos(angle) - -item.height / 2 * Math.sin(angle) + item.x;\n            tempYS[0] = item.width / 2 * Math.sin(angle) + item.height / 2 * Math.cos(angle) + item.y;\n            tempYS[1] = -item.width / 2 * Math.sin(angle) + -item.height / 2 * Math.cos(angle) + item.y;\n            var angle2 = Math.PI / 180 * -item.Rotation;\n            tempXS[2] = item.width / 2 * Math.cos(angle2) - item.height / 2 * Math.sin(angle2) + item.x;\n            tempXS[3] = -item.width / 2 * Math.cos(angle2) - -item.height / 2 * Math.sin(angle2) + item.x;\n            tempYS[2] = item.width / 2 * Math.sin(angle2) + item.height / 2 * Math.cos(angle2) + item.y;\n            tempYS[3] = -item.width / 2 * Math.sin(angle2) + -item.height / 2 * Math.cos(angle2) + item.y;\n            //从小到大排序\n            tempXS = tempXS.sort();\n            tempYS = tempYS.sort();\n            if (tempXS[3] >= rectangle1.width + item.width / 2 || tempYS[3] >= rectangle1.height + item.height / 2 || tempXS[0] <= rectangle1.x + item.width / 2 || tempYS[0] <= rectangle1.y + item.height / 2) {\n                //console.log(\"超出屏幕范围\");\n                item.stopDrag();\n                // item.scaleX = 1; item.scaleY = 1;\n                Laya.Tween.to(item, { x: postionX, y: postionY }, 300, Laya.Ease.linearIn, null, 0, true);\n                item.off(Laya.Event.DRAG_MOVE, this, this.dragLimit);\n            }\n        }\n\n        //item鼠标按下事件\n\n    }, {\n        key: 'itemMouseDown',\n        value: function itemMouseDown(item, rectangle1, postionX, postionY) {\n            this.firstTime = new Date().getTime();\n            this.DragStat = 1;\n            var index = _room2.default.getInstance().pagebox._childs.length - 1;\n            _room2.default.getInstance().pagebox.setChildIndex(item, index);\n            item.startDrag();\n            // item.scaleX = 1.2; item.scaleY = 1.2; \n            // item.spec.visible = false;\n            // item.on(Laya.Event.DRAG_MOVE,this,this.dragLimit,[rectangle1,item,postionX,postionY,Laya.stage.mouseX,Laya.stage.mouseY]);\n            // Laya.timer.frameLoop(1,this,this.errorDetection,[item,postionX,postionY]);\n        }\n\n        //item鼠标松开事件\n\n    }, {\n        key: 'itemMouseUp',\n        value: function itemMouseUp(item, postionX, postionY) {\n            var lastTime = new Date().getTime();\n            if (lastTime - this.firstTime < 200) {\n                this.hasMove = true;\n            }\n            // Laya.timer.clear(this,this.errorDetection);\n            // item.off(Laya.Event.DRAG_MOVE,this,this.dragLimit);\n            item.stopDrag();\n            // this.hasMove = false;\n            // item.spec.visible = true;\n            if (this.tweenObj) {\n                this.tweenObj.complete();\n            }\n            this.DragStat = 0;\n\n            var flag = false;\n            var colliderObj = \"背景\"; //碰撞对象\n            var mouseUpPosX = void 0;var mouseUpPosY = void 0;\n            // item.scaleX = 1; item.scaleY = 1;\n            mouseUpPosX = Laya.stage.mouseX;\n            mouseUpPosY = Laya.stage.mouseY;\n            // for(let i = 0;i < this.pictureItem.length;i++){  \n            //     //判断碰到到的元素\n            //     if(this.pictureItem[i].hitTestPoint(Laya.stage.mouseX,Laya.stage.mouseY) && item != this.pictureItem[i]){\n            //         //修改item的位置，并记录位置\n            //         item.x = Laya.stage.mouseX;\n            //         item.y = Laya.stage.mouseY;\n            //         colliderObj = this.pictureItem[i].name;                 \n            //         if(this.pictureItem[i].TagType == 2 && this.pictureItem[i].Tag == item.Tag){  \n            //             flag = true;    \n            //             item.offAll();\n            //             // item.spec.visible = false;\n            //             RoomScene.getInstance().pagebox.bringOutElement(this.pictureItem[i].EventList,item,{senderId:GM.senderId});   \n            //             //有可能会出现有底图存在的情况，所以需要循环遍历，等到这个if进来那就一定是碰撞到了，那也就可以退出for了\n            //             break;   \n            //         }\n            //     }  \n            // }   \n            // if(!flag){\n            //     if(colliderObj != \"背景\")\n            //     {\n\n            //     }\n            //     else{\n            //         Laya.SoundManager.playSound('sound/Events/smallErrorOutThing.mp3');\n            //     }\n            //     // RoomScene.getInstance().pagebox.sendAnswer(1,item.name,colliderObj,mouseUpPosX,mouseUpPosY,1);\n            //     // this.tweenObj = Laya.Tween.to(item,{x:postionX,y:postionY},300,Laya.Ease.linearIn,null,0,true);   \n            // } \n            // else{      \n            _room2.default.getInstance().pagebox.sendAnswer(\"puzzle\", item.name, null, null, null, item.x, item.y, 4);\n            //  RoomScene.getInstance().pagebox.showParticle(Laya.stage.mouseX,Laya.stage.mouseY,'WinParticle.part');\n            // }\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            //Laya.timer.clear(this,this.errorDetection);\n            //Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.errorDetection);\n            Laya.timer.clearAll(this);\n            this.pictureItem = [];\n            this.destroy();\n        }\n    }]);\n\n    return puzzleEvent;\n}(Laya.Sprite);\n\n// WEBPACK FOOTER //\n// Course/src/mainscene/events/puzzleEvent.js\n\n\nexports.default = puzzleEvent;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvZXZlbnRzL3B1enpsZUV2ZW50LmpzPzNiNjQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDmi7zlm77popjnm65cbiAqL1xuaW1wb3J0IFJvb21TY2VuZSBmcm9tICcuLi9yb29tJ1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcHV6emxlRXZlbnQgZXh0ZW5kcyBMYXlhLlNwcml0ZXtcbiAgICBjb25zdHJ1Y3RvcihwaWN0dXJlSXRlbSxpdGVtLHdpZHRoLGhlaWdodCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGljdHVyZUl0ZW0gPSBwaWN0dXJlSXRlbTsgICAgXG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07ICAgICAgICAgXG4gICAgICAgIHRoaXMuRHJhZ1N0YXQgPSAwOyAvLzDkuLpkb3du5ZCO5pyJdXAgICAx5Li65Y+q5pyJZG93buayoeaciXVwXG4gICAgICAgIHRoaXMudHdlZW5PYmogPSBudWxsO1xuICAgICAgICB0aGlzLmhhc01vdmUgPSBmYWxzZTsgIC8v5YWo5bGA5qCH6K+G77yM5Yid5aeL5YyW5qCH6K+G5YWD57Sg5rKh5pyJ5Y+R55SfbW91c2Vtb3ZlXG4gICAgICAgIHRoaXMuZmlyc3RUaW1lID0gbnVsbDsgLy/mjInkuIvml7bpl7RcbiAgICAgICAgdGhpcy5jbGlja1RpbWVzID0gLTE7XG4gICAgICAgIHRoaXMuZHJhZ0hhbmRsZShpdGVtKTtcbiAgICB9ICAgIFxuICAgICAvL+aLluaLveS6i+S7tlxuICAgIGRyYWdIYW5kbGUoaXRlbSl7ICAgICBcbiAgICAgICAgbGV0IHBvc3Rpb25YID0gTnVtYmVyKGl0ZW0uUG9zaXRpb24uc3BsaXQoJywnKVswXSkgKyBpdGVtLml0ZW1XaWR0aC8yO1xuICAgICAgICBsZXQgcG9zdGlvblkgPSBOdW1iZXIoaXRlbS5Qb3NpdGlvbi5zcGxpdCgnLCcpWzFdKSArIGl0ZW0uaXRlbUhlaWdodC8yOyAgXG4gICAgICAgIGxldCByZWN0YW5nbGUxID0gbmV3IExheWEuUmVjdGFuZ2xlKDAsIDAsTGF5YS5zdGFnZS53aWR0aCxMYXlhLnN0YWdlLmhlaWdodCk7Ly85NzhcbiAgICAgICAgLy9jb25zb2xlLmxvZyhyZWN0YW5nbGUxKTtcbiAgICAgICAgLy/nu5Hlrprkuovku7bmlLnkuLpkcmFn5Lit55qEXG4gICAgICAgIGl0ZW0ub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLHRoaXMsdGhpcy5pdGVtTW91c2VEb3duLFtpdGVtLHJlY3RhbmdsZTEscG9zdGlvblgscG9zdGlvblldKTtcbiAgICAgICAgaXRlbS5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsdGhpcy5pdGVtTW91c2VVcCxbaXRlbSxwb3N0aW9uWCxwb3N0aW9uWV0pO1xuICAgICAgICBpdGVtLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLmFuZ2xlSGFuZGxlcixbaXRlbV0pO1xuICAgICAgICAvL+mUmeivr+ajgOa1i1xuICAgICAgICAvLyBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfT1VULHRoaXMsdGhpcy5lcnJvckRldGVjdGlvbixbaXRlbSxwb3N0aW9uWCxwb3N0aW9uWV0pO1xuICAgIH1cbiAgIFxuICAgIC8v54K55Ye75peL6L2s6KeS5bqmXG4gICAgYW5nbGVIYW5kbGVyKGl0ZW0pe1xuICAgICAgICBpZih0aGlzLmhhc01vdmUgJiYgaXRlbS5BbmdsZUdyb3VwLmxlbmd0aCA+MCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIueCueWHu1wiKTtcbiAgICAgICAgICAgIHRoaXMuaGFzTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IEFuZ2xlR3JvdXAgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lcysrO1xuICAgICAgICAgICAgZm9yKGxldCBpIGluIGl0ZW0uQW5nbGVHcm91cCl7XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5BbmdsZUdyb3VwW2ldPjApe1xuICAgICAgICAgICAgICAgICAgICBBbmdsZUdyb3VwLnB1c2goaXRlbS5BbmdsZUdyb3VwW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaXRlbWFuZ2xlID0gQW5nbGVHcm91cC5zb3J0KHRoaXMuc2VxdWVuY2UpO1xuICAgICAgICAgICAgaWYodGhpcy5jbGlja1RpbWVzID49IGl0ZW1hbmdsZS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lcyA9IC0xO1xuICAgICAgICAgICAgICAgIGl0ZW0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgaXRlbS5yb3RhdGlvbiA9IGl0ZW1hbmdsZVt0aGlzLmNsaWNrVGltZXNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pdGVtcm90YXRpb24gPSBpdGVtLnJvdGF0aW9uO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtcm90YXRpb24pOyAgXG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoJ3NvdW5kL0V2ZW50cy9zbWFsbEVycm9yV2l0aFRoaW5nLm1wMycpO1xuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKFwicHV6emxlXCIsaXRlbS5uYW1lLGl0ZW0ucm90YXRpb24sbnVsbCxudWxsLG51bGwsbnVsbCw0KTtcbiAgICAgICAgICAgIFxuICAgICAgICB9ICAgIFxuICAgICAgIFxuICAgIH1cbiAgICAvLyDmjpLluo/lh73mlbBcbiAgICBzZXF1ZW5jZShhLGIpe1xuICAgICAgICBpZiAoYT5iKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfWVsc2UgaWYoYTxiKXtcbiAgICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXJyb3JEZXRlY3Rpb24oaXRlbSxwb3N0aW9uWCxwb3N0aW9uWSl7ICBcbiAgICAgICAgLy9jb25zb2xlLmxvZyhSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5tb3VzZVN0YXQpO1xuICAgICAgICBpZih0aGlzLkRyYWdTdGF0ID09PSAxICYmICFSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5tb3VzZVN0YXQpe1xuICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24pO1xuICAgICAgICAgICAgaXRlbS5vZmYoTGF5YS5FdmVudC5EUkFHX01PVkUsdGhpcyx0aGlzLmRyYWdMaW1pdCk7XG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKGl0ZW0se3g6cG9zdGlvblgseTpwb3N0aW9uWX0sMzAwLExheWEuRWFzZS5saW5lYXJJbik7IFxuICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKDEsaXRlbS5uYW1lLFwi6IOM5pmvXCIsbnVsbCxudWxsLExheWEuc3RhZ2UubW91c2VYLExheWEuc3RhZ2UubW91c2VZLDEpO1xuICAgICAgICAgICAgLy8gaXRlbS5zY2FsZVggPSAxOyBpdGVtLnNjYWxlWSA9IDE7XG4gICAgICAgICAgICB0aGlzLkRyYWdTdGF0ID0gMDtcbiAgICAgICAgICAgIC8vIGl0ZW0uc3BlYy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL+aLluaLveaYr+WQpuWIsOWxj+W5lei+uee8mOeahOWIpOaWrVxuICAgIGRyYWdMaW1pdChyZWN0YW5nbGUxLGl0ZW0scG9zdGlvblgscG9zdGlvblksbW91WCxtb3VZKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhpdGVtLngsaXRlbS55KTtcbiAgICAgICAgLy/orqHnrpflm5vkuKrpobbngrlcbiAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5QSSAvMTgwICogaXRlbS5Sb3RhdGlvbjtcbiAgICAgICAgbGV0IHRlbXBYUyA9IFtdO1xuICAgICAgICBsZXQgdGVtcFlTID0gW107ICAgIFxuICAgICAgICB0ZW1wWFNbMF0gPSAoaXRlbS53aWR0aC8yKSpNYXRoLmNvcyhhbmdsZSkgLSAoaXRlbS5oZWlnaHQvMikqTWF0aC5zaW4oYW5nbGUpICsgaXRlbS54O1xuICAgICAgICB0ZW1wWFNbMV0gPSAoLWl0ZW0ud2lkdGgvMikqTWF0aC5jb3MoYW5nbGUpIC0gKC1pdGVtLmhlaWdodC8yKSpNYXRoLnNpbihhbmdsZSkgKyBpdGVtLng7XG4gICAgICAgIHRlbXBZU1swXSA9IChpdGVtLndpZHRoLzIpKk1hdGguc2luKGFuZ2xlKSArIChpdGVtLmhlaWdodC8yKSpNYXRoLmNvcyhhbmdsZSkgKyBpdGVtLnk7XG4gICAgICAgIHRlbXBZU1sxXSA9ICgtaXRlbS53aWR0aC8yKSpNYXRoLnNpbihhbmdsZSkgKyAoLWl0ZW0uaGVpZ2h0LzIpKk1hdGguY29zKGFuZ2xlKSArIGl0ZW0ueTtcbiAgICAgICAgbGV0IGFuZ2xlMiA9IE1hdGguUEkgLzE4MCAqIC1pdGVtLlJvdGF0aW9uO1xuICAgICAgICB0ZW1wWFNbMl0gPSAoaXRlbS53aWR0aC8yKSpNYXRoLmNvcyhhbmdsZTIpIC0gKGl0ZW0uaGVpZ2h0LzIpKk1hdGguc2luKGFuZ2xlMikgKyBpdGVtLng7XG4gICAgICAgIHRlbXBYU1szXSA9ICgtaXRlbS53aWR0aC8yKSpNYXRoLmNvcyhhbmdsZTIpIC0gKC1pdGVtLmhlaWdodC8yKSpNYXRoLnNpbihhbmdsZTIpICsgaXRlbS54O1xuICAgICAgICB0ZW1wWVNbMl0gPSAoaXRlbS53aWR0aC8yKSpNYXRoLnNpbihhbmdsZTIpICsgKGl0ZW0uaGVpZ2h0LzIpKk1hdGguY29zKGFuZ2xlMikgKyBpdGVtLnk7XG4gICAgICAgIHRlbXBZU1szXSA9ICgtaXRlbS53aWR0aC8yKSpNYXRoLnNpbihhbmdsZTIpICsgKC1pdGVtLmhlaWdodC8yKSpNYXRoLmNvcyhhbmdsZTIpICsgaXRlbS55O1xuICAgICAgICAvL+S7juWwj+WIsOWkp+aOkuW6j1xuICAgICAgICB0ZW1wWFMgPSB0ZW1wWFMuc29ydCgpO1xuICAgICAgICB0ZW1wWVMgPSB0ZW1wWVMuc29ydCgpO1xuICAgICAgICBpZih0ZW1wWFNbM10gPj0gKHJlY3RhbmdsZTEud2lkdGgraXRlbS53aWR0aC8yKSB8fCB0ZW1wWVNbM10gPj0gKHJlY3RhbmdsZTEuaGVpZ2h0K2l0ZW0uaGVpZ2h0LzIpIHx8IHRlbXBYU1swXSAgPD0gKHJlY3RhbmdsZTEueCtpdGVtLndpZHRoLzIpICB8fCB0ZW1wWVNbMF0gPD0gKHJlY3RhbmdsZTEueStpdGVtLmhlaWdodC8yKSl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwi6LaF5Ye65bGP5bmV6IyD5Zu0XCIpO1xuICAgICAgICAgICAgaXRlbS5zdG9wRHJhZygpO1xuICAgICAgICAgICAgLy8gaXRlbS5zY2FsZVggPSAxOyBpdGVtLnNjYWxlWSA9IDE7XG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKGl0ZW0se3g6cG9zdGlvblgseTpwb3N0aW9uWX0sMzAwLExheWEuRWFzZS5saW5lYXJJbixudWxsLDAsdHJ1ZSk7ICBcbiAgICAgICAgICAgIGl0ZW0ub2ZmKExheWEuRXZlbnQuRFJBR19NT1ZFLHRoaXMsdGhpcy5kcmFnTGltaXQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvL2l0ZW3pvKDmoIfmjInkuIvkuovku7ZcbiAgICBpdGVtTW91c2VEb3duKGl0ZW0scmVjdGFuZ2xlMSxwb3N0aW9uWCxwb3N0aW9uWSl7XG4gICAgICAgIHRoaXMuZmlyc3RUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHRoaXMuRHJhZ1N0YXQgPSAxO1xuICAgICAgICBsZXQgaW5kZXggPSBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94Ll9jaGlsZHMubGVuZ3RoIC0xO1xuICAgICAgICBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5wYWdlYm94LnNldENoaWxkSW5kZXgoaXRlbSxpbmRleCk7XG4gICAgICAgIGl0ZW0uc3RhcnREcmFnKCk7ICBcbiAgICAgICAgLy8gaXRlbS5zY2FsZVggPSAxLjI7IGl0ZW0uc2NhbGVZID0gMS4yOyBcbiAgICAgICAgLy8gaXRlbS5zcGVjLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgLy8gaXRlbS5vbihMYXlhLkV2ZW50LkRSQUdfTU9WRSx0aGlzLHRoaXMuZHJhZ0xpbWl0LFtyZWN0YW5nbGUxLGl0ZW0scG9zdGlvblgscG9zdGlvblksTGF5YS5zdGFnZS5tb3VzZVgsTGF5YS5zdGFnZS5tb3VzZVldKTtcbiAgICAgICAgLy8gTGF5YS50aW1lci5mcmFtZUxvb3AoMSx0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24sW2l0ZW0scG9zdGlvblgscG9zdGlvblldKTtcbiAgICB9XG4gICBcbiAgICAvL2l0ZW3pvKDmoIfmnb7lvIDkuovku7ZcbiAgICBpdGVtTW91c2VVcChpdGVtLHBvc3Rpb25YLHBvc3Rpb25ZKXsgXG4gICAgICAgIGxldCBsYXN0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBpZiggKGxhc3RUaW1lIC0gdGhpcy5maXJzdFRpbWUpIDwgMjAwKXtcbiAgICAgICAgICAgIHRoaXMuaGFzTW92ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24pO1xuICAgICAgICAvLyBpdGVtLm9mZihMYXlhLkV2ZW50LkRSQUdfTU9WRSx0aGlzLHRoaXMuZHJhZ0xpbWl0KTtcbiAgICAgICAgaXRlbS5zdG9wRHJhZygpO1xuICAgICAgICAvLyB0aGlzLmhhc01vdmUgPSBmYWxzZTtcbiAgICAgICAgLy8gaXRlbS5zcGVjLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBpZih0aGlzLnR3ZWVuT2JqKXtcbiAgICAgICAgICAgIHRoaXMudHdlZW5PYmouY29tcGxldGUoKTsgXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5EcmFnU3RhdCA9IDA7XG4gICAgICAgIFxuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xuICAgICAgICBsZXQgY29sbGlkZXJPYmogPSBcIuiDjOaZr1wiOyAvL+eisOaSnuWvueixoVxuICAgICAgICBsZXQgbW91c2VVcFBvc1g7bGV0IG1vdXNlVXBQb3NZO1xuICAgICAgICAvLyBpdGVtLnNjYWxlWCA9IDE7IGl0ZW0uc2NhbGVZID0gMTtcbiAgICAgICAgbW91c2VVcFBvc1ggPSBMYXlhLnN0YWdlLm1vdXNlWDtcbiAgICAgICAgbW91c2VVcFBvc1kgPSBMYXlhLnN0YWdlLm1vdXNlWTtcbiAgICAgICAgLy8gZm9yKGxldCBpID0gMDtpIDwgdGhpcy5waWN0dXJlSXRlbS5sZW5ndGg7aSsrKXsgIFxuICAgICAgICAvLyAgICAgLy/liKTmlq3norDliLDliLDnmoTlhYPntKBcbiAgICAgICAgLy8gICAgIGlmKHRoaXMucGljdHVyZUl0ZW1baV0uaGl0VGVzdFBvaW50KExheWEuc3RhZ2UubW91c2VYLExheWEuc3RhZ2UubW91c2VZKSAmJiBpdGVtICE9IHRoaXMucGljdHVyZUl0ZW1baV0pe1xuICAgICAgICAvLyAgICAgICAgIC8v5L+u5pS5aXRlbeeahOS9jee9ru+8jOW5tuiusOW9leS9jee9rlxuICAgICAgICAvLyAgICAgICAgIGl0ZW0ueCA9IExheWEuc3RhZ2UubW91c2VYO1xuICAgICAgICAvLyAgICAgICAgIGl0ZW0ueSA9IExheWEuc3RhZ2UubW91c2VZO1xuICAgICAgICAvLyAgICAgICAgIGNvbGxpZGVyT2JqID0gdGhpcy5waWN0dXJlSXRlbVtpXS5uYW1lOyAgICAgICAgICAgICAgICAgXG4gICAgICAgIC8vICAgICAgICAgaWYodGhpcy5waWN0dXJlSXRlbVtpXS5UYWdUeXBlID09IDIgJiYgdGhpcy5waWN0dXJlSXRlbVtpXS5UYWcgPT0gaXRlbS5UYWcpeyAgXG4gICAgICAgIC8vICAgICAgICAgICAgIGZsYWcgPSB0cnVlOyAgICBcbiAgICAgICAgLy8gICAgICAgICAgICAgaXRlbS5vZmZBbGwoKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgLy8gaXRlbS5zcGVjLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgLy8gICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5icmluZ091dEVsZW1lbnQodGhpcy5waWN0dXJlSXRlbVtpXS5FdmVudExpc3QsaXRlbSx7c2VuZGVySWQ6R00uc2VuZGVySWR9KTsgICBcbiAgICAgICAgLy8gICAgICAgICAgICAgLy/mnInlj6/og73kvJrlh7rnjrDmnInlupXlm77lrZjlnKjnmoTmg4XlhrXvvIzmiYDku6XpnIDopoHlvqrnjq/pgY3ljobvvIznrYnliLDov5nkuKppZui/m+adpemCo+WwseS4gOWumuaYr+eisOaSnuWIsOS6hu+8jOmCo+S5n+WwseWPr+S7pemAgOWHumZvcuS6hlxuICAgICAgICAvLyAgICAgICAgICAgICBicmVhazsgICBcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9ICBcbiAgICAgICAgLy8gfSAgIFxuICAgICAgICAvLyBpZighZmxhZyl7XG4gICAgICAgIC8vICAgICBpZihjb2xsaWRlck9iaiAhPSBcIuiDjOaZr1wiKVxuICAgICAgICAvLyAgICAge1xuICAgICAgICAgICAgICAgXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBlbHNle1xuICAgICAgICAvLyAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCgnc291bmQvRXZlbnRzL3NtYWxsRXJyb3JPdXRUaGluZy5tcDMnKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIC8vIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLnBhZ2Vib3guc2VuZEFuc3dlcigxLGl0ZW0ubmFtZSxjb2xsaWRlck9iaixtb3VzZVVwUG9zWCxtb3VzZVVwUG9zWSwxKTtcbiAgICAgICAgLy8gICAgIC8vIHRoaXMudHdlZW5PYmogPSBMYXlhLlR3ZWVuLnRvKGl0ZW0se3g6cG9zdGlvblgseTpwb3N0aW9uWX0sMzAwLExheWEuRWFzZS5saW5lYXJJbixudWxsLDAsdHJ1ZSk7ICAgXG4gICAgICAgIC8vIH0gXG4gICAgICAgIC8vIGVsc2V7ICAgICAgXG4gICAgICAgICAgICAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zZW5kQW5zd2VyKFwicHV6emxlXCIsaXRlbS5uYW1lLG51bGwsbnVsbCxudWxsLGl0ZW0ueCxpdGVtLnksNCk7XG4gICAgICAgICAgICAvLyAgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkucGFnZWJveC5zaG93UGFydGljbGUoTGF5YS5zdGFnZS5tb3VzZVgsTGF5YS5zdGFnZS5tb3VzZVksJ1dpblBhcnRpY2xlLnBhcnQnKTtcbiAgICAgICAgLy8gfVxuICAgIH1cbiAgICBcbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIC8vTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMuZXJyb3JEZXRlY3Rpb24pO1xuICAgICAgICAvL0xheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfT1VULHRoaXMsdGhpcy5lcnJvckRldGVjdGlvbik7XG4gICAgICAgIExheWEudGltZXIuY2xlYXJBbGwodGhpcyk7XG4gICAgICAgIHRoaXMucGljdHVyZUl0ZW0gPSBbXTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9ldmVudHMvcHV6emxlRXZlbnQuanNcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gQ291cnNlL3NyYy9tYWluc2NlbmUvZXZlbnRzL3B1enpsZUV2ZW50LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBO0FBQ0E7Ozs7Ozs7OztBQUpBOzs7OztBQUlBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7OztBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBckxBO0FBQ0E7QUF3TEE7QUFDQTtBQUNBO0FBQ0E7QUE1TEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///30\n");

/***/ }),
/* 31 */
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./Course/src/mainscene/media/gifElement.js ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * gifElement 播放控制\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar gifElement = function (_Laya$Sprite) {\n    _inherits(gifElement, _Laya$Sprite);\n\n    function gifElement(data) {\n        _classCallCheck(this, gifElement);\n\n        var _this = _possibleConstructorReturn(this, (gifElement.__proto__ || Object.getPrototypeOf(gifElement)).call(this));\n\n        _this.name = data.Name; //元素名称   \n        _this.NickName = data.NickName;\n        _this.Animation = data.Animation; //动画  \n        _this.EventList = data.EventList; //元素带出  \n        _this.Position = data.Position; //位置\n        _this.Rotation = data.Rotation; //角度\n        _this.itemWidth = data.Width; //宽\n        _this.itemHeight = data.Height; //高\n        _this.ImgId = data.ImgId; //对应的图片ID\n        _this.TagType = data.TagType; //元素本身事件\n        _this.Tag = data.Tag; //答案区\n        _this.index = data.Index; //index属性\n        _this.DriveType = data.DriveType; //出场属性\n        _this.MirrorX = data.MirrorX; //左右镜像\n        _this.MirrorY = data.MirrorY; //竖直镜像\n        _this.Transparent = data.Transparent / 100; //透明度 1-100\n        _this.MediaId = data.MediaId; //元素视频链接\n        _this.MediaMode = data.MediaMode; //元素多媒体出现状态\n        _this.MediaDelay = data.MediaDelay;\n        _this.MediaUrl = null;\n        _this.itemscaleX = null;\n        _this.itemscaleY = null;\n        _this.skpng = null; //龙骨图片\n        _this.skurl = null; //龙骨json\n        _this.action = data.DefaultAction;\n        _this.Source = null; //数组内的对象\n        _this.AngleGroup = data.AngleGroup; //旋转角度组\n        _this.gifx = null;\n        _this.gifY = null;\n        _this.imageElement = null;\n        _this.init();\n        return _this;\n    }\n\n    _createClass(gifElement, [{\n        key: 'init',\n        value: function init() {\n\n            _init_module.observer.subscribe(\"gifdis\", this.dispose.bind(this));\n            this.gifx = Number(this.Position.split(',')[0]);\n            this.gifY = Number(this.Position.split(',')[1]);\n            this.imageElement = Laya.Browser.createElement(\"img\");\n            // imageElement.src = \"res/gif/\" + this.NickName + \".gif\";\n            if (this.NickName === \"dian_gif\") {\n                // this.imageElement.src = \"res/gif/dian_gif.gif\";\n                this.imageElement.src = \"https://cdn.czbapp.com/multimedia/www/courseware/res/gif/dian_gif.gif\";\n            } else if (this.NickName === \"feng_gif\") {\n                // this.imageElement.src = \"res/gif/feng_gif.gif\";\n                this.imageElement.src = \"https://cdn.czbapp.com/multimedia/www/courseware/res/gif/feng_gif.gif\";\n            } else if (this.NickName === \"qing_gif\") {\n                // this.imageElement.src = \"res/gif/qing_gif.gif\";\n                this.imageElement.src = \"https://cdn.czbapp.com/multimedia/www/courseware/res/gif/qing_gif.gif\";\n            } else if (this.NickName === \"xue_gif\") {\n                // this.imageElement.src = \"res/gif/xue_gif.gif\";\n                this.imageElement.src = \"https://cdn.czbapp.com/multimedia/www/courseware/res/gif/xue_gif.gif\";\n            } else if (this.NickName === \"yu_gif\") {\n                // this.imageElement.src = \"res/gif/yu_gif.gif\";\n                this.imageElement.src = \"https://cdn.czbapp.com/multimedia/www/courseware/res/gif/yu_gif.gif\";\n            }\n\n            // this.imageElement.src = \"https://cdn.czbapp.com/multimedia/www/courseware/res/gif/qing_gif.gif\";\n            console.log(this.imageElement.src);\n            Laya.Browser.document.body.appendChild(this.imageElement);\n            Laya.Utils.fitDOMElementInArea(this.imageElement, Laya.stage, this.gifx, this.gifY, this.itemWidth, this.itemHeight);\n        }\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            if (this.imageElement) {\n                Laya.Browser.document.body.removeChild(this.imageElement);\n                this.imageElement = null;\n            }\n        }\n    }]);\n\n    return gifElement;\n}(Laya.Sprite);\n\nexports.default = gifElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvbWVkaWEvZ2lmRWxlbWVudC5qcz9iMTlmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogZ2lmRWxlbWVudCDmkq3mlL7mjqfliLZcbiAqL1xuXG5pbXBvcnQgeyBvYnNlcnZlcixtZXNzYWdlQ2VudGVyIH0gZnJvbSAnLi4vLi4vbW9kdWxlL2luaXRfbW9kdWxlJzsgXG5pbXBvcnQgUm9vbVNjZW5lIGZyb20gJy4uL3Jvb20nXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBnaWZFbGVtZW50IGV4dGVuZHMgTGF5YS5TcHJpdGV7XG4gICAgY29uc3RydWN0b3IoZGF0YSl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEuTmFtZTsgLy/lhYPntKDlkI3np7AgICBcbiAgICAgICAgdGhpcy5OaWNrTmFtZSA9IGRhdGEuTmlja05hbWUgICAgICAgXG4gICAgICAgIHRoaXMuQW5pbWF0aW9uID0gZGF0YS5BbmltYXRpb247IC8v5Yqo55S7ICBcbiAgICAgICAgdGhpcy5FdmVudExpc3QgPSBkYXRhLkV2ZW50TGlzdDsgIC8v5YWD57Sg5bim5Ye6ICBcbiAgICAgICAgdGhpcy5Qb3NpdGlvbiA9IGRhdGEuUG9zaXRpb247IC8v5L2N572uXG4gICAgICAgIHRoaXMuUm90YXRpb24gPSBkYXRhLlJvdGF0aW9uOyAvL+inkuW6plxuICAgICAgICB0aGlzLml0ZW1XaWR0aCA9IGRhdGEuV2lkdGg7IC8v5a69XG4gICAgICAgIHRoaXMuaXRlbUhlaWdodCA9IGRhdGEuSGVpZ2h0OyAvL+mrmFxuICAgICAgICB0aGlzLkltZ0lkID0gZGF0YS5JbWdJZDsgLy/lr7nlupTnmoTlm77niYdJRFxuICAgICAgICB0aGlzLlRhZ1R5cGUgPSBkYXRhLlRhZ1R5cGU7ICAvL+WFg+e0oOacrOi6q+S6i+S7tlxuICAgICAgICB0aGlzLlRhZyA9IGRhdGEuVGFnOyAvL+etlOahiOWMulxuICAgICAgICB0aGlzLmluZGV4ID0gZGF0YS5JbmRleDsgLy9pbmRleOWxnuaAp1xuICAgICAgICB0aGlzLkRyaXZlVHlwZSA9IGRhdGEuRHJpdmVUeXBlOyAvL+WHuuWcuuWxnuaAp1xuICAgICAgICB0aGlzLk1pcnJvclggPSBkYXRhLk1pcnJvclg7IC8v5bem5Y+z6ZWc5YOPXG4gICAgICAgIHRoaXMuTWlycm9yWSA9IGRhdGEuTWlycm9yWTsgLy/nq5bnm7TplZzlg49cbiAgICAgICAgdGhpcy5UcmFuc3BhcmVudCA9IGRhdGEuVHJhbnNwYXJlbnQgLyAxMDA7IC8v6YCP5piO5bqmIDEtMTAwXG4gICAgICAgIHRoaXMuTWVkaWFJZCA9IGRhdGEuTWVkaWFJZDsgLy/lhYPntKDop4bpopHpk77mjqVcbiAgICAgICAgdGhpcy5NZWRpYU1vZGUgPSBkYXRhLk1lZGlhTW9kZSAgLy/lhYPntKDlpJrlqpLkvZPlh7rnjrDnirbmgIFcbiAgICAgICAgdGhpcy5NZWRpYURlbGF5ID0gZGF0YS5NZWRpYURlbGF5O1xuICAgICAgICB0aGlzLk1lZGlhVXJsID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtc2NhbGVYID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtc2NhbGVZID0gbnVsbDtcbiAgICAgICAgdGhpcy5za3BuZyA9IG51bGw7IC8v6b6Z6aqo5Zu+54mHXG4gICAgICAgIHRoaXMuc2t1cmwgPSBudWxsOyAvL+m+memqqGpzb25cbiAgICAgICAgdGhpcy5hY3Rpb24gPSBkYXRhLkRlZmF1bHRBY3Rpb247XG4gICAgICAgIHRoaXMuU291cmNlID0gbnVsbDsvL+aVsOe7hOWGheeahOWvueixoVxuICAgICAgICB0aGlzLkFuZ2xlR3JvdXAgPSBkYXRhLkFuZ2xlR3JvdXAgOy8v5peL6L2s6KeS5bqm57uEXG4gICAgICAgIHRoaXMuZ2lmeCA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2lmWSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW1hZ2VFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbml0KCk7ICAgIFxuICAgIH1cbiAgICBpbml0KCl7ICAgXG5cbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKFwiZ2lmZGlzXCIsdGhpcy5kaXNwb3NlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmdpZnggPSBOdW1iZXIodGhpcy5Qb3NpdGlvbi5zcGxpdCgnLCcpWzBdKTtcbiAgICAgICAgdGhpcy5naWZZID0gTnVtYmVyKHRoaXMuUG9zaXRpb24uc3BsaXQoJywnKVsxXSlcbiAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQgPSBMYXlhLkJyb3dzZXIuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgLy8gaW1hZ2VFbGVtZW50LnNyYyA9IFwicmVzL2dpZi9cIiArIHRoaXMuTmlja05hbWUgKyBcIi5naWZcIjtcbiAgICAgICAgaWYodGhpcy5OaWNrTmFtZSA9PT0gXCJkaWFuX2dpZlwiKXtcbiAgICAgICAgICAgIC8vIHRoaXMuaW1hZ2VFbGVtZW50LnNyYyA9IFwicmVzL2dpZi9kaWFuX2dpZi5naWZcIjtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VFbGVtZW50LnNyYyA9IFwiaHR0cHM6Ly9jZG4uY3piYXBwLmNvbS9tdWx0aW1lZGlhL3d3dy9jb3Vyc2V3YXJlL3Jlcy9naWYvZGlhbl9naWYuZ2lmXCI7XG4gICAgICAgIH1lbHNlIGlmKHRoaXMuTmlja05hbWUgPT09IFwiZmVuZ19naWZcIil7XG4gICAgICAgICAgICAvLyB0aGlzLmltYWdlRWxlbWVudC5zcmMgPSBcInJlcy9naWYvZmVuZ19naWYuZ2lmXCI7XG4gICAgICAgICAgICB0aGlzLmltYWdlRWxlbWVudC5zcmMgPSBcImh0dHBzOi8vY2RuLmN6YmFwcC5jb20vbXVsdGltZWRpYS93d3cvY291cnNld2FyZS9yZXMvZ2lmL2ZlbmdfZ2lmLmdpZlwiO1xuICAgICAgICB9ZWxzZSBpZih0aGlzLk5pY2tOYW1lID09PSBcInFpbmdfZ2lmXCIpe1xuICAgICAgICAgICAgLy8gdGhpcy5pbWFnZUVsZW1lbnQuc3JjID0gXCJyZXMvZ2lmL3FpbmdfZ2lmLmdpZlwiO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQuc3JjID0gXCJodHRwczovL2Nkbi5jemJhcHAuY29tL211bHRpbWVkaWEvd3d3L2NvdXJzZXdhcmUvcmVzL2dpZi9xaW5nX2dpZi5naWZcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHRoaXMuTmlja05hbWUgPT09IFwieHVlX2dpZlwiKXtcbiAgICAgICAgICAgIC8vIHRoaXMuaW1hZ2VFbGVtZW50LnNyYyA9IFwicmVzL2dpZi94dWVfZ2lmLmdpZlwiO1xuICAgICAgICAgICAgIHRoaXMuaW1hZ2VFbGVtZW50LnNyYyA9IFwiaHR0cHM6Ly9jZG4uY3piYXBwLmNvbS9tdWx0aW1lZGlhL3d3dy9jb3Vyc2V3YXJlL3Jlcy9naWYveHVlX2dpZi5naWZcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHRoaXMuTmlja05hbWUgPT09IFwieXVfZ2lmXCIpe1xuICAgICAgICAgICAgLy8gdGhpcy5pbWFnZUVsZW1lbnQuc3JjID0gXCJyZXMvZ2lmL3l1X2dpZi5naWZcIjtcbiAgICAgICAgICAgICB0aGlzLmltYWdlRWxlbWVudC5zcmMgPSBcImh0dHBzOi8vY2RuLmN6YmFwcC5jb20vbXVsdGltZWRpYS93d3cvY291cnNld2FyZS9yZXMvZ2lmL3l1X2dpZi5naWZcIjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gdGhpcy5pbWFnZUVsZW1lbnQuc3JjID0gXCJodHRwczovL2Nkbi5jemJhcHAuY29tL211bHRpbWVkaWEvd3d3L2NvdXJzZXdhcmUvcmVzL2dpZi9xaW5nX2dpZi5naWZcIjtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5pbWFnZUVsZW1lbnQuc3JjKSBcbiAgICAgICAgTGF5YS5Ccm93c2VyLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5pbWFnZUVsZW1lbnQpOyBcbiAgICAgICAgTGF5YS5VdGlscy5maXRET01FbGVtZW50SW5BcmVhKHRoaXMuaW1hZ2VFbGVtZW50LExheWEuc3RhZ2UgLHRoaXMuZ2lmeCx0aGlzLmdpZlksIHRoaXMuaXRlbVdpZHRoICwgIHRoaXMuaXRlbUhlaWdodCk7IFxuICAgICAgXG4gICAgfVxuICAgXG5cbiAgICBkaXNwb3NlKCl7XG4gICAgICAgIGlmKHRoaXMuaW1hZ2VFbGVtZW50KXtcbiAgICAgICAgICBMYXlhLkJyb3dzZXIuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmltYWdlRWxlbWVudCk7XG4gICAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQgPSBudWxsOyBcbiAgICAgICAgfVxuICAgICAgICAgXG4gICAgfVxuXG4gIFxuICAgXG59XG5cblxuICAgICAgIFxuICAgICAgIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBDb3Vyc2Uvc3JjL21haW5zY2VuZS9tZWRpYS9naWZFbGVtZW50LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUlBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFOQTs7OztBQU1BOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoQ0E7QUFpQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBM0VBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///31\n");

/***/ }),
/* 32 */
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./Course/src/mainscene/media/vedioIcon.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _room = __webpack_require__(/*! ../room */ 1);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * vedioicon 视频控制\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar vedioIcon = function (_Laya$Sprite) {\n    _inherits(vedioIcon, _Laya$Sprite);\n\n    function vedioIcon() {\n        _classCallCheck(this, vedioIcon);\n\n        return _possibleConstructorReturn(this, (vedioIcon.__proto__ || Object.getPrototypeOf(vedioIcon)).call(this));\n    }\n\n    _createClass(vedioIcon, [{\n        key: 'init',\n        value: function init(url) {\n            _init_module.messageCenter.emit(\"playVideo\", { senderId: GM.senderId, type: \"open\", url: url });\n            //创建div放置视频和关闭按钮\n            var divElement = Laya.Browser.createElement(\"div\");\n            divElement.className = \"div\";\n            Laya.Browser.document.body.appendChild(divElement);\n            Laya.Utils.fitDOMElementInArea(divElement, _room2.default.getInstance(), 0, 0, _room2.default.getInstance().width, _room2.default.getInstance().height);\n            // 创建Video元素\n            var videoElement = Laya.Browser.createElement(\"video\");\n            // videoElement.muted = true;\n            divElement.appendChild(videoElement);\n            // 设置Video元素地样式和属性\n            videoElement.style.zInddex = Laya.Render.canvas.style.zIndex + 1;\n            videoElement.src = url;\n            videoElement.type = \"vedio/mp4\";\n            // let sourceElement = Laya.Browser.createElement(\"source\"); \n            // sourceElement.type = \"vedio/mp4\";\n            // sourceElement.src = url;   \n            // videoElement.appendChild(sourceElement);      \n            videoElement.play();\n            Laya.Utils.fitDOMElementInArea(videoElement, _room2.default.getInstance(), 0, 0, _room2.default.getInstance().width, _room2.default.getInstance().height);\n            // videoElement.addEventListener(\"ended\",function(){\n            //      Laya.Browser.document.body.removeChild(divElement);         \n            // },false);\n\n            // 创建关闭按钮\n            var buttonElement = Laya.Browser.createElement(\"div\");\n            buttonElement.className = \"button\";\n            divElement.appendChild(buttonElement);\n            buttonElement.onclick = function () {\n                Laya.Browser.document.body.removeChild(divElement);\n                _init_module.messageCenter.emit(\"playVideo\", { senderId: GM.senderId, type: \"close\", url: url });\n            };\n            videoElement.style.transform = videoElement.style.webkitTransform = \"scale(1,1)\";\n            Laya.Utils.fitDOMElementInArea(buttonElement, _room2.default.getInstance(), 20, 20, 96, 96);\n        }\n    }]);\n\n    return vedioIcon;\n}(Laya.Sprite);\n\nexports.default = vedioIcon;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tYWluc2NlbmUvbWVkaWEvdmVkaW9JY29uLmpzPzA3MjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiB2ZWRpb2ljb24g6KeG6aKR5o6n5Yi2XG4gKi9cbmltcG9ydCB7IG9ic2VydmVyLG1lc3NhZ2VDZW50ZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnOyBcbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi4vcm9vbSdcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHZlZGlvSWNvbiBleHRlbmRzIExheWEuU3ByaXRle1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIGluaXQodXJsKXtcbiAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwicGxheVZpZGVvXCIse3NlbmRlcklkOkdNLnNlbmRlcklkLHR5cGU6XCJvcGVuXCIsdXJsOnVybH0pXG4gICAgICAgIC8v5Yib5bu6ZGl25pS+572u6KeG6aKR5ZKM5YWz6Zet5oyJ6ZKuXG4gICAgICAgIGxldCBkaXZFbGVtZW50ID0gTGF5YS5Ccm93c2VyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdkVsZW1lbnQuY2xhc3NOYW1lID0gXCJkaXZcIjtcbiAgICAgICAgTGF5YS5Ccm93c2VyLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudCk7IFxuICAgICAgICBMYXlhLlV0aWxzLmZpdERPTUVsZW1lbnRJbkFyZWEoZGl2RWxlbWVudCxSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKSAsIDAsIDAsIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLndpZHRoLCBSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKS5oZWlnaHQpOyBcbiAgICAgICAgLy8g5Yib5bu6VmlkZW/lhYPntKBcbiAgICAgICAgbGV0IHZpZGVvRWxlbWVudCA9IExheWEuQnJvd3Nlci5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XG4gICAgICAgIC8vIHZpZGVvRWxlbWVudC5tdXRlZCA9IHRydWU7XG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQodmlkZW9FbGVtZW50KTsgICBcbiAgICAgICAgIC8vIOiuvue9rlZpZGVv5YWD57Sg5Zyw5qC35byP5ZKM5bGe5oCnXG4gICAgICAgIHZpZGVvRWxlbWVudC5zdHlsZS56SW5kZGV4ID0gTGF5YS5SZW5kZXIuY2FudmFzLnN0eWxlLnpJbmRleCArIDE7XG4gICAgICAgIHZpZGVvRWxlbWVudC5zcmMgPSB1cmw7ICAgXG4gICAgICAgIHZpZGVvRWxlbWVudC50eXBlID0gXCJ2ZWRpby9tcDRcIjtcbiAgICAgICAgLy8gbGV0IHNvdXJjZUVsZW1lbnQgPSBMYXlhLkJyb3dzZXIuY3JlYXRlRWxlbWVudChcInNvdXJjZVwiKTsgXG4gICAgICAgIC8vIHNvdXJjZUVsZW1lbnQudHlwZSA9IFwidmVkaW8vbXA0XCI7XG4gICAgICAgIC8vIHNvdXJjZUVsZW1lbnQuc3JjID0gdXJsOyAgIFxuICAgICAgICAvLyB2aWRlb0VsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlRWxlbWVudCk7ICAgICAgXG4gICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCk7ICAgIFxuICAgICAgICBMYXlhLlV0aWxzLmZpdERPTUVsZW1lbnRJbkFyZWEodmlkZW9FbGVtZW50LFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpICwgMCwgMCwgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkud2lkdGgsIFJvb21TY2VuZS5nZXRJbnN0YW5jZSgpLmhlaWdodCk7IFxuICAgICAgICAvLyB2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gICAgICBMYXlhLkJyb3dzZXIuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXZFbGVtZW50KTsgICAgICAgICBcbiAgICAgICAgLy8gfSxmYWxzZSk7XG5cbiAgICAgICAgLy8g5Yib5bu65YWz6Zet5oyJ6ZKuXG4gICAgICAgIGxldCBidXR0b25FbGVtZW50ID0gTGF5YS5Ccm93c2VyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NOYW1lID0gXCJidXR0b25cIjsgICAgXG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQub25jbGljayA9ICgpPT57XG4gICAgICAgICAgICBMYXlhLkJyb3dzZXIuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXZFbGVtZW50KTtcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcInBsYXlWaWRlb1wiLHtzZW5kZXJJZDpHTS5zZW5kZXJJZCx0eXBlOlwiY2xvc2VcIix1cmw6dXJsfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmlkZW9FbGVtZW50LnN0eWxlLnRyYW5zZm9ybT12aWRlb0VsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwic2NhbGUoMSwxKVwiO1xuICAgICAgICBMYXlhLlV0aWxzLmZpdERPTUVsZW1lbnRJbkFyZWEoYnV0dG9uRWxlbWVudCxSb29tU2NlbmUuZ2V0SW5zdGFuY2UoKSwgMjAsIDIwLCA5NiwgOTYpOyAgICBcbiAgICB9XG5cbiAgXG4gICBcbn1cblxuICAgICAgXG4gICAgICAgXG4gICAgICAgXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvbWFpbnNjZW5lL21lZGlhL3ZlZGlvSWNvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7O0FBTEE7Ozs7O0FBS0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBdkNBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32\n");

/***/ }),
/* 33 */
/* no static exports found */
/* all exports used */
/*!************************************************!*\
  !*** ./Course/src/module/com/messageCenter.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.MessageCenterModule = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n//io\n\nvar _init_module = __webpack_require__(/*! ../init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MessageCenterModule = exports.MessageCenterModule = function () {\n    function MessageCenterModule() {\n        _classCallCheck(this, MessageCenterModule);\n\n        this.ajaxTimeout = 30000;\n        this.registedAction = {};\n        this.sendSucess = true; //发送成功\n        this.tryNum = 0; //尝试次数\n    }\n\n    //注册\n\n\n    _createClass(MessageCenterModule, [{\n        key: \"registerAction\",\n        value: function registerAction(key, callback) {\n            if (typeof callback === \"function\") {\n                this.registedAction[key] = callback;\n            }\n\n            return this;\n        }\n\n        //取消注册\n\n    }, {\n        key: \"unRegisterAction\",\n        value: function unRegisterAction(key) {\n            if (typeof this.registedAction[key] !== \"undefined\") {\n                delete this.registedAction[key];\n            }\n\n            return this;\n        }\n\n        //触发\n\n    }, {\n        key: \"dispatchAction\",\n        value: function dispatchAction(key, data, type) {\n            var callback = this.registedAction[key];\n            if (typeof callback === \"function\") {\n                callback(data);\n            } else {\n                //未注册过的行为静默失败，给出提示\n                console.log(\"未注册行为：\" + key, data);\n            }\n        }\n\n        //获取数据\n\n    }, {\n        key: \"emit\",\n        value: function emit(key, type, params, callback) {\n            // 说明未登录\n            if (typeof type === 'function') {\n                callback = type;\n            }\n            if ((typeof type === \"undefined\" ? \"undefined\" : _typeof(type)) === 'object') {\n                params = type;\n            }\n            //注册\n            this.registerAction(key, callback);\n\n            if (type === \"ajax\") {\n                this.emitAjax(key, params);\n            } else {\n                var msg = void 0;\n                if (key === \"startLoad\") {\n                    msg = \"startLoad\";\n                    this.poststartLoad(msg);\n                } else {\n                    msg = JSON.stringify({ cmd: key, data: params });\n\n                    if (key === \"mousemove\" || key === \"mouseclick\" || key === \"sendAnswer\" || key === \"reanswer\" || key === \"soundList\" || key === \"playsound\" || key === \"playmusic\" || key === \"console\" || key === \"newpage\" || key === \"getPage\") {\n                        this.postMessageApp(msg);\n                    } else {\n                        // this.postMessageApp(msg); \n                        // //将数据存入列表\n                        GM.messageList.push(msg);\n                        // console.log(\"推入数据\", GM.messageList)\n                        //查看当前是否有消息正在发送，如果没有则立即开启发送数据\n                        if (this.sendSucess) {\n                            Laya.timer.clear(this, this.sendMessage);\n                            this.sendMessage(GM.messageList.shift());\n                        }\n                    }\n                }\n            }\n        }\n        //取出列表中的第一条并发送\n        //每次发送第一条数据，如果3秒后没有回复，则再发一次(最好能通知外端，检测网络)。如果还没有则丢弃不管。但在这个过程中socket断了的话，先停止发送，等连上了继续发送\n        //发送数据\n\n    }, {\n        key: \"sendMessage\",\n        value: function sendMessage(msg) {\n            this.sendSucess = false;\n            this.tryNum++;\n            // console.log(\"发送数据：\" , msg);\n            this.postMessageApp(msg);\n\n            if (this.tryNum >= 2) {\n                this.sendSucess = true;\n                this.tryNum = 0;\n                //开启下一条的数据发送\n                Laya.timer.clear(this, this.sendMessage);\n                if (GM.messageList.length != 0) {\n                    this.sendMessage(GM.messageList.shift());\n                }\n            } else {\n                //如果中途socket没有断掉，则自己再尝试一次\n                Laya.timer.once(3000, this, this.sendMessage, [msg]);\n            }\n        }\n        //ack回应函数\n\n    }, {\n        key: \"ackOperation\",\n        value: function ackOperation(data) {\n            //只要有ack回应，直接去发送下一条\n            //当前简易操作，不需要多余操作了\n            this.socketOnOperation();\n        }\n\n        //socket断掉后的等待\n\n    }, {\n        key: \"socketOffWait\",\n        value: function socketOffWait() {\n            //停止发送\n            this.sendSucess = false;\n            Laya.timer.clear(this, this.sendMessage);\n        }\n        //socket连接后重新发送\n\n    }, {\n        key: \"socketOnOperation\",\n        value: function socketOnOperation() {\n            //开始发送\n            this.sendSucess = true;\n            this.tryNum = 0;\n            Laya.timer.clear(this, this.sendMessage);\n            //开启下一条的数据发送\n            if (GM.messageList.length != 0) {\n                this.sendMessage(GM.messageList.shift());\n            }\n        }\n\n        //获取ajax数据\n\n    }, {\n        key: \"emitAjax\",\n        value: function emitAjax(key, params) {\n            var self = this;\n            window.$.ajax({\n                type: 'GET',\n                url: GM._url,\n                headers: {\n                    token: GM.token\n                },\n                timeout: 30000,\n                success: function success(response) {\n                    response = response || {};\n                    self.dispatchAction(key, response, \"ajax\");\n                },\n                error: function error() {\n                    //异常处理\n                    _init_module.observer.publish('common::tips');\n                }\n            });\n        }\n        //向外部发送数据\n\n    }, {\n        key: \"postMessageApp\",\n        value: function postMessageApp(msg) {\n            try {\n                console.log(\"发送数据：\", msg);\n                if (GM.isFrameInWeb) {\n                    var source = GM.rootWindow;\n                    var origin = GM.rootURL;\n                    if (source && origin) {\n                        source.postMessage(msg, origin);\n                        console.log(\"this is Web\");\n                    } else {\n                        console.log(\"source is undefined\");\n                    }\n                } else {\n                    if (GM.vsFrom === \"apad\") {\n                        window.czb.callAndroid(msg);\n                    } else if (GM.vsFrom === \"ipad\") {\n                        window.webkit.messageHandlers.jsCallNative.postMessage(msg);\n                    } else if (GM.vsFrom === \"IosApp\" || GM.vsFrom === \"AndroidApp\") {\n                        window.postMessage(msg, '*');\n                    }\n                }\n            } catch (e) {\n                console.log(e);\n            }\n        }\n        //通知外部加载进来\n\n    }, {\n        key: \"poststartLoad\",\n        value: function poststartLoad(msg) {\n            try {\n                if (Laya.Browser.onAndriod) {\n                    window.czb.startLoad(msg);\n                } else if (Laya.Browser.onIOS) {\n                    if (GM.vsFrom === \"ipad\") {\n                        window.webkit.messageHandlers.jsCallNative.postMessage({ 'name': 'startLoad' });\n                    }\n                }\n            } catch (e) {\n                console.log(e);\n            }\n        }\n\n        //判断音频是否外部播放\n\n    }, {\n        key: \"soundoutPlay\",\n        value: function soundoutPlay() {\n            if (GM.vsFrom === \"IosApp\" || GM.vsFrom === \"AndroidApp\" || GM.vsFrom === \"apad\" || GM.vsFrom === \"ipad\") return true;\n        }\n    }]);\n\n    return MessageCenterModule;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tb2R1bGUvY29tL21lc3NhZ2VDZW50ZXIuanM/ZTllNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vaW9cblxuaW1wb3J0IHsgb2JzZXJ2ZXIgfSBmcm9tICcuLi9pbml0X21vZHVsZSc7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlQ2VudGVyTW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hamF4VGltZW91dCA9IDMwMDAwOyAgICAgICBcbiAgICAgICAgdGhpcy5yZWdpc3RlZEFjdGlvbiA9IHt9O1xuICAgICAgICB0aGlzLnNlbmRTdWNlc3MgPSB0cnVlOyAvL+WPkemAgeaIkOWKn1xuICAgICAgICB0aGlzLnRyeU51bSA9IDA7Ly/lsJ3or5XmrKHmlbBcbiAgICB9XG5cbiAgICAvL+azqOWGjFxuICAgIHJlZ2lzdGVyQWN0aW9uKGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVkQWN0aW9uW2tleV0gPSBjYWxsYmFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8v5Y+W5raI5rOo5YaMXG4gICAgdW5SZWdpc3RlckFjdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlZ2lzdGVkQWN0aW9uW2tleV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlZ2lzdGVkQWN0aW9uW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvL+inpuWPkVxuICAgIGRpc3BhdGNoQWN0aW9uKGtleSwgZGF0YSwgdHlwZSkge1xuICAgICAgICBsZXQgY2FsbGJhY2sgPSB0aGlzLnJlZ2lzdGVkQWN0aW9uW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL+acquazqOWGjOi/h+eahOihjOS4uumdmem7mOWksei0pe+8jOe7meWHuuaPkOekulxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLmnKrms6jlhozooYzkuLrvvJpcIiArIGtleSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL+iOt+WPluaVsOaNrlxuICAgIGVtaXQoa2V5LCB0eXBlLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIOivtOaYjuacqueZu+W9lVxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSB0eXBlO1xuICAgICAgICB9XG4gICAgICAgIC8v5rOo5YaMXG4gICAgICAgIHRoaXMucmVnaXN0ZXJBY3Rpb24oa2V5LCBjYWxsYmFjayk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IFwiYWpheFwiKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRBamF4KGtleSwgcGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIHsgICBcbiAgICAgICAgICAgIGxldCBtc2c7ICAgXG4gICAgICAgICAgICBpZihrZXkgPT09IFwic3RhcnRMb2FkXCIpe1xuICAgICAgICAgICAgICAgICBtc2cgPSBcInN0YXJ0TG9hZFwiOyBcbiAgICAgICAgICAgICAgICAgdGhpcy5wb3N0c3RhcnRMb2FkKG1zZylcbiAgICAgICAgICAgIH1lbHNleyAgIFxuICAgICAgICAgICAgICAgICBtc2cgPSBKU09OLnN0cmluZ2lmeSh7Y21kOiBrZXksZGF0YTogcGFyYW1zfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgIGlmKGtleSA9PT0gXCJtb3VzZW1vdmVcIiB8fCBrZXkgPT09IFwibW91c2VjbGlja1wiIHx8IGtleSA9PT0gXCJzZW5kQW5zd2VyXCIgfHwga2V5ID09PSBcInJlYW5zd2VyXCIgfHwga2V5ID09PSBcInNvdW5kTGlzdFwiIHx8IGtleSA9PT0gXCJwbGF5c291bmRcIiB8fCBrZXkgPT09IFwicGxheW11c2ljXCIgfHwga2V5ID09PSBcImNvbnNvbGVcIiB8fCBrZXkgPT09IFwibmV3cGFnZVwiIHx8IGtleSA9PT0gXCJnZXRQYWdlXCIpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlQXBwKG1zZyk7IFxuICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnBvc3RNZXNzYWdlQXBwKG1zZyk7IFxuICAgICAgICAgICAgICAgICAgICAvLyAvL+WwhuaVsOaNruWtmOWFpeWIl+ihqFxuICAgICAgICAgICAgICAgICAgICBHTS5tZXNzYWdlTGlzdC5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5o6o5YWl5pWw5o2uXCIsIEdNLm1lc3NhZ2VMaXN0KVxuICAgICAgICAgICAgICAgICAgICAvL+afpeeci+W9k+WJjeaYr+WQpuaciea2iOaBr+ato+WcqOWPkemAge+8jOWmguaenOayoeacieWImeeri+WNs+W8gOWQr+WPkemAgeaVsOaNrlxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNlbmRTdWNlc3Mpe1xuICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLHRoaXMuc2VuZE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShHTS5tZXNzYWdlTGlzdC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSAgIFxuICAgICAgICB9XG4gICAgfVxuICAgIC8v5Y+W5Ye65YiX6KGo5Lit55qE56ys5LiA5p2h5bm25Y+R6YCBXG4gICAgLy/mr4/mrKHlj5HpgIHnrKzkuIDmnaHmlbDmja7vvIzlpoLmnpwz56eS5ZCO5rKh5pyJ5Zue5aSN77yM5YiZ5YaN5Y+R5LiA5qyhKOacgOWlveiDvemAmuefpeWkluerr++8jOajgOa1i+e9kee7nCnjgILlpoLmnpzov5jmsqHmnInliJnkuKLlvIPkuI3nrqHjgILkvYblnKjov5nkuKrov4fnqIvkuK1zb2NrZXTmlq3kuobnmoTor53vvIzlhYjlgZzmraLlj5HpgIHvvIznrYnov57kuIrkuobnu6fnu63lj5HpgIFcbiAgICAvL+WPkemAgeaVsOaNrlxuICAgIHNlbmRNZXNzYWdlKG1zZyl7XG4gICAgICAgIHRoaXMuc2VuZFN1Y2VzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyeU51bSsrO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWPkemAgeaVsOaNru+8mlwiICwgbXNnKTtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZUFwcChtc2cpOyBcbiAgICAgICAgXG4gICAgICAgIGlmKHRoaXMudHJ5TnVtID49IDIpe1xuICAgICAgICAgICAgdGhpcy5zZW5kU3VjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJ5TnVtID0gMDtcbiAgICAgICAgICAgIC8v5byA5ZCv5LiL5LiA5p2h55qE5pWw5o2u5Y+R6YCBXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsdGhpcy5zZW5kTWVzc2FnZSk7XG4gICAgICAgICAgICBpZihHTS5tZXNzYWdlTGlzdC5sZW5ndGggIT0gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShHTS5tZXNzYWdlTGlzdC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgLy/lpoLmnpzkuK3pgJRzb2NrZXTmsqHmnInmlq3mjonvvIzliJnoh6rlt7Hlho3lsJ3or5XkuIDmrKFcbiAgICAgICAgICAgIExheWEudGltZXIub25jZSgzMDAwLHRoaXMsdGhpcy5zZW5kTWVzc2FnZSxbbXNnXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy9hY2vlm57lupTlh73mlbBcbiAgICBhY2tPcGVyYXRpb24oZGF0YSl7XG4gICAgICAgIC8v5Y+q6KaB5pyJYWNr5Zue5bqU77yM55u05o6l5Y675Y+R6YCB5LiL5LiA5p2hXG4gICAgICAgIC8v5b2T5YmN566A5piT5pON5L2c77yM5LiN6ZyA6KaB5aSa5L2Z5pON5L2c5LqGXG4gICAgICAgIHRoaXMuc29ja2V0T25PcGVyYXRpb24oKTtcbiAgICB9XG5cbiAgICAvL3NvY2tldOaWreaOieWQjueahOetieW+hVxuICAgIHNvY2tldE9mZldhaXQoKXtcbiAgICAgICAgLy/lgZzmraLlj5HpgIFcbiAgICAgICAgdGhpcy5zZW5kU3VjZXNzID0gZmFsc2U7XG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyx0aGlzLnNlbmRNZXNzYWdlKTtcbiAgICB9XG4gICAgLy9zb2NrZXTov57mjqXlkI7ph43mlrDlj5HpgIFcbiAgICBzb2NrZXRPbk9wZXJhdGlvbigpe1xuICAgICAgICAvL+W8gOWni+WPkemAgVxuICAgICAgICB0aGlzLnNlbmRTdWNlc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLnRyeU51bSA9IDA7XG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyx0aGlzLnNlbmRNZXNzYWdlKTtcbiAgICAgICAgLy/lvIDlkK/kuIvkuIDmnaHnmoTmlbDmja7lj5HpgIFcbiAgICAgICAgaWYoR00ubWVzc2FnZUxpc3QubGVuZ3RoICE9IDApe1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShHTS5tZXNzYWdlTGlzdC5zaGlmdCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8v6I635Y+WYWpheOaVsOaNrlxuICAgIGVtaXRBamF4KGtleSwgcGFyYW1zKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpczsgXG4gICAgICAgIHdpbmRvdy4kLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgIHVybDogR00uX3VybCwgICAgICAgICAgIFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIHRva2VuOkdNLnRva2VuLCAgICAgIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlc3BvbnNlIHx8IHt9O1xuICAgICAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hBY3Rpb24oa2V5LCByZXNwb25zZSwgXCJhamF4XCIpOyAgICAgICAgICAgXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8v5byC5bi45aSE55CGXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnY29tbW9uOjp0aXBzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIFxuICAgIH1cbiAgICAvL+WQkeWklumDqOWPkemAgeaVsOaNrlxuICAgIHBvc3RNZXNzYWdlQXBwKG1zZyl7ICAgICBcbiAgICAgICAgdHJ5eyAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPkemAgeaVsOaNru+8mlwiICwgbXNnKTsgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKEdNLmlzRnJhbWVJbldlYil7ICAgIFxuICAgICAgICAgICAgICAgIGxldCBzb3VyY2UgPSBHTS5yb290V2luZG93O1xuICAgICAgICAgICAgICAgIGxldCBvcmlnaW4gPSBHTS5yb290VVJMO1xuICAgICAgICAgICAgICAgIGlmKHNvdXJjZSAmJiBvcmlnaW4pe1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2UucG9zdE1lc3NhZ2UobXNnLG9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBXZWJcIik7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic291cmNlIGlzIHVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGlmKEdNLnZzRnJvbSA9PT0gXCJhcGFkXCIpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY3piLmNhbGxBbmRyb2lkKG1zZykgICAgICAgIFxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKEdNLnZzRnJvbSA9PT0gXCJpcGFkXCIpeyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LndlYmtpdC5tZXNzYWdlSGFuZGxlcnMuanNDYWxsTmF0aXZlLnBvc3RNZXNzYWdlKG1zZyk7ICAgXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoR00udnNGcm9tID09PSBcIklvc0FwcFwiIHx844CAR00udnNGcm9tID09PSBcIkFuZHJvaWRBcHBcIil7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShtc2csJyonKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL+mAmuefpeWklumDqOWKoOi9vei/m+adpVxuICAgIHBvc3RzdGFydExvYWQobXNnKXtcbiAgICAgICAgdHJ5e1xuICAgICAgICAgIGlmKExheWEuQnJvd3Nlci5vbkFuZHJpb2Qpe1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jemIuc3RhcnRMb2FkKG1zZyk7XG4gICAgICAgICAgfWVsc2UgaWYoTGF5YS5Ccm93c2VyLm9uSU9TKXsgICBcbiAgICAgICAgICAgICAgaWYoR00udnNGcm9tID09PSBcImlwYWRcIil7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0Lm1lc3NhZ2VIYW5kbGVycy5qc0NhbGxOYXRpdmUucG9zdE1lc3NhZ2UoeyduYW1lJzonc3RhcnRMb2FkJ30pOyBcbiAgICAgICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgfVxuICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfSAgICAgXG4gICAgfVxuXG4gICAgLy/liKTmlq3pn7PpopHmmK/lkKblpJbpg6jmkq3mlL5cbiAgICBzb3VuZG91dFBsYXkoKXsgICAgXG4gICAgICAgIGlmKEdNLnZzRnJvbSA9PT0gXCJJb3NBcHBcIiB8fOOAgEdNLnZzRnJvbSA9PT0gXCJBbmRyb2lkQXBwXCIgfHwgR00udnNGcm9tID09PSBcImFwYWRcIiB8fCBHTS52c0Zyb20gPT09IFwiaXBhZFwiKXJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvbW9kdWxlL2NvbS9tZXNzYWdlQ2VudGVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQWlCQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n");

/***/ }),
/* 34 */
/* no static exports found */
/* all exports used */
/*!*******************************************!*\
  !*** ./Course/src/module/com/observer.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//观察者\nvar ObserverModule = exports.ObserverModule = function () {\n    function ObserverModule() {\n        _classCallCheck(this, ObserverModule);\n\n        //订阅者的引用\n        this.subscribers = {};\n        this.reflag = false;\n    }\n\n    //发布\n\n\n    _createClass(ObserverModule, [{\n        key: \"publish\",\n        value: function publish(type) {\n            var _subscribers = this.subscribers[type];\n            if (_subscribers) {\n                for (var _len = arguments.length, data = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                    data[_key - 1] = arguments[_key];\n                }\n\n                for (var i = 0; i < _subscribers.length; i++) {\n                    _subscribers[i].apply(_subscribers, data);\n                }\n            } else {\n                // console.log('未观察事件： ', type);\n            }\n\n            return this;\n        }\n\n        //订阅\n\n    }, {\n        key: \"subscribe\",\n        value: function subscribe(type, handler) {\n            if (this.subscribers[type] === undefined) {\n                this.subscribers[type] = [];\n            }\n            if (type === \"playSound\" || type === \"stopAudio\") {\n                if (!this.reflag) {\n                    this.reflag = true;\n                    this.subscribers[type].push(handler);\n                }\n            } else {\n                this.subscribers[type].push(handler);\n            }\n            return this;\n        }\n\n        //取消订阅\n        //如果传递了handler，只取消该订阅，否则取消全部订阅\n\n    }, {\n        key: \"unsubscribe\",\n        value: function unsubscribe(type, handler) {\n            var _subscribers = this.subscribers[type];\n            if (_subscribers) {\n                if (handler) {\n                    for (var i = _subscribers.length - 1; i >= 0; i--) {\n                        if (handler === _subscribers[i]) {\n                            _subscribers.splice(i, 1);\n                            break;\n                        }\n                    }\n                } else {\n                    for (var _i = _subscribers.length - 1; _i >= 0; _i--) {\n                        _subscribers.splice(_i, 1);\n                    }\n                }\n            }\n\n            return this;\n        }\n    }]);\n\n    return ObserverModule;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tb2R1bGUvY29tL29ic2VydmVyLmpzPzRkOTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy/op4Llr5/ogIVcbmV4cG9ydCBjbGFzcyBPYnNlcnZlck1vZHVsZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8v6K6i6ZiF6ICF55qE5byV55SoXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5yZWZsYWcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvL+WPkeW4g1xuICAgIHB1Ymxpc2godHlwZSwgLi4uZGF0YSkge1xuICAgICAgICBsZXQgX3N1YnNjcmliZXJzID0gdGhpcy5zdWJzY3JpYmVyc1t0eXBlXTtcbiAgICAgICAgaWYgKF9zdWJzY3JpYmVycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfc3Vic2NyaWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBfc3Vic2NyaWJlcnNbaV0oLi4uZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygn5pyq6KeC5a+f5LqL5Lu277yaICcsIHR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy/orqLpmIVcbiAgICBzdWJzY3JpYmUodHlwZSwgaGFuZGxlcikge1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzW3R5cGVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZSA9PT0gXCJwbGF5U291bmRcIiB8fCB0eXBlID09PSBcInN0b3BBdWRpb1wiKXtcbiAgICAgICAgICAgICAgaWYoIXRoaXMucmVmbGFnKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1t0eXBlXS5wdXNoKGhhbmRsZXIpOyAgICAgICBcbiAgICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzW3R5cGVdLnB1c2goaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy/lj5bmtojorqLpmIVcbiAgICAvL+WmguaenOS8oOmAkuS6hmhhbmRsZXLvvIzlj6rlj5bmtojor6XorqLpmIXvvIzlkKbliJnlj5bmtojlhajpg6jorqLpmIVcbiAgICB1bnN1YnNjcmliZSh0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIGxldCBfc3Vic2NyaWJlcnMgPSB0aGlzLnN1YnNjcmliZXJzW3R5cGVdO1xuICAgICAgICBpZiAoX3N1YnNjcmliZXJzKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBfc3Vic2NyaWJlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIgPT09IF9zdWJzY3JpYmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N1YnNjcmliZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gX3N1YnNjcmliZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zdWJzY3JpYmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvbW9kdWxlL2NvbS9vYnNlcnZlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUZBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///34\n");

/***/ }),
/* 35 */
/* no static exports found */
/* all exports used */
/*!***********************************************!*\
  !*** ./Course/src/module/com/sceneManager.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SceneManagerModule = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//场景管理模块\nvar SceneManagerModule = exports.SceneManagerModule = function () {\n    function SceneManagerModule() {\n        _classCallCheck(this, SceneManagerModule);\n\n        this.currentScene = null;\n        this.nextScene = null;\n    }\n\n    //加载场景\n\n\n    _createClass(SceneManagerModule, [{\n        key: \"loadScene\",\n        value: function loadScene(sceneobj) {\n            this.nextScene = sceneobj || this.nextScene;\n\n            //如果当前场景不为空，那么调用当前场景的退出功能，并且订阅当前场景退出事件，以便触发loadNextScene加载下一个需要加载的场景\n            if (this.currentScene != null) {\n                _init_module.observer.subscribe(this.currentScene.sceneName + \"_exit\", this.loadNextScene.bind(this));\n                this.currentScene.onExit();\n            } else {\n                this.currentScene = this.nextScene;\n                //添加到stage上\n                Laya.stage.addChild(this.currentScene);\n                //发布场景加载事件\n                _init_module.observer.publish(this.currentScene.sceneName + \"_enter\");\n            }\n        }\n\n        //加载下一个场景\n\n    }, {\n        key: \"loadNextScene\",\n        value: function loadNextScene() {\n            //取消订阅\n            _init_module.observer.unsubscribe(this.currentScene.sceneName + \"_exit\");\n            //将当前场景置空\n            this.currentScene = null;\n            this.loadScene();\n        }\n    }]);\n\n    return SceneManagerModule;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQ291cnNlL3NyYy9tb2R1bGUvY29tL3NjZW5lTWFuYWdlci5qcz8xZDlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSAnLi4vaW5pdF9tb2R1bGUnO1xuXG4vL+WcuuaZr+euoeeQhuaooeWdl1xuZXhwb3J0IGNsYXNzIFNjZW5lTWFuYWdlck1vZHVsZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNjZW5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZXh0U2NlbmUgPSBudWxsO1xuICAgIH1cblxuICAgIC8v5Yqg6L295Zy65pmvXG4gICAgbG9hZFNjZW5lKHNjZW5lb2JqKSB7XG4gICAgICAgIHRoaXMubmV4dFNjZW5lID0gc2NlbmVvYmogfHwgdGhpcy5uZXh0U2NlbmU7XG5cbiAgICAgICAgLy/lpoLmnpzlvZPliY3lnLrmma/kuI3kuLrnqbrvvIzpgqPkuYjosIPnlKjlvZPliY3lnLrmma/nmoTpgIDlh7rlip/og73vvIzlubbkuJTorqLpmIXlvZPliY3lnLrmma/pgIDlh7rkuovku7bvvIzku6Xkvr/op6blj5Fsb2FkTmV4dFNjZW5l5Yqg6L295LiL5LiA5Liq6ZyA6KaB5Yqg6L2955qE5Zy65pmvXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTY2VuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUodGhpcy5jdXJyZW50U2NlbmUuc2NlbmVOYW1lICsgXCJfZXhpdFwiLCB0aGlzLmxvYWROZXh0U2NlbmUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTY2VuZS5vbkV4aXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNjZW5lID0gdGhpcy5uZXh0U2NlbmU7XG4gICAgICAgICAgICAvL+a3u+WKoOWIsHN0YWdl5LiKXG4gICAgICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMuY3VycmVudFNjZW5lKTtcbiAgICAgICAgICAgIC8v5Y+R5biD5Zy65pmv5Yqg6L295LqL5Lu2XG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKHRoaXMuY3VycmVudFNjZW5lLnNjZW5lTmFtZSArIFwiX2VudGVyXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy/liqDovb3kuIvkuIDkuKrlnLrmma9cbiAgICBsb2FkTmV4dFNjZW5lKCkge1xuICAgICAgICAvL+WPlua2iOiuoumYhVxuICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZSh0aGlzLmN1cnJlbnRTY2VuZS5zY2VuZU5hbWUgKyBcIl9leGl0XCIpO1xuICAgICAgICAvL+WwhuW9k+WJjeWcuuaZr+e9ruepulxuICAgICAgICB0aGlzLmN1cnJlbnRTY2VuZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9hZFNjZW5lKCk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIENvdXJzZS9zcmMvbW9kdWxlL2NvbS9zY2VuZU1hbmFnZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///35\n");

/***/ })
/******/ ]);